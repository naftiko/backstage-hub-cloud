apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: registerresource
  description: >-
    Registers the resource as managed by the Data Catalog. To add or update
    data, Lake Formation needs read/write access to the chosen Amazon S3 path.
    Choose a role that you know has permission to do this, or choose the
    AWSServiceRoleForLakeFormationDataAccess service-linked role. When you
    register the first Amazon S3 path, the service-linked role and a new inline
    policy are created on your behalf. Lake Formation adds the first path to the
    inline policy and attaches it to the service-linked role. When you register
    subsequent paths, Lake Formation adds the path to the existing policy. The
    following request registers a new location and gives Lake Formation
    permission to use the service-linked role to access that location. 
    ResourceArn = arn:aws:s3:::my-bucket UseServiceLinkedRole = true  If
    UseServiceLinkedRole is not set to true, you must provide or set the
    RoleArn:  arn:aws:iam::12345:role/my-data-access-role 
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Registerresource
      description: >-
        Registers the resource as managed by the Data Catalog. To add or update
        data, Lake Formation needs read/write access to the chosen Amazon S3 path.
        Choose a role that you know has permission to do this, or choose the
        AWSServiceRoleForLakeFormationDataAccess service-linked role. When you
        register the first Amazon S3 path, the service-linked role and a new inline
        policy are created on your behalf. Lake Formation adds the first path to the
        inline policy and attaches it to the service-linked role. When you register
        subsequent paths, Lake Formation adds the path to the existing policy. The
        following request registers a new location and gives Lake Formation
        permission to use the service-linked role to access that location. 
        ResourceArn = arn:aws:s3:::my-bucket UseServiceLinkedRole = true  If
        UseServiceLinkedRole is not set to true, you must provide or set the
        RoleArn:  arn:aws:iam::12345:role/my-data-access-role 
    paths:
      /RegisterResource:
        POST:
          summary: Registerresource
          description: >-
            Registers the resource as managed by the Data Catalog. To add or update
            data, Lake Formation needs read/write access to the chosen Amazon S3
            path. Choose a role that you know has permission to do this, or choose
            the AWSServiceRoleForLakeFormationDataAccess service-linked role. When
            you register the first Amazon S3 path, the service-linked role and a new
            inline policy are created on your behalf. Lake Formation adds the first
            path to the inline policy and attaches it to the service-linked role.
            When you register subsequent paths, Lake Formation adds the path to the
            existing policy. The following request registers a new location and
            gives Lake Formation permission to use the service-linked role to access
            that location.  ResourceArn = arn:aws:s3:::my-bucket
            UseServiceLinkedRole = true  If UseServiceLinkedRole is not set to true,
            you must provide or set the RoleArn: 
            arn:aws:iam::12345:role/my-data-access-role 
          operationId: registerResource
