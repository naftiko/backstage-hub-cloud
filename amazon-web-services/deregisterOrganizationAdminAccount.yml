apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Deregisterorganizationadminaccount
  description: >-
    Removes the specified Amazon Web Services account as a delegated
    administrator for Audit Manager.  When you remove a delegated administrator
    from your Audit Manager settings, you continue to have access to the
    evidence that you previously collected under that account. This is also the
    case when you deregister a delegated administrator from Organizations.
    However, Audit Manager stops collecting and attaching evidence to that
    delegated administrator account moving forward.  Keep in mind the following
    cleanup task if you use evidence finder: Before you use your management
    account to remove a delegated administrator, make sure that the current
    delegated administrator account signs in to Audit Manager and disables
    evidence finder first. Disabling evidence finder automatically deletes the
    event data store that was created in their account when they enabled
    evidence finder. If this task isn’t completed, the event data store remains
    in their account. In this case, we recommend that the original delegated
    administrator goes to CloudTrail Lake and manually deletes the event data
    store. This cleanup task is necessary to ensure that you don't end up with
    multiple event data stores. Audit Manager ignores an unused event data store
    after you remove or change a delegated administrator account. However, the
    unused event data store continues to incur storage costs from CloudTrail
    Lake if you don't delete it.  When you deregister a delegated administrator
    account for Audit Manager, the data for that account isn’t deleted. If you
    want to delete resource data for a delegated administrator account, you must
    perform that task separately before you deregister the account. Either, you
    can do this in the Audit Manager console. Or, you can use one of the delete
    API operations that are provided by Audit Manager.  To delete your Audit
    Manager resource data, see the following instructions:     DeleteAssessment
    (see also: Deleting an assessment in the Audit Manager User Guide)   
    DeleteAssessmentFramework (see also: Deleting a custom framework in the
    Audit Manager User Guide)    DeleteAssessmentFrameworkShare (see also:
    Deleting a share request in the Audit Manager User Guide)   
    DeleteAssessmentReport (see also: Deleting an assessment report in the Audit
    Manager User Guide)    DeleteControl (see also: Deleting a custom control in
    the Audit Manager User Guide)   At this time, Audit Manager doesn't provide
    an option to delete evidence for a specific delegated administrator.
    Instead, when your management account deregisters Audit Manager, we perform
    a cleanup for the current delegated administrator account at the time of
    deregistration.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Deregisterorganizationadminaccount
      description: >-
        Removes the specified Amazon Web Services account as a delegated
        administrator for Audit Manager.  When you remove a delegated administrator
        from your Audit Manager settings, you continue to have access to the
        evidence that you previously collected under that account. This is also the
        case when you deregister a delegated administrator from Organizations.
        However, Audit Manager stops collecting and attaching evidence to that
        delegated administrator account moving forward.  Keep in mind the following
        cleanup task if you use evidence finder: Before you use your management
        account to remove a delegated administrator, make sure that the current
        delegated administrator account signs in to Audit Manager and disables
        evidence finder first. Disabling evidence finder automatically deletes the
        event data store that was created in their account when they enabled
        evidence finder. If this task isn’t completed, the event data store remains
        in their account. In this case, we recommend that the original delegated
        administrator goes to CloudTrail Lake and manually deletes the event data
        store. This cleanup task is necessary to ensure that you don't end up with
        multiple event data stores. Audit Manager ignores an unused event data store
        after you remove or change a delegated administrator account. However, the
        unused event data store continues to incur storage costs from CloudTrail
        Lake if you don't delete it.  When you deregister a delegated administrator
        account for Audit Manager, the data for that account isn’t deleted. If you
        want to delete resource data for a delegated administrator account, you must
        perform that task separately before you deregister the account. Either, you
        can do this in the Audit Manager console. Or, you can use one of the delete
        API operations that are provided by Audit Manager.  To delete your Audit
        Manager resource data, see the following instructions:     DeleteAssessment
        (see also: Deleting an assessment in the Audit Manager User Guide)   
        DeleteAssessmentFramework (see also: Deleting a custom framework in the
        Audit Manager User Guide)    DeleteAssessmentFrameworkShare (see also:
        Deleting a share request in the Audit Manager User Guide)   
        DeleteAssessmentReport (see also: Deleting an assessment report in the Audit
        Manager User Guide)    DeleteControl (see also: Deleting a custom control in
        the Audit Manager User Guide)   At this time, Audit Manager doesn't provide
        an option to delete evidence for a specific delegated administrator.
        Instead, when your management account deregisters Audit Manager, we perform
        a cleanup for the current delegated administrator account at the time of
        deregistration.
    paths:
      /account/deregisterOrganizationAdminAccount:
        POST:
          summary: Deregisterorganizationadminaccount
          description: >-
            Removes the specified Amazon Web Services account as a delegated
            administrator for Audit Manager.  When you remove a delegated
            administrator from your Audit Manager settings, you continue to have
            access to the evidence that you previously collected under that account.
            This is also the case when you deregister a delegated administrator from
            Organizations. However, Audit Manager stops collecting and attaching
            evidence to that delegated administrator account moving forward.  Keep
            in mind the following cleanup task if you use evidence finder: Before
            you use your management account to remove a delegated administrator,
            make sure that the current delegated administrator account signs in to
            Audit Manager and disables evidence finder first. Disabling evidence
            finder automatically deletes the event data store that was created in
            their account when they enabled evidence finder. If this task isn’t
            completed, the event data store remains in their account. In this case,
            we recommend that the original delegated administrator goes to
            CloudTrail Lake and manually deletes the event data store. This cleanup
            task is necessary to ensure that you don't end up with multiple event
            data stores. Audit Manager ignores an unused event data store after you
            remove or change a delegated administrator account. However, the unused
            event data store continues to incur storage costs from CloudTrail Lake
            if you don't delete it.  When you deregister a delegated administrator
            account for Audit Manager, the data for that account isn’t deleted. If
            you want to delete resource data for a delegated administrator account,
            you must perform that task separately before you deregister the account.
            Either, you can do this in the Audit Manager console. Or, you can use
            one of the delete API operations that are provided by Audit Manager.  To
            delete your Audit Manager resource data, see the following
            instructions:     DeleteAssessment (see also: Deleting an assessment in
            the Audit Manager User Guide)    DeleteAssessmentFramework (see also:
            Deleting a custom framework in the Audit Manager User Guide)   
            DeleteAssessmentFrameworkShare (see also: Deleting a share request in
            the Audit Manager User Guide)    DeleteAssessmentReport (see also:
            Deleting an assessment report in the Audit Manager User Guide)   
            DeleteControl (see also: Deleting a custom control in the Audit Manager
            User Guide)   At this time, Audit Manager doesn't provide an option to
            delete evidence for a specific delegated administrator. Instead, when
            your management account deregisters Audit Manager, we perform a cleanup
            for the current delegated administrator account at the time of
            deregistration.
          operationId: deregisterOrganizationAdminAccount
