apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: amazonWebServicesPromotePermissionCreatedFromPolicy
  description: >-
    When you attach a resource-based policy to a resource, RAM automatically
    creates a resource share of featureSet=CREATED_FROM_POLICY with a managed
    permission that has the same IAM permissions as the original resource-based
    policy. However, this type of managed permission is visible to only the
    resource share owner, and the associated resource share can't be modified by
    using RAM. This operation creates a separate, fully manageable customer
    managed permission that has the same IAM permissions as the original
    resource-based policy. You can associate this customer managed permission to
    any resource shares. Before you use PromoteResourceShareCreatedFromPolicy,
    you should first run this operation to ensure that you have an appropriate
    customer managed permission that can be associated with the promoted
    resource share.    The original CREATED_FROM_POLICY policy isn't deleted,
    and resource shares using that original policy aren't automatically
    updated.   You can't modify a CREATED_FROM_POLICY resource share so you
    can't associate the new customer managed permission by using
    ReplacePermsissionAssociations. However, if you use
    PromoteResourceShareCreatedFromPolicy, that operation automatically
    associates the fully manageable customer managed permission to the newly
    promoted STANDARD resource share.   After you promote a resource share, if
    the original CREATED_FROM_POLICY managed permission has no other
    associations to A resource share, then RAM automatically deletes it.   
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Promotepermissioncreatedfrompolicy
      description: >-
        When you attach a resource-based policy to a resource, RAM automatically
        creates a resource share of featureSet=CREATED_FROM_POLICY with a managed
        permission that has the same IAM permissions as the original resource-based
        policy. However, this type of managed permission is visible to only the
        resource share owner, and the associated resource share can't be modified by
        using RAM. This operation creates a separate, fully manageable customer
        managed permission that has the same IAM permissions as the original
        resource-based policy. You can associate this customer managed permission to
        any resource shares. Before you use PromoteResourceShareCreatedFromPolicy,
        you should first run this operation to ensure that you have an appropriate
        customer managed permission that can be associated with the promoted
        resource share.    The original CREATED_FROM_POLICY policy isn't deleted,
        and resource shares using that original policy aren't automatically
        updated.   You can't modify a CREATED_FROM_POLICY resource share so you
        can't associate the new customer managed permission by using
        ReplacePermsissionAssociations. However, if you use
        PromoteResourceShareCreatedFromPolicy, that operation automatically
        associates the fully manageable customer managed permission to the newly
        promoted STANDARD resource share.   After you promote a resource share, if
        the original CREATED_FROM_POLICY managed permission has no other
        associations to A resource share, then RAM automatically deletes it.   
    paths:
      /promotepermissioncreatedfrompolicy:
        POST:
          summary: Promotepermissioncreatedfrompolicy
          description: >-
            When you attach a resource-based policy to a resource, RAM automatically
            creates a resource share of featureSet=CREATED_FROM_POLICY with a
            managed permission that has the same IAM permissions as the original
            resource-based policy. However, this type of managed permission is
            visible to only the resource share owner, and the associated resource
            share can't be modified by using RAM. This operation creates a separate,
            fully manageable customer managed permission that has the same IAM
            permissions as the original resource-based policy. You can associate
            this customer managed permission to any resource shares. Before you use
            PromoteResourceShareCreatedFromPolicy, you should first run this
            operation to ensure that you have an appropriate customer managed
            permission that can be associated with the promoted resource share.   
            The original CREATED_FROM_POLICY policy isn't deleted, and resource
            shares using that original policy aren't automatically updated.   You
            can't modify a CREATED_FROM_POLICY resource share so you can't associate
            the new customer managed permission by using
            ReplacePermsissionAssociations. However, if you use
            PromoteResourceShareCreatedFromPolicy, that operation automatically
            associates the fully manageable customer managed permission to the newly
            promoted STANDARD resource share.   After you promote a resource share,
            if the original CREATED_FROM_POLICY managed permission has no other
            associations to A resource share, then RAM automatically deletes it.   
          operationId: amazonWebServicesPromotePermissionCreatedFromPolicy
