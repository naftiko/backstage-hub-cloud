apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Listfragments
  description: >-
    Returns a list of Fragment objects from the specified stream and timestamp
    range within the archived data. Listing fragments is eventually consistent.
    This means that even if the producer receives an acknowledgment that a
    fragment is persisted, the result might not be returned immediately from a
    request to ListFragments. However, results are typically available in less
    than one second.  You must first call the GetDataEndpoint API to get an
    endpoint. Then send the ListFragments requests to this endpoint using the
    --endpoint-url parameter.    If an error is thrown after invoking a Kinesis
    Video Streams archived media API, in addition to the HTTP status code and
    the response body, it includes the following pieces of information:    
    x-amz-ErrorType HTTP header – contains a more specific error type in
    addition to what the HTTP status code provides.     x-amz-RequestId HTTP
    header – if you want to report an issue to Amazon Web Services, the support
    team can better diagnose the problem if given the Request Id.   Both the
    HTTP status code and the ErrorType header can be utilized to make
    programmatic decisions about whether errors are retry-able and under what
    conditions, as well as provide information on what actions the client
    programmer might need to take in order to successfully try again. For more
    information, see the Errors section at the bottom of this topic, as well as
    Common Errors.  
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Listfragments
      description: >-
        Returns a list of Fragment objects from the specified stream and timestamp
        range within the archived data. Listing fragments is eventually consistent.
        This means that even if the producer receives an acknowledgment that a
        fragment is persisted, the result might not be returned immediately from a
        request to ListFragments. However, results are typically available in less
        than one second.  You must first call the GetDataEndpoint API to get an
        endpoint. Then send the ListFragments requests to this endpoint using the
        --endpoint-url parameter.    If an error is thrown after invoking a Kinesis
        Video Streams archived media API, in addition to the HTTP status code and
        the response body, it includes the following pieces of information:    
        x-amz-ErrorType HTTP header – contains a more specific error type in
        addition to what the HTTP status code provides.     x-amz-RequestId HTTP
        header – if you want to report an issue to Amazon Web Services, the support
        team can better diagnose the problem if given the Request Id.   Both the
        HTTP status code and the ErrorType header can be utilized to make
        programmatic decisions about whether errors are retry-able and under what
        conditions, as well as provide information on what actions the client
        programmer might need to take in order to successfully try again. For more
        information, see the Errors section at the bottom of this topic, as well as
        Common Errors.  
    paths:
      /listFragments:
        POST:
          summary: Listfragments
          description: >-
            Returns a list of Fragment objects from the specified stream and
            timestamp range within the archived data. Listing fragments is
            eventually consistent. This means that even if the producer receives an
            acknowledgment that a fragment is persisted, the result might not be
            returned immediately from a request to ListFragments. However, results
            are typically available in less than one second.  You must first call
            the GetDataEndpoint API to get an endpoint. Then send the ListFragments
            requests to this endpoint using the --endpoint-url parameter.    If an
            error is thrown after invoking a Kinesis Video Streams archived media
            API, in addition to the HTTP status code and the response body, it
            includes the following pieces of information:     x-amz-ErrorType HTTP
            header – contains a more specific error type in addition to what the
            HTTP status code provides.     x-amz-RequestId HTTP header – if you want
            to report an issue to Amazon Web Services, the support team can better
            diagnose the problem if given the Request Id.   Both the HTTP status
            code and the ErrorType header can be utilized to make programmatic
            decisions about whether errors are retry-able and under what conditions,
            as well as provide information on what actions the client programmer
            might need to take in order to successfully try again. For more
            information, see the Errors section at the bottom of this topic, as well
            as Common Errors.  
          operationId: listFragments
