apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Invokeendpointwithresponsestream
  description: >-
    Invokes a model at the specified endpoint to return the inference response
    as a stream. The inference stream provides the response payload
    incrementally as a series of parts. Before you can get an inference stream,
    you must have access to a model that's deployed using Amazon SageMaker
    hosting services, and the container for that model must support inference
    streaming. For more information that can help you use this API, see the
    following sections in the Amazon SageMaker Developer Guide:   For
    information about how to add streaming support to a model, see How
    Containers Serve Requests.   For information about how to process the
    streaming response, see Invoke real-time endpoints.   Before you can use
    this operation, your IAM permissions must allow the sagemaker:InvokeEndpoint
    action. For more information about Amazon SageMaker actions for IAM
    policies, see Actions, resources, and condition keys for Amazon SageMaker in
    the IAM Service Authorization Reference. Amazon SageMaker strips all POST
    headers except those supported by the API. Amazon SageMaker might add
    additional headers. You should not rely on the behavior of headers outside
    those enumerated in the request syntax.  Calls to
    InvokeEndpointWithResponseStream are authenticated by using Amazon Web
    Services Signature Version 4. For information, see Authenticating Requests
    (Amazon Web Services Signature Version 4) in the Amazon S3 API Reference.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Invokeendpointwithresponsestream
      description: >-
        Invokes a model at the specified endpoint to return the inference response
        as a stream. The inference stream provides the response payload
        incrementally as a series of parts. Before you can get an inference stream,
        you must have access to a model that's deployed using Amazon SageMaker
        hosting services, and the container for that model must support inference
        streaming. For more information that can help you use this API, see the
        following sections in the Amazon SageMaker Developer Guide:   For
        information about how to add streaming support to a model, see How
        Containers Serve Requests.   For information about how to process the
        streaming response, see Invoke real-time endpoints.   Before you can use
        this operation, your IAM permissions must allow the sagemaker:InvokeEndpoint
        action. For more information about Amazon SageMaker actions for IAM
        policies, see Actions, resources, and condition keys for Amazon SageMaker in
        the IAM Service Authorization Reference. Amazon SageMaker strips all POST
        headers except those supported by the API. Amazon SageMaker might add
        additional headers. You should not rely on the behavior of headers outside
        those enumerated in the request syntax.  Calls to
        InvokeEndpointWithResponseStream are authenticated by using Amazon Web
        Services Signature Version 4. For information, see Authenticating Requests
        (Amazon Web Services Signature Version 4) in the Amazon S3 API Reference.
    paths:
      /endpoints/{EndpointName}/invocations-response-stream:
        POST:
          summary: Invokeendpointwithresponsestream
          description: >-
            Invokes a model at the specified endpoint to return the inference
            response as a stream. The inference stream provides the response payload
            incrementally as a series of parts. Before you can get an inference
            stream, you must have access to a model that's deployed using Amazon
            SageMaker hosting services, and the container for that model must
            support inference streaming. For more information that can help you use
            this API, see the following sections in the Amazon SageMaker Developer
            Guide:   For information about how to add streaming support to a model,
            see How Containers Serve Requests.   For information about how to
            process the streaming response, see Invoke real-time endpoints.   Before
            you can use this operation, your IAM permissions must allow the
            sagemaker:InvokeEndpoint action. For more information about Amazon
            SageMaker actions for IAM policies, see Actions, resources, and
            condition keys for Amazon SageMaker in the IAM Service Authorization
            Reference. Amazon SageMaker strips all POST headers except those
            supported by the API. Amazon SageMaker might add additional headers. You
            should not rely on the behavior of headers outside those enumerated in
            the request syntax.  Calls to InvokeEndpointWithResponseStream are
            authenticated by using Amazon Web Services Signature Version 4. For
            information, see Authenticating Requests (Amazon Web Services Signature
            Version 4) in the Amazon S3 API Reference.
          operationId: invokeEndpointWithResponseStream
