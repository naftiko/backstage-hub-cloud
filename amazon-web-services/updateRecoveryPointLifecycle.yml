apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Updaterecoverypointlifecycle
  description: >-
    Sets the transition lifecycle of a recovery point. The lifecycle defines
    when a protected resource is transitioned to cold storage and when it
    expires. Backup transitions and expires backups automatically according to
    the lifecycle that you define. Backups transitioned to cold storage must be
    stored in cold storage for a minimum of 90 days. Therefore, the “retention”
    setting must be 90 days greater than the “transition to cold after days”
    setting. The “transition to cold after days” setting cannot be changed after
    a backup has been transitioned to cold. Resource types that are able to be
    transitioned to cold storage are listed in the "Lifecycle to cold storage"
    section of the  Feature availability by resource table. Backup ignores this
    expression for other resource types. This operation does not support
    continuous backups.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Updaterecoverypointlifecycle
      description: >-
        Sets the transition lifecycle of a recovery point. The lifecycle defines
        when a protected resource is transitioned to cold storage and when it
        expires. Backup transitions and expires backups automatically according to
        the lifecycle that you define. Backups transitioned to cold storage must be
        stored in cold storage for a minimum of 90 days. Therefore, the “retention”
        setting must be 90 days greater than the “transition to cold after days”
        setting. The “transition to cold after days” setting cannot be changed after
        a backup has been transitioned to cold. Resource types that are able to be
        transitioned to cold storage are listed in the "Lifecycle to cold storage"
        section of the  Feature availability by resource table. Backup ignores this
        expression for other resource types. This operation does not support
        continuous backups.
    paths:
      /backup-vaults/{backupVaultName}/recovery-points/{recoveryPointArn}:
        POST:
          summary: Updaterecoverypointlifecycle
          description: >-
            Sets the transition lifecycle of a recovery point. The lifecycle defines
            when a protected resource is transitioned to cold storage and when it
            expires. Backup transitions and expires backups automatically according
            to the lifecycle that you define. Backups transitioned to cold storage
            must be stored in cold storage for a minimum of 90 days. Therefore, the
            “retention” setting must be 90 days greater than the “transition to cold
            after days” setting. The “transition to cold after days” setting cannot
            be changed after a backup has been transitioned to cold. Resource types
            that are able to be transitioned to cold storage are listed in the
            "Lifecycle to cold storage" section of the  Feature availability by
            resource table. Backup ignores this expression for other resource types.
            This operation does not support continuous backups.
          operationId: updateRecoveryPointLifecycle
