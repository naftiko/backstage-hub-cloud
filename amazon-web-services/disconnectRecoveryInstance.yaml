apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: disconnectrecoveryinstance
  description: >-
    Disconnect a Recovery Instance from Elastic Disaster Recovery. Data
    replication is stopped immediately. All AWS resources created by Elastic
    Disaster Recovery for enabling the replication of the Recovery Instance will
    be terminated / deleted within 90 minutes. If the agent on the Recovery
    Instance has not been prevented from communicating with the Elastic Disaster
    Recovery service, then it will receive a command to uninstall itself (within
    approximately 10 minutes). The following properties of the Recovery Instance
    will be changed immediately: dataReplicationInfo.dataReplicationState will
    be set to DISCONNECTED; The totalStorageBytes property for each of
    dataReplicationInfo.replicatedDisks will be set to zero;
    dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will be
    nullified.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Disconnectrecoveryinstance
      description: >-
        Disconnect a Recovery Instance from Elastic Disaster Recovery. Data
        replication is stopped immediately. All AWS resources created by Elastic
        Disaster Recovery for enabling the replication of the Recovery Instance will
        be terminated / deleted within 90 minutes. If the agent on the Recovery
        Instance has not been prevented from communicating with the Elastic Disaster
        Recovery service, then it will receive a command to uninstall itself (within
        approximately 10 minutes). The following properties of the Recovery Instance
        will be changed immediately: dataReplicationInfo.dataReplicationState will
        be set to DISCONNECTED; The totalStorageBytes property for each of
        dataReplicationInfo.replicatedDisks will be set to zero;
        dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will be
        nullified.
    paths:
      /DisconnectRecoveryInstance:
        POST:
          summary: Disconnectrecoveryinstance
          description: >-
            Disconnect a Recovery Instance from Elastic Disaster Recovery. Data
            replication is stopped immediately. All AWS resources created by Elastic
            Disaster Recovery for enabling the replication of the Recovery Instance
            will be terminated / deleted within 90 minutes. If the agent on the
            Recovery Instance has not been prevented from communicating with the
            Elastic Disaster Recovery service, then it will receive a command to
            uninstall itself (within approximately 10 minutes). The following
            properties of the Recovery Instance will be changed immediately:
            dataReplicationInfo.dataReplicationState will be set to DISCONNECTED;
            The totalStorageBytes property for each of
            dataReplicationInfo.replicatedDisks will be set to zero;
            dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will
            be nullified.
          operationId: disconnectRecoveryInstance
