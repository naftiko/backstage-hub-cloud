apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: validateresourcepolicy
  description: >-
    Validates that a resource policy does not grant a wide range of principals
    access to your secret. A resource-based policy is optional for secrets. The
    API performs three checks when validating the policy:   Sends a call to
    Zelkova, an automated reasoning engine, to ensure your resource policy does
    not allow broad access to your secret, for example policies that use a
    wildcard for the principal.   Checks for correct syntax in a policy.  
    Verifies the policy does not lock out a caller.   Secrets Manager generates
    a CloudTrail log entry when you call this action. Do not include sensitive
    information in request parameters because it might be logged. For more
    information, see Logging Secrets Manager events with CloudTrail.  Required
    permissions:  secretsmanager:ValidateResourcePolicy and
    secretsmanager:PutResourcePolicy. For more information, see  IAM policy
    actions for Secrets Manager and Authentication and access control in Secrets
    Manager. 
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Validateresourcepolicy
      description: >-
        Validates that a resource policy does not grant a wide range of principals
        access to your secret. A resource-based policy is optional for secrets. The
        API performs three checks when validating the policy:   Sends a call to
        Zelkova, an automated reasoning engine, to ensure your resource policy does
        not allow broad access to your secret, for example policies that use a
        wildcard for the principal.   Checks for correct syntax in a policy.  
        Verifies the policy does not lock out a caller.   Secrets Manager generates
        a CloudTrail log entry when you call this action. Do not include sensitive
        information in request parameters because it might be logged. For more
        information, see Logging Secrets Manager events with CloudTrail.  Required
        permissions:  secretsmanager:ValidateResourcePolicy and
        secretsmanager:PutResourcePolicy. For more information, see  IAM policy
        actions for Secrets Manager and Authentication and access control in Secrets
        Manager. 
    paths:
      /:
        POST:
          summary: Validateresourcepolicy
          description: >-
            Validates that a resource policy does not grant a wide range of
            principals access to your secret. A resource-based policy is optional
            for secrets. The API performs three checks when validating the policy:  
            Sends a call to Zelkova, an automated reasoning engine, to ensure your
            resource policy does not allow broad access to your secret, for example
            policies that use a wildcard for the principal.   Checks for correct
            syntax in a policy.   Verifies the policy does not lock out a caller.  
            Secrets Manager generates a CloudTrail log entry when you call this
            action. Do not include sensitive information in request parameters
            because it might be logged. For more information, see Logging Secrets
            Manager events with CloudTrail.  Required permissions: 
            secretsmanager:ValidateResourcePolicy and
            secretsmanager:PutResourcePolicy. For more information, see  IAM policy
            actions for Secrets Manager and Authentication and access control in
            Secrets Manager. 
          operationId: validateResourcePolicy
