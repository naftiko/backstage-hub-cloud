apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: amazonWebServicesUploadPartCopy
  description: >-
    Uploads a part by copying data from an existing object as data source. To
    specify the data source, you add the request header x-amz-copy-source in
    your request. To specify a byte range, you add the request header
    x-amz-copy-source-range in your request.  For information about maximum and
    minimum part sizes and other multipart upload specifications, see Multipart
    upload limits in the Amazon S3 User Guide.   Instead of copying data from an
    existing object as part data, you might use the UploadPart action to upload
    new data as a part of an object in your request.  You must initiate a
    multipart upload before you can upload any part. In response to your
    initiate request, Amazon S3 returns the upload ID, a unique identifier that
    you must include in your upload part request. For conceptual information
    about multipart uploads, see Uploading Objects Using Multipart Upload in the
    Amazon S3 User Guide. For information about copying objects using a single
    atomic action vs. a multipart upload, see Operations on Objects in the
    Amazon S3 User Guide.   Directory buckets - For directory buckets, you must
    make requests for this API operation to the Zonal endpoint. These endpoints
    support virtual-hosted-style requests in the format
    https://bucket_name.s3express-az_id.region.amazonaws.com/key-name .
    Path-style requests are not supported. For more information, see Regional
    and Zonal endpoints in the Amazon S3 User Guide.   Authentication and
    authorization  All UploadPartCopy requests must be authenticated and signed
    by using IAM credentials (access key ID and secret access key for the IAM
    identities). All headers with the x-amz- prefix, including
    x-amz-copy-source, must be signed. For more information, see REST
    Authentication.  Directory buckets - You must use IAM credentials to
    authenticate and authorize your access to the UploadPartCopy API operation,
    instead of using the temporary security credentials through the
    CreateSession API operation. Amazon Web Services CLI or SDKs handles
    authentication and authorization on your behalf.  Permissions  You must have
    READ access to the source object and WRITE access to the destination
    bucket.    General purpose bucket permissions - You must have the
    permissions in a policy based on the bucket types of your source bucket and
    destination bucket in an UploadPartCopy operation.   If the source object is
    in a general purpose bucket, you must have the  s3:GetObject  permission to
    read the source object that is being copied.    If the destination bucket is
    a general purpose bucket, you must have the  s3:PubObject  permission to
    write the object copy to the destination bucket.    For information about
    permissions required to use the multipart upload API, see Multipart Upload
    and Permissions in the Amazon S3 User Guide.    Directory bucket permissions
    - You must have permissions in a bucket policy or an IAM identity-based
    policy based on the source and destination bucket types in an UploadPartCopy
    operation.   If the source object that you want to copy is in a directory
    bucket, you must have the  s3express:CreateSession  permission in the Action
    element of a policy to read the object . By default, the session is in the
    ReadWrite mode. If you want to restrict the access, you can explicitly set
    the s3express:SessionMode condition key to ReadOnly on the copy source
    bucket.   If the copy destination is a directory bucket, you must have the 
    s3express:CreateSession  permission in the Action element of a policy to
    write the object to the destination. The s3express:SessionMode condition key
    cannot be set to ReadOnly on the copy destination.    For example policies,
    see Example bucket policies for S3 Express One Zone and Amazon Web Services
    Identity and Access Management (IAM) identity-based policies for S3 Express
    One Zone in the Amazon S3 User Guide.    Encryption     General purpose
    buckets  - For information about using server-side encryption with
    customer-provided encryption keys with the UploadPartCopy operation, see
    CopyObject and UploadPart.     Directory buckets  - For directory buckets,
    only server-side encryption with Amazon S3 managed keys (SSE-S3) (AES256) is
    supported.    Special errors    Error Code: NoSuchUpload    Description: The
    specified multipart upload does not exist. The upload ID might be invalid,
    or the multipart upload might have been aborted or completed.   HTTP Status
    Code: 404 Not Found     Error Code: InvalidRequest    Description: The
    specified copy source is not supported as a byte-range copy source.   HTTP
    Status Code: 400 Bad Request      HTTP Host header syntax   Directory
    buckets  - The HTTP Host header syntax is 
    Bucket_name.s3express-az_id.region.amazonaws.com.   The following operations
    are related to UploadPartCopy:    CreateMultipartUpload     UploadPart    
    CompleteMultipartUpload     AbortMultipartUpload     ListParts    
    ListMultipartUploads   
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Uploadpartcopy
      description: >-
        Uploads a part by copying data from an existing object as data source. To
        specify the data source, you add the request header x-amz-copy-source in
        your request. To specify a byte range, you add the request header
        x-amz-copy-source-range in your request.  For information about maximum and
        minimum part sizes and other multipart upload specifications, see Multipart
        upload limits in the Amazon S3 User Guide.   Instead of copying data from an
        existing object as part data, you might use the UploadPart action to upload
        new data as a part of an object in your request.  You must initiate a
        multipart upload before you can upload any part. In response to your
        initiate request, Amazon S3 returns the upload ID, a unique identifier that
        you must include in your upload part request. For conceptual information
        about multipart uploads, see Uploading Objects Using Multipart Upload in the
        Amazon S3 User Guide. For information about copying objects using a single
        atomic action vs. a multipart upload, see Operations on Objects in the
        Amazon S3 User Guide.   Directory buckets - For directory buckets, you must
        make requests for this API operation to the Zonal endpoint. These endpoints
        support virtual-hosted-style requests in the format
        https://bucket_name.s3express-az_id.region.amazonaws.com/key-name .
        Path-style requests are not supported. For more information, see Regional
        and Zonal endpoints in the Amazon S3 User Guide.   Authentication and
        authorization  All UploadPartCopy requests must be authenticated and signed
        by using IAM credentials (access key ID and secret access key for the IAM
        identities). All headers with the x-amz- prefix, including
        x-amz-copy-source, must be signed. For more information, see REST
        Authentication.  Directory buckets - You must use IAM credentials to
        authenticate and authorize your access to the UploadPartCopy API operation,
        instead of using the temporary security credentials through the
        CreateSession API operation. Amazon Web Services CLI or SDKs handles
        authentication and authorization on your behalf.  Permissions  You must have
        READ access to the source object and WRITE access to the destination
        bucket.    General purpose bucket permissions - You must have the
        permissions in a policy based on the bucket types of your source bucket and
        destination bucket in an UploadPartCopy operation.   If the source object is
        in a general purpose bucket, you must have the  s3:GetObject  permission to
        read the source object that is being copied.    If the destination bucket is
        a general purpose bucket, you must have the  s3:PubObject  permission to
        write the object copy to the destination bucket.    For information about
        permissions required to use the multipart upload API, see Multipart Upload
        and Permissions in the Amazon S3 User Guide.    Directory bucket permissions
        - You must have permissions in a bucket policy or an IAM identity-based
        policy based on the source and destination bucket types in an UploadPartCopy
        operation.   If the source object that you want to copy is in a directory
        bucket, you must have the  s3express:CreateSession  permission in the Action
        element of a policy to read the object . By default, the session is in the
        ReadWrite mode. If you want to restrict the access, you can explicitly set
        the s3express:SessionMode condition key to ReadOnly on the copy source
        bucket.   If the copy destination is a directory bucket, you must have the 
        s3express:CreateSession  permission in the Action element of a policy to
        write the object to the destination. The s3express:SessionMode condition key
        cannot be set to ReadOnly on the copy destination.    For example policies,
        see Example bucket policies for S3 Express One Zone and Amazon Web Services
        Identity and Access Management (IAM) identity-based policies for S3 Express
        One Zone in the Amazon S3 User Guide.    Encryption     General purpose
        buckets  - For information about using server-side encryption with
        customer-provided encryption keys with the UploadPartCopy operation, see
        CopyObject and UploadPart.     Directory buckets  - For directory buckets,
        only server-side encryption with Amazon S3 managed keys (SSE-S3) (AES256) is
        supported.    Special errors    Error Code: NoSuchUpload    Description: The
        specified multipart upload does not exist. The upload ID might be invalid,
        or the multipart upload might have been aborted or completed.   HTTP Status
        Code: 404 Not Found     Error Code: InvalidRequest    Description: The
        specified copy source is not supported as a byte-range copy source.   HTTP
        Status Code: 400 Bad Request      HTTP Host header syntax   Directory
        buckets  - The HTTP Host header syntax is 
        Bucket_name.s3express-az_id.region.amazonaws.com.   The following operations
        are related to UploadPartCopy:    CreateMultipartUpload     UploadPart    
        CompleteMultipartUpload     AbortMultipartUpload     ListParts    
        ListMultipartUploads   
    paths:
      /{Bucket}/{Key+}:
        PUT:
          summary: Uploadpartcopy
          description: >-
            Uploads a part by copying data from an existing object as data source.
            To specify the data source, you add the request header x-amz-copy-source
            in your request. To specify a byte range, you add the request header
            x-amz-copy-source-range in your request.  For information about maximum
            and minimum part sizes and other multipart upload specifications, see
            Multipart upload limits in the Amazon S3 User Guide.   Instead of
            copying data from an existing object as part data, you might use the
            UploadPart action to upload new data as a part of an object in your
            request.  You must initiate a multipart upload before you can upload any
            part. In response to your initiate request, Amazon S3 returns the upload
            ID, a unique identifier that you must include in your upload part
            request. For conceptual information about multipart uploads, see
            Uploading Objects Using Multipart Upload in the Amazon S3 User Guide.
            For information about copying objects using a single atomic action vs. a
            multipart upload, see Operations on Objects in the Amazon S3 User
            Guide.   Directory buckets - For directory buckets, you must make
            requests for this API operation to the Zonal endpoint. These endpoints
            support virtual-hosted-style requests in the format
            https://bucket_name.s3express-az_id.region.amazonaws.com/key-name .
            Path-style requests are not supported. For more information, see
            Regional and Zonal endpoints in the Amazon S3 User Guide.  
            Authentication and authorization  All UploadPartCopy requests must be
            authenticated and signed by using IAM credentials (access key ID and
            secret access key for the IAM identities). All headers with the x-amz-
            prefix, including x-amz-copy-source, must be signed. For more
            information, see REST Authentication.  Directory buckets - You must use
            IAM credentials to authenticate and authorize your access to the
            UploadPartCopy API operation, instead of using the temporary security
            credentials through the CreateSession API operation. Amazon Web Services
            CLI or SDKs handles authentication and authorization on your behalf. 
            Permissions  You must have READ access to the source object and WRITE
            access to the destination bucket.    General purpose bucket permissions
            - You must have the permissions in a policy based on the bucket types of
            your source bucket and destination bucket in an UploadPartCopy
            operation.   If the source object is in a general purpose bucket, you
            must have the  s3:GetObject  permission to read the source object that
            is being copied.    If the destination bucket is a general purpose
            bucket, you must have the  s3:PubObject  permission to write the object
            copy to the destination bucket.    For information about permissions
            required to use the multipart upload API, see Multipart Upload and
            Permissions in the Amazon S3 User Guide.    Directory bucket permissions
            - You must have permissions in a bucket policy or an IAM identity-based
            policy based on the source and destination bucket types in an
            UploadPartCopy operation.   If the source object that you want to copy
            is in a directory bucket, you must have the  s3express:CreateSession 
            permission in the Action element of a policy to read the object . By
            default, the session is in the ReadWrite mode. If you want to restrict
            the access, you can explicitly set the s3express:SessionMode condition
            key to ReadOnly on the copy source bucket.   If the copy destination is
            a directory bucket, you must have the  s3express:CreateSession 
            permission in the Action element of a policy to write the object to the
            destination. The s3express:SessionMode condition key cannot be set to
            ReadOnly on the copy destination.    For example policies, see Example
            bucket policies for S3 Express One Zone and Amazon Web Services Identity
            and Access Management (IAM) identity-based policies for S3 Express One
            Zone in the Amazon S3 User Guide.    Encryption     General purpose
            buckets  - For information about using server-side encryption with
            customer-provided encryption keys with the UploadPartCopy operation, see
            CopyObject and UploadPart.     Directory buckets  - For directory
            buckets, only server-side encryption with Amazon S3 managed keys
            (SSE-S3) (AES256) is supported.    Special errors    Error Code:
            NoSuchUpload    Description: The specified multipart upload does not
            exist. The upload ID might be invalid, or the multipart upload might
            have been aborted or completed.   HTTP Status Code: 404 Not Found    
            Error Code: InvalidRequest    Description: The specified copy source is
            not supported as a byte-range copy source.   HTTP Status Code: 400 Bad
            Request      HTTP Host header syntax   Directory buckets  - The HTTP
            Host header syntax is 
            Bucket_name.s3express-az_id.region.amazonaws.com.   The following
            operations are related to UploadPartCopy:    CreateMultipartUpload    
            UploadPart     CompleteMultipartUpload     AbortMultipartUpload    
            ListParts     ListMultipartUploads   
          operationId: amazonWebServicesUploadPartCopy
