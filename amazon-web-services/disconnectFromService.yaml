apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: disconnectfromservice
  description: >-
    Disconnects specific Source Servers from Application Migration Service. Data
    replication is stopped immediately. All AWS resources created by Application
    Migration Service for enabling the replication of these source servers will
    be terminated / deleted within 90 minutes. Launched Test or Cutover
    instances will NOT be terminated. If the agent on the source server has not
    been prevented from communicating with the Application Migration Service
    service, then it will receive a command to uninstall itself (within
    approximately 10 minutes). The following properties of the SourceServer will
    be changed immediately: dataReplicationInfo.dataReplicationState will be set
    to DISCONNECTED; The totalStorageBytes property for each of
    dataReplicationInfo.replicatedDisks will be set to zero;
    dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will be
    nullified.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Disconnectfromservice
      description: >-
        Disconnects specific Source Servers from Application Migration Service. Data
        replication is stopped immediately. All AWS resources created by Application
        Migration Service for enabling the replication of these source servers will
        be terminated / deleted within 90 minutes. Launched Test or Cutover
        instances will NOT be terminated. If the agent on the source server has not
        been prevented from communicating with the Application Migration Service
        service, then it will receive a command to uninstall itself (within
        approximately 10 minutes). The following properties of the SourceServer will
        be changed immediately: dataReplicationInfo.dataReplicationState will be set
        to DISCONNECTED; The totalStorageBytes property for each of
        dataReplicationInfo.replicatedDisks will be set to zero;
        dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will be
        nullified.
    paths:
      /DisconnectFromService:
        POST:
          summary: Disconnectfromservice
          description: >-
            Disconnects specific Source Servers from Application Migration Service.
            Data replication is stopped immediately. All AWS resources created by
            Application Migration Service for enabling the replication of these
            source servers will be terminated / deleted within 90 minutes. Launched
            Test or Cutover instances will NOT be terminated. If the agent on the
            source server has not been prevented from communicating with the
            Application Migration Service service, then it will receive a command to
            uninstall itself (within approximately 10 minutes). The following
            properties of the SourceServer will be changed immediately:
            dataReplicationInfo.dataReplicationState will be set to DISCONNECTED;
            The totalStorageBytes property for each of
            dataReplicationInfo.replicatedDisks will be set to zero;
            dataReplicationInfo.lagDuration and dataReplicationInfo.lagDuration will
            be nullified.
          operationId: disconnectFromService
