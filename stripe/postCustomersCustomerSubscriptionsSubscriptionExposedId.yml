apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Customers Customer Subscriptions Subscription_exposed_id
  description: >-
    Updates an existing subscription on a customer to match the specified
    parameters. When changing plans or quantities, we will optionally prorate
    the price we charge next month to make up for any price changes. To preview
    how the proration will be calculated, use the upcoming invoice endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Customers Customer Subscriptions Subscription_exposed_id
      description: >-
        Updates an existing subscription on a customer to match the specified
        parameters. When changing plans or quantities, we will optionally prorate
        the price we charge next month to make up for any price changes. To preview
        how the proration will be calculated, use the upcoming invoice endpoint.
    paths:
      /v1/customers/{customer}/subscriptions/{subscription_exposed_id}:
        post:
          summary: Post Customers Customer Subscriptions Subscription_exposed_id
          description: >-
            Updates an existing subscription on a customer to match the specified
            parameters. When changing plans or quantities, we will optionally
            prorate the price we charge next month to make up for any price changes.
            To preview how the proration will be calculated, use the upcoming
            invoice endpoint.
          operationId: postCustomersCustomerSubscriptionsSubscriptionExposedId
          requestBody:
            content:
              application/x-www-form-urlencoded:
                encoding:
                  add_invoice_items:
                    explode: true
                    style: deepObject
                  automatic_tax:
                    explode: true
                    style: deepObject
                  billing_thresholds:
                    explode: true
                    style: deepObject
                  cancel_at:
                    explode: true
                    style: deepObject
                  cancellation_details:
                    explode: true
                    style: deepObject
                  default_source:
                    explode: true
                    style: deepObject
                  default_tax_rates:
                    explode: true
                    style: deepObject
                  expand:
                    explode: true
                    style: deepObject
                  items:
                    explode: true
                    style: deepObject
                  metadata:
                    explode: true
                    style: deepObject
                  pause_collection:
                    explode: true
                    style: deepObject
                  payment_settings:
                    explode: true
                    style: deepObject
                  pending_invoice_item_interval:
                    explode: true
                    style: deepObject
                  transfer_data:
                    explode: true
                    style: deepObject
                  trial_end:
                    explode: true
                    style: deepObject
                  trial_settings:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: >-
                    #/components/schemas/PostCustomersCustomerSubscriptionsSubscriptionExposedIdRequest
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
