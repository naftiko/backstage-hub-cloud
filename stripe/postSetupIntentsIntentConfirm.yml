apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Setup_intents Intent Confirm
  description: >-
    Confirm that your customer intends to set up the current orprovided payment
    method. For example, you would confirm a SetupIntentwhen a customer hits the
    “Save” button on a payment method managementpage on your website.If the
    selected payment method does not require any additionalsteps from the
    customer, the SetupIntent will transition to thesucceeded status.Otherwise,
    it will transition to the requires_action status andsuggest additional
    actions via next_action. If setup fails,the SetupIntent will transition to
    therequires_payment_method status or the canceled status if theconfirmation
    limit is reached.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Setup_intents Intent Confirm
      description: >-
        Confirm that your customer intends to set up the current orprovided payment
        method. For example, you would confirm a SetupIntentwhen a customer hits the
        “Save” button on a payment method managementpage on your website.If the
        selected payment method does not require any additionalsteps from the
        customer, the SetupIntent will transition to thesucceeded status.Otherwise,
        it will transition to the requires_action status andsuggest additional
        actions via next_action. If setup fails,the SetupIntent will transition to
        therequires_payment_method status or the canceled status if theconfirmation
        limit is reached.
    paths:
      /v1/setup_intents/{intent}/confirm:
        post:
          summary: Post Setup_intents Intent Confirm
          description: >-
            Confirm that your customer intends to set up the current orprovided
            payment method. For example, you would confirm a SetupIntentwhen a
            customer hits the “Save” button on a payment method managementpage on
            your website.If the selected payment method does not require any
            additionalsteps from the customer, the SetupIntent will transition to
            thesucceeded status.Otherwise, it will transition to the requires_action
            status andsuggest additional actions via next_action. If setup fails,the
            SetupIntent will transition to therequires_payment_method status or the
            canceled status if theconfirmation limit is reached.
          operationId: postSetupIntentsIntentConfirm
          requestBody:
            content:
              application/x-www-form-urlencoded:
                encoding:
                  expand:
                    explode: true
                    style: deepObject
                  mandate_data:
                    explode: true
                    style: deepObject
                  payment_method_data:
                    explode: true
                    style: deepObject
                  payment_method_options:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: '#/components/schemas/PostSetupIntentsIntentConfirmRequest'
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
