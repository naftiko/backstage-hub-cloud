apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Customers Customer
  description: >-
    Updates the specified customer by setting the values of the parameters
    passed. Any parameters not provided will be left unchanged. For example, if
    you pass the source parameter, that becomes the customer’s active source
    (e.g., a card) to be used for all charges in the future. When you update a
    customer to a new valid card source by passing the source parameter: for
    each of the customer’s current subscriptions, if the subscription bills
    automatically and is in the past_due state, then the latest open invoice for
    the subscription with automatic collection enabled will be retried. This
    retry will not count as an automatic retry, and will not affect the next
    regularly scheduled payment for the invoice. Changing the default_source for
    a customer will not trigger this behavior.This request accepts mostly the
    same arguments as the customer creation call.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Customers Customer
      description: >-
        Updates the specified customer by setting the values of the parameters
        passed. Any parameters not provided will be left unchanged. For example, if
        you pass the source parameter, that becomes the customer’s active source
        (e.g., a card) to be used for all charges in the future. When you update a
        customer to a new valid card source by passing the source parameter: for
        each of the customer’s current subscriptions, if the subscription bills
        automatically and is in the past_due state, then the latest open invoice for
        the subscription with automatic collection enabled will be retried. This
        retry will not count as an automatic retry, and will not affect the next
        regularly scheduled payment for the invoice. Changing the default_source for
        a customer will not trigger this behavior.This request accepts mostly the
        same arguments as the customer creation call.
    paths:
      /v1/customers/{customer}:
        post:
          summary: Post Customers Customer
          description: >-
            Updates the specified customer by setting the values of the parameters
            passed. Any parameters not provided will be left unchanged. For example,
            if you pass the source parameter, that becomes the customer’s active
            source (e.g., a card) to be used for all charges in the future. When you
            update a customer to a new valid card source by passing the source
            parameter: for each of the customer’s current subscriptions, if the
            subscription bills automatically and is in the past_due state, then the
            latest open invoice for the subscription with automatic collection
            enabled will be retried. This retry will not count as an automatic
            retry, and will not affect the next regularly scheduled payment for the
            invoice. Changing the default_source for a customer will not trigger
            this behavior.This request accepts mostly the same arguments as the
            customer creation call.
          operationId: postCustomersCustomer
          requestBody:
            content:
              application/x-www-form-urlencoded:
                encoding:
                  address:
                    explode: true
                    style: deepObject
                  bank_account:
                    explode: true
                    style: deepObject
                  card:
                    explode: true
                    style: deepObject
                  cash_balance:
                    explode: true
                    style: deepObject
                  expand:
                    explode: true
                    style: deepObject
                  invoice_settings:
                    explode: true
                    style: deepObject
                  metadata:
                    explode: true
                    style: deepObject
                  preferred_locales:
                    explode: true
                    style: deepObject
                  shipping:
                    explode: true
                    style: deepObject
                  tax:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: '#/components/schemas/PostCustomersCustomerRequest'
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
