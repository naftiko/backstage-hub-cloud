apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Payment_methods Payment_method Attach
  description: >-
    Attaches a PaymentMethod object to a Customer.To attach a new PaymentMethod
    to a customer for future payments, we recommend you use a SetupIntentor a
    PaymentIntent with setup_future_usage.These approaches will perform any
    necessary steps to set up the PaymentMethod for future payments. Using the
    /v1/payment_methods/:id/attachendpoint without first using a SetupIntent or
    PaymentIntent with setup_future_usage does not optimize the PaymentMethod
    forfuture use, which makes later declines and payment friction more
    likely.See Optimizing cards for future payments for more information about
    setting upfuture payments.To use this PaymentMethod as the default for
    invoice or subscription payments,set
    invoice_settings.default_payment_method,on the Customer to the
    PaymentMethod’s ID.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Payment_methods Payment_method Attach
      description: >-
        Attaches a PaymentMethod object to a Customer.To attach a new PaymentMethod
        to a customer for future payments, we recommend you use a SetupIntentor a
        PaymentIntent with setup_future_usage.These approaches will perform any
        necessary steps to set up the PaymentMethod for future payments. Using the
        /v1/payment_methods/:id/attachendpoint without first using a SetupIntent or
        PaymentIntent with setup_future_usage does not optimize the PaymentMethod
        forfuture use, which makes later declines and payment friction more
        likely.See Optimizing cards for future payments for more information about
        setting upfuture payments.To use this PaymentMethod as the default for
        invoice or subscription payments,set
        invoice_settings.default_payment_method,on the Customer to the
        PaymentMethod’s ID.
    paths:
      /v1/payment_methods/{payment_method}/attach:
        post:
          summary: Post Payment_methods Payment_method Attach
          description: >-
            Attaches a PaymentMethod object to a Customer.To attach a new
            PaymentMethod to a customer for future payments, we recommend you use a
            SetupIntentor a PaymentIntent with setup_future_usage.These approaches
            will perform any necessary steps to set up the PaymentMethod for future
            payments. Using the /v1/payment_methods/:id/attachendpoint without first
            using a SetupIntent or PaymentIntent with setup_future_usage does not
            optimize the PaymentMethod forfuture use, which makes later declines and
            payment friction more likely.See Optimizing cards for future payments
            for more information about setting upfuture payments.To use this
            PaymentMethod as the default for invoice or subscription payments,set
            invoice_settings.default_payment_method,on the Customer to the
            PaymentMethod’s ID.
          operationId: postPaymentMethodsPaymentMethodAttach
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                encoding:
                  expand:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: >-
                    #/components/schemas/PostPaymentMethodsPaymentMethodAttachRequest
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
