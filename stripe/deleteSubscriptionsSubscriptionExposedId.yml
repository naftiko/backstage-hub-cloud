apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Delete Subscriptions Subscription_exposed_id
  description: >-
    Cancels a customer’s subscription immediately. The customer will not be
    charged again for the subscription.Note, however, that any pending invoice
    items that you’ve created will still be charged for at the end of the
    period, unless manually deleted. If you’ve set the subscription to cancel at
    the end of the period, any pending prorations will also be left in place and
    collected at the end of the period. But if the subscription is set to cancel
    immediately, pending prorations will be removed.By default, upon
    subscription cancellation, Stripe will stop automatic collection of all
    finalized invoices for the customer. This is intended to prevent unexpected
    payment attempts after the customer has canceled a subscription. However,
    you can resume automatic collection of the invoices manually after
    subscription cancellation to have us proceed. Or, you could check for unpaid
    invoices before allowing the customer to cancel the subscription at all.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Delete Subscriptions Subscription_exposed_id
      description: >-
        Cancels a customer’s subscription immediately. The customer will not be
        charged again for the subscription.Note, however, that any pending invoice
        items that you’ve created will still be charged for at the end of the
        period, unless manually deleted. If you’ve set the subscription to cancel at
        the end of the period, any pending prorations will also be left in place and
        collected at the end of the period. But if the subscription is set to cancel
        immediately, pending prorations will be removed.By default, upon
        subscription cancellation, Stripe will stop automatic collection of all
        finalized invoices for the customer. This is intended to prevent unexpected
        payment attempts after the customer has canceled a subscription. However,
        you can resume automatic collection of the invoices manually after
        subscription cancellation to have us proceed. Or, you could check for unpaid
        invoices before allowing the customer to cancel the subscription at all.
    paths:
      /v1/subscriptions/{subscription_exposed_id}:
        delete:
          summary: Delete Subscriptions Subscription_exposed_id
          description: >-
            Cancels a customer’s subscription immediately. The customer will not be
            charged again for the subscription.Note, however, that any pending
            invoice items that you’ve created will still be charged for at the end
            of the period, unless manually deleted. If you’ve set the subscription
            to cancel at the end of the period, any pending prorations will also be
            left in place and collected at the end of the period. But if the
            subscription is set to cancel immediately, pending prorations will be
            removed.By default, upon subscription cancellation, Stripe will stop
            automatic collection of all finalized invoices for the customer. This is
            intended to prevent unexpected payment attempts after the customer has
            canceled a subscription. However, you can resume automatic collection of
            the invoices manually after subscription cancellation to have us
            proceed. Or, you could check for unpaid invoices before allowing the
            customer to cancel the subscription at all.
          operationId: deleteSubscriptionsSubscriptionExposedId
          requestBody:
            content:
              application/x-www-form-urlencoded:
                encoding:
                  cancellation_details:
                    explode: true
                    style: deepObject
                  expand:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: >-
                    #/components/schemas/DeleteSubscriptionsSubscriptionExposedIdRequest
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
