apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Identity Verification_sessions Session Redact
  description: >-
    Redact a VerificationSession to remove all collected information from
    Stripe. This will redactthe VerificationSession and all objects related to
    it, including VerificationReports, Events,request logs, etc.A
    VerificationSession object can be redacted when it is in requires_input or
    verifiedstatus. Redacting a VerificationSession in requires_actionstate will
    automatically cancel it.The redaction process may take up to four days. When
    the redaction process is in progress, theVerificationSession’s
    redaction.status field will be set to processing; when the process
    isfinished, it will change to redacted and an
    identity.verification_session.redacted eventwill be emitted.Redaction is
    irreversible. Redacted objects are still accessible in the Stripe API, but
    all thefields that contain personal data will be replaced by the string
    [redacted] or a similarplaceholder. The metadata field will also be erased.
    Redacted objects cannot be updated orused for any purpose.Learn more.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Identity Verification_sessions Session Redact
      description: >-
        Redact a VerificationSession to remove all collected information from
        Stripe. This will redactthe VerificationSession and all objects related to
        it, including VerificationReports, Events,request logs, etc.A
        VerificationSession object can be redacted when it is in requires_input or
        verifiedstatus. Redacting a VerificationSession in requires_actionstate will
        automatically cancel it.The redaction process may take up to four days. When
        the redaction process is in progress, theVerificationSession’s
        redaction.status field will be set to processing; when the process
        isfinished, it will change to redacted and an
        identity.verification_session.redacted eventwill be emitted.Redaction is
        irreversible. Redacted objects are still accessible in the Stripe API, but
        all thefields that contain personal data will be replaced by the string
        [redacted] or a similarplaceholder. The metadata field will also be erased.
        Redacted objects cannot be updated orused for any purpose.Learn more.
    paths:
      /v1/identity/verification_sessions/{session}/redact:
        post:
          summary: Post Identity Verification_sessions Session Redact
          description: >-
            Redact a VerificationSession to remove all collected information from
            Stripe. This will redactthe VerificationSession and all objects related
            to it, including VerificationReports, Events,request logs, etc.A
            VerificationSession object can be redacted when it is in requires_input
            or verifiedstatus. Redacting a VerificationSession in
            requires_actionstate will automatically cancel it.The redaction process
            may take up to four days. When the redaction process is in progress,
            theVerificationSession’s redaction.status field will be set to
            processing; when the process isfinished, it will change to redacted and
            an identity.verification_session.redacted eventwill be emitted.Redaction
            is irreversible. Redacted objects are still accessible in the Stripe
            API, but all thefields that contain personal data will be replaced by
            the string [redacted] or a similarplaceholder. The metadata field will
            also be erased. Redacted objects cannot be updated orused for any
            purpose.Learn more.
          operationId: postIdentityVerificationSessionsSessionRedact
          requestBody:
            content:
              application/x-www-form-urlencoded:
                encoding:
                  expand:
                    explode: true
                    style: deepObject
                schema:
                  additionalProperties: false
                  $ref: >-
                    #/components/schemas/PostIdentityVerificationSessionsSessionRedactRequest
          responses:
            default:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
              description: Error response.
