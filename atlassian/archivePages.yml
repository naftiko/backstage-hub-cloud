apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Archive Pages
  description: >-
    Archives a list of pages. The pages to be archived are specified as a list
    of content IDs.This API accepts the archival request and returns a task
    ID.The archival process happens asynchronously.Use the /longtask/ REST API
    to get the copy task status.Each content ID needs to resolve to page objects
    that are not already in an archived state.The content IDs need not belong to
    the same space.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
    required**:'Archive' permission for each of the pages in the corresponding
    space it belongs to.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Archive Pages
      description: >-
        Archives a list of pages. The pages to be archived are specified as a list
        of content IDs.This API accepts the archival request and returns a task
        ID.The archival process happens asynchronously.Use the /longtask/ REST API
        to get the copy task status.Each content ID needs to resolve to page objects
        that are not already in an archived state.The content IDs need not belong to
        the same space.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
        required**:'Archive' permission for each of the pages in the corresponding
        space it belongs to.
    paths:
      /wiki/rest/api/content/archive:
        post:
          summary: Archive Pages
          description: >-
            Archives a list of pages. The pages to be archived are specified as a
            list of content IDs.This API accepts the archival request and returns a
            task ID.The archival process happens asynchronously.Use the /longtask/
            REST API to get the copy task status.Each content ID needs to resolve to
            page objects that are not already in an archived state.The content IDs
            need not belong to the same
            space.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
            required**:'Archive' permission for each of the pages in the
            corresponding space it belongs to.
          operationId: archivePages
          requestBody:
            description: The pages to be archived.
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    pages:
                      type: array
                      items:
                        type: object
                        required:
                          - id
                        properties:
                          id:
                            type: integer
                            format: int64
                            description: The `id` of the page to be archived.
          responses:
            '401':
              description: |-
                Returned if the authentication credentials are incorrect or missing
                from the request.
              content: {}
