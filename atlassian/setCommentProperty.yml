apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Set Comment Property
  description: >-
    Creates or updates the value of a property for a comment. Use this resource
    to store custom data against a comment.The value of the request body must be
    a [valid](http://tools.ietf.org/html/rfc4627), non-empty JSON blob. The
    maximum length is 32768 characters.**[Permissions](#permissions) required:**
    either of: *  *Edit All Comments* [project
    permission](https://confluence.atlassian.com/x/yodKLg) to create or update
    the value of a property on any comment. *  *Edit Own Comments* [project
    permission](https://confluence.atlassian.com/x/yodKLg) to create or update
    the value of a property on a comment created by the user.Also, when the
    visibility of a comment is restricted to a role or group the user must be a
    member of that role or group.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Set Comment Property
      description: >-
        Creates or updates the value of a property for a comment. Use this resource
        to store custom data against a comment.The value of the request body must be
        a [valid](http://tools.ietf.org/html/rfc4627), non-empty JSON blob. The
        maximum length is 32768 characters.**[Permissions](#permissions) required:**
        either of: *  *Edit All Comments* [project
        permission](https://confluence.atlassian.com/x/yodKLg) to create or update
        the value of a property on any comment. *  *Edit Own Comments* [project
        permission](https://confluence.atlassian.com/x/yodKLg) to create or update
        the value of a property on a comment created by the user.Also, when the
        visibility of a comment is restricted to a role or group the user must be a
        member of that role or group.
    paths:
      /rest/api/3/comment/{commentId}/properties/{propertyKey}:
        put:
          summary: Set Comment Property
          description: >-
            Creates or updates the value of a property for a comment. Use this
            resource to store custom data against a comment.The value of the request
            body must be a [valid](http://tools.ietf.org/html/rfc4627), non-empty
            JSON blob. The maximum length is 32768
            characters.**[Permissions](#permissions) required:** either of: *  *Edit
            All Comments* [project
            permission](https://confluence.atlassian.com/x/yodKLg) to create or
            update the value of a property on any comment. *  *Edit Own Comments*
            [project permission](https://confluence.atlassian.com/x/yodKLg) to
            create or update the value of a property on a comment created by the
            user.Also, when the visibility of a comment is restricted to a role or
            group the user must be a member of that role or group.
          operationId: setCommentProperty
          requestBody:
            description: >-
              The value of the property. The value has to be a valid, non-empty
              [JSON](https://tools.ietf.org/html/rfc4627) value. The maximum length
              of the property value is 32768 bytes.
            required: true
            content:
              application/json:
                schema: {}
          responses:
            '404':
              description: Returned if the comment is not found.
