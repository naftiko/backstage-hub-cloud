apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Ui Modification
  description: >-
    Updates a UI modification. UI modification can only be updated by Forge
    apps.Each UI modification can define up to 1000 contexts. The same context
    can be assigned to maximum 100 UI
    modifications.**[Permissions](#permissions) required:** *  *None* if the UI
    modification is created without contexts. *  *Browse projects* [project
    permission](https://confluence.atlassian.com/x/yodKLg) for one or more
    projects, if the UI modification is created with contexts.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Ui Modification
      description: >-
        Updates a UI modification. UI modification can only be updated by Forge
        apps.Each UI modification can define up to 1000 contexts. The same context
        can be assigned to maximum 100 UI
        modifications.**[Permissions](#permissions) required:** *  *None* if the UI
        modification is created without contexts. *  *Browse projects* [project
        permission](https://confluence.atlassian.com/x/yodKLg) for one or more
        projects, if the UI modification is created with contexts.
    paths:
      /rest/api/3/uiModifications/{uiModificationId}:
        put:
          summary: Update Ui Modification
          description: >-
            Updates a UI modification. UI modification can only be updated by Forge
            apps.Each UI modification can define up to 1000 contexts. The same
            context can be assigned to maximum 100 UI
            modifications.**[Permissions](#permissions) required:** *  *None* if the
            UI modification is created without contexts. *  *Browse projects*
            [project permission](https://confluence.atlassian.com/x/yodKLg) for one
            or more projects, if the UI modification is created with contexts.
          operationId: updateUiModification
          requestBody:
            description: Details of the UI modification.
            required: true
            content:
              application/json:
                example:
                  contexts:
                    - issueTypeId: '10000'
                      projectId: '10000'
                      viewType: GIC
                    - issueTypeId: '10001'
                      projectId: '10000'
                      viewType: IssueView
                  data: '{field: ''Story Points'', config: {hidden: true}}'
                  name: Updated Reveal Story Points
                schema:
                  $ref: '#/components/schemas/UpdateUiModificationDetails'
          responses:
            '404':
              content:
                application/json:
                  example: >-
                    {"details":{"issueTypesNotFound":{"10001":["10000","10001"]},"projectNotFound":["10000"]},"errorMessages":["Project
                    with ID '10000' was not found.","Project with ID '10001'. The
                    following issue types were not found: [10000,
                    10001]"],"errors":{}}
                  schema:
                    $ref: '#/components/schemas/DetailedErrorCollection'
              description: >-
                Returned if the UI modification, a project or an issue type in the
                context are not found.
