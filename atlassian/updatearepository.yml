apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update A Repository
  description: >-
    Since this endpoint can be used to both update and to create arepository,
    the request body depends on the intent.#### CreationSee the POST
    documentation for the repository endpoint for an exampleof the request
    body.#### UpdateNote: Changing the `name` of the repository will cause the
    location tobe changed. This is because the URL of the repo is derived from
    thename (a process called slugification). In such a scenario, it ispossible
    for the request to fail if the newly created slug conflictswith an existing
    repository's slug. But if there is no conflict,the new location will be
    returned in the `Location` header of theresponse.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update A Repository
      description: >-
        Since this endpoint can be used to both update and to create arepository,
        the request body depends on the intent.#### CreationSee the POST
        documentation for the repository endpoint for an exampleof the request
        body.#### UpdateNote: Changing the `name` of the repository will cause the
        location tobe changed. This is because the URL of the repo is derived from
        thename (a process called slugification). In such a scenario, it ispossible
        for the request to fail if the newly created slug conflictswith an existing
        repository's slug. But if there is no conflict,the new location will be
        returned in the `Location` header of theresponse.
    paths:
      /repositories/{workspace}/{repo_slug}:
        put:
          summary: Update A Repository
          description: >-
            Since this endpoint can be used to both update and to create
            arepository, the request body depends on the intent.#### CreationSee the
            POST documentation for the repository endpoint for an exampleof the
            request body.#### UpdateNote: Changing the `name` of the repository will
            cause the location tobe changed. This is because the URL of the repo is
            derived from thename (a process called slugification). In such a
            scenario, it ispossible for the request to fail if the newly created
            slug conflictswith an existing repository's slug. But if there is no
            conflict,the new location will be returned in the `Location` header of
            theresponse.
          operationId: updatearepository
          requestBody:
            description: |
              The repository that is to be updated.

              Note that the elements "owner" and "full_name" are ignored since the
              URL implies them.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/repository'
          responses:
            '401':
              description: If the request was not authenticated.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
