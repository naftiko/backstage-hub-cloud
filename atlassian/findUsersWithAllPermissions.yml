apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Find Users With Permissions
  description: >-
    Returns a list of users who fulfill these criteria: *  their user attributes
    match a search string. *  they have a set of permissions for a project or
    issue.If no search string is provided, a list of all users with the
    permissions is returned.This operation takes the users in the range defined
    by `startAt` and `maxResults`, up to the thousandth user, and then returns
    only the users from that range that match the search string and have
    permission for the project or issue. This means the operation usually
    returns fewer users than specified in `maxResults`. To get all the users who
    match the search string and have permission for the project or issue, use
    [Get all users](#api-rest-api-3-users-search-get) and filter the records in
    your code.Privacy controls are applied to the response based on the users'
    preferences. This could mean, for example, that the user's email address is
    hidden. See the [Profile visibility
    overview](https://developer.atlassian.com/cloud/jira/platform/profile-visibility/)
    for more details.This operation can be accessed
    anonymously.**[Permissions](#permissions) required:** *  *Administer Jira*
    [global permission](https://confluence.atlassian.com/x/x4dKLg), to get users
    for any project. *  *Administer Projects* [project
    permission](https://confluence.atlassian.com/x/yodKLg) for a project, to get
    users for that project.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Find Users With Permissions
      description: >-
        Returns a list of users who fulfill these criteria: *  their user attributes
        match a search string. *  they have a set of permissions for a project or
        issue.If no search string is provided, a list of all users with the
        permissions is returned.This operation takes the users in the range defined
        by `startAt` and `maxResults`, up to the thousandth user, and then returns
        only the users from that range that match the search string and have
        permission for the project or issue. This means the operation usually
        returns fewer users than specified in `maxResults`. To get all the users who
        match the search string and have permission for the project or issue, use
        [Get all users](#api-rest-api-3-users-search-get) and filter the records in
        your code.Privacy controls are applied to the response based on the users'
        preferences. This could mean, for example, that the user's email address is
        hidden. See the [Profile visibility
        overview](https://developer.atlassian.com/cloud/jira/platform/profile-visibility/)
        for more details.This operation can be accessed
        anonymously.**[Permissions](#permissions) required:** *  *Administer Jira*
        [global permission](https://confluence.atlassian.com/x/x4dKLg), to get users
        for any project. *  *Administer Projects* [project
        permission](https://confluence.atlassian.com/x/yodKLg) for a project, to get
        users for that project.
    paths:
      /rest/api/3/user/permission/search:
        get:
          summary: Find Users With Permissions
          description: >-
            Returns a list of users who fulfill these criteria: *  their user
            attributes match a search string. *  they have a set of permissions for
            a project or issue.If no search string is provided, a list of all users
            with the permissions is returned.This operation takes the users in the
            range defined by `startAt` and `maxResults`, up to the thousandth user,
            and then returns only the users from that range that match the search
            string and have permission for the project or issue. This means the
            operation usually returns fewer users than specified in `maxResults`. To
            get all the users who match the search string and have permission for
            the project or issue, use [Get all
            users](#api-rest-api-3-users-search-get) and filter the records in your
            code.Privacy controls are applied to the response based on the users'
            preferences. This could mean, for example, that the user's email address
            is hidden. See the [Profile visibility
            overview](https://developer.atlassian.com/cloud/jira/platform/profile-visibility/)
            for more details.This operation can be accessed
            anonymously.**[Permissions](#permissions) required:** *  *Administer
            Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg), to
            get users for any project. *  *Administer Projects* [project
            permission](https://confluence.atlassian.com/x/yodKLg) for a project, to
            get users for that project.
          operationId: findUsersWithAllPermissions
          responses:
            '429':
              description: >-
                Returned if the rate limit is exceeded. User search endpoints share
                a collective rate limit for the tenant, in addition to Jira's normal
                rate limiting you may receive a rate limit for user search. Please
                respect the Retry-After header.
