apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create Or Update Remote Issue Link
  description: >-
    Creates or updates a remote issue link for an issue.If a `globalId` is
    provided and a remote issue link with that global ID is found it is updated.
    Any fields without values in the request are set to null. Otherwise, the
    remote issue link is created.This operation requires [issue linking to be
    active](https://confluence.atlassian.com/x/yoXKM).This operation can be
    accessed anonymously.**[Permissions](#permissions) required:** *  *Browse
    projects* and *Link issues* [project
    permission](https://confluence.atlassian.com/x/yodKLg) for the project that
    the issue is in. *  If [issue-level
    security](https://confluence.atlassian.com/x/J4lKLg) is configured,
    issue-level security permission to view the issue.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create Or Update Remote Issue Link
      description: >-
        Creates or updates a remote issue link for an issue.If a `globalId` is
        provided and a remote issue link with that global ID is found it is updated.
        Any fields without values in the request are set to null. Otherwise, the
        remote issue link is created.This operation requires [issue linking to be
        active](https://confluence.atlassian.com/x/yoXKM).This operation can be
        accessed anonymously.**[Permissions](#permissions) required:** *  *Browse
        projects* and *Link issues* [project
        permission](https://confluence.atlassian.com/x/yodKLg) for the project that
        the issue is in. *  If [issue-level
        security](https://confluence.atlassian.com/x/J4lKLg) is configured,
        issue-level security permission to view the issue.
    paths:
      /rest/api/3/issue/{issueIdOrKey}/remotelink:
        post:
          summary: Create Or Update Remote Issue Link
          description: >-
            Creates or updates a remote issue link for an issue.If a `globalId` is
            provided and a remote issue link with that global ID is found it is
            updated. Any fields without values in the request are set to null.
            Otherwise, the remote issue link is created.This operation requires
            [issue linking to be
            active](https://confluence.atlassian.com/x/yoXKM).This operation can be
            accessed anonymously.**[Permissions](#permissions) required:** * 
            *Browse projects* and *Link issues* [project
            permission](https://confluence.atlassian.com/x/yodKLg) for the project
            that the issue is in. *  If [issue-level
            security](https://confluence.atlassian.com/x/J4lKLg) is configured,
            issue-level security permission to view the issue.
          operationId: createOrUpdateRemoteIssueLink
          requestBody:
            required: true
            content:
              application/json:
                example:
                  application:
                    name: My Acme Tracker
                    type: com.acme.tracker
                  globalId: system=http://www.mycompany.com/support&id=1
                  object:
                    icon:
                      title: Support Ticket
                      url16x16: http://www.mycompany.com/support/ticket.png
                    status:
                      icon:
                        link: http://www.mycompany.com/support?id=1&details=closed
                        title: Case Closed
                        url16x16: http://www.mycompany.com/support/resolved.png
                      resolved: true
                    summary: Customer support issue
                    title: TSTSUP-111
                    url: http://www.mycompany.com/support?id=1
                  relationship: causes
                schema:
                  $ref: '#/components/schemas/RemoteIssueLinkRequest'
          responses:
            '404':
              description: >-
                Returned if the issue is not found or the user does not have
                permission to view the issue.
