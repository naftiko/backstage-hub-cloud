apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: List Workspaces For The Current User
  description: >-
    Returns an object for each workspace the caller is a member of, andtheir
    effective role - the highest level of privilege the caller has.If a user is
    a member of multiple groups with distinct roles, only thehighest level is
    returned.Permissions can be:* `owner`* `collaborator`* `member`**The
    `collaborator` role is being removed from the Bitbucket Cloud API. For more
    information,see the [deprecation
    announcement](/cloud/bitbucket/deprecation-notice-collaborator-role/).****When
    you move your administration from Bitbucket Cloud to admin.atlassian.com,
    the following fields on`workspace_membership` will no longer be present:
    `last_accessed` and `added_on`. See the[deprecation
    announcement](/cloud/bitbucket/announcement-breaking-change-workspace-membership/).**Results
    may be further [filtered or sorted](/cloud/bitbucket/rest/intro/#filtering)
    byworkspace or permission by adding the following query string parameters:*
    `q=workspace.slug="bbworkspace1"` or `q=permission="owner"`*
    `sort=workspace.slug`Note that the query parameter values need to be URL
    escaped so that `=`would become `%3D`.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: List Workspaces For The Current User
      description: >-
        Returns an object for each workspace the caller is a member of, andtheir
        effective role - the highest level of privilege the caller has.If a user is
        a member of multiple groups with distinct roles, only thehighest level is
        returned.Permissions can be:* `owner`* `collaborator`* `member`**The
        `collaborator` role is being removed from the Bitbucket Cloud API. For more
        information,see the [deprecation
        announcement](/cloud/bitbucket/deprecation-notice-collaborator-role/).****When
        you move your administration from Bitbucket Cloud to admin.atlassian.com,
        the following fields on`workspace_membership` will no longer be present:
        `last_accessed` and `added_on`. See the[deprecation
        announcement](/cloud/bitbucket/announcement-breaking-change-workspace-membership/).**Results
        may be further [filtered or sorted](/cloud/bitbucket/rest/intro/#filtering)
        byworkspace or permission by adding the following query string parameters:*
        `q=workspace.slug="bbworkspace1"` or `q=permission="owner"`*
        `sort=workspace.slug`Note that the query parameter values need to be URL
        escaped so that `=`would become `%3D`.
    paths:
      /user/permissions/workspaces:
        get:
          summary: List Workspaces For The Current User
          description: >-
            Returns an object for each workspace the caller is a member of, andtheir
            effective role - the highest level of privilege the caller has.If a user
            is a member of multiple groups with distinct roles, only thehighest
            level is returned.Permissions can be:* `owner`* `collaborator`*
            `member`**The `collaborator` role is being removed from the Bitbucket
            Cloud API. For more information,see the [deprecation
            announcement](/cloud/bitbucket/deprecation-notice-collaborator-role/).****When
            you move your administration from Bitbucket Cloud to
            admin.atlassian.com, the following fields on`workspace_membership` will
            no longer be present: `last_accessed` and `added_on`. See
            the[deprecation
            announcement](/cloud/bitbucket/announcement-breaking-change-workspace-membership/).**Results
            may be further [filtered or
            sorted](/cloud/bitbucket/rest/intro/#filtering) byworkspace or
            permission by adding the following query string parameters:*
            `q=workspace.slug="bbworkspace1"` or `q=permission="owner"`*
            `sort=workspace.slug`Note that the query parameter values need to be URL
            escaped so that `=`would become `%3D`.
          operationId: listworkspacesforthecurrentuser
          responses:
            '401':
              description: The request wasn't authenticated.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
