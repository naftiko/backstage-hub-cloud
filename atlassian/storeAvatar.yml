apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Load Avatar
  description: >-
    Loads a custom avatar for a project or issue type.Specify the avatar's local
    file location in the body of the request. Also, include the following
    headers: *  `X-Atlassian-Token: no-check` To prevent XSRF protection
    blocking the request, for more information see [Special
    Headers](#special-request-headers). *  `Content-Type: image/image type`
    Valid image types are JPEG, GIF, or PNG.For example:  `curl --request POST
    ``--user email@example.com: ``--header 'X-Atlassian-Token: no-check'
    ``--header 'Content-Type: image/' ``--data-binary "" ``--url
    'https://your-domain.atlassian.net/rest/api/3/universal_avatar/type/{type}/owner/{entityId}'`The
    avatar is cropped to a square. If no crop parameters are specified, the
    square originates at the top left of the image. The length of the square's
    sides is set to the smaller of the height or width of the image.The cropped
    image is then used to create avatars of 16x16, 24x24, 32x32, and 48x48 in
    size.After creating the avatar use: *  [Update issue
    type](#api-rest-api-3-issuetype-id-put) to set it as the issue type's
    displayed avatar. *  [Set project
    avatar](#api-rest-api-3-project-projectIdOrKey-avatar-put) to set it as the
    project's displayed avatar.**[Permissions](#permissions) required:**
    *Administer Jira* [global
    permission](https://confluence.atlassian.com/x/x4dKLg).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Load Avatar
      description: >-
        Loads a custom avatar for a project or issue type.Specify the avatar's local
        file location in the body of the request. Also, include the following
        headers: *  `X-Atlassian-Token: no-check` To prevent XSRF protection
        blocking the request, for more information see [Special
        Headers](#special-request-headers). *  `Content-Type: image/image type`
        Valid image types are JPEG, GIF, or PNG.For example:  `curl --request POST
        ``--user email@example.com: ``--header 'X-Atlassian-Token: no-check'
        ``--header 'Content-Type: image/' ``--data-binary "" ``--url
        'https://your-domain.atlassian.net/rest/api/3/universal_avatar/type/{type}/owner/{entityId}'`The
        avatar is cropped to a square. If no crop parameters are specified, the
        square originates at the top left of the image. The length of the square's
        sides is set to the smaller of the height or width of the image.The cropped
        image is then used to create avatars of 16x16, 24x24, 32x32, and 48x48 in
        size.After creating the avatar use: *  [Update issue
        type](#api-rest-api-3-issuetype-id-put) to set it as the issue type's
        displayed avatar. *  [Set project
        avatar](#api-rest-api-3-project-projectIdOrKey-avatar-put) to set it as the
        project's displayed avatar.**[Permissions](#permissions) required:**
        *Administer Jira* [global
        permission](https://confluence.atlassian.com/x/x4dKLg).
    paths:
      /rest/api/3/universal_avatar/type/{type}/owner/{entityId}:
        post:
          summary: Load Avatar
          description: >-
            Loads a custom avatar for a project or issue type.Specify the avatar's
            local file location in the body of the request. Also, include the
            following headers: *  `X-Atlassian-Token: no-check` To prevent XSRF
            protection blocking the request, for more information see [Special
            Headers](#special-request-headers). *  `Content-Type: image/image type`
            Valid image types are JPEG, GIF, or PNG.For example:  `curl --request
            POST ``--user email@example.com: ``--header 'X-Atlassian-Token:
            no-check' ``--header 'Content-Type: image/' ``--data-binary "" ``--url
            'https://your-domain.atlassian.net/rest/api/3/universal_avatar/type/{type}/owner/{entityId}'`The
            avatar is cropped to a square. If no crop parameters are specified, the
            square originates at the top left of the image. The length of the
            square's sides is set to the smaller of the height or width of the
            image.The cropped image is then used to create avatars of 16x16, 24x24,
            32x32, and 48x48 in size.After creating the avatar use: *  [Update issue
            type](#api-rest-api-3-issuetype-id-put) to set it as the issue type's
            displayed avatar. *  [Set project
            avatar](#api-rest-api-3-project-projectIdOrKey-avatar-put) to set it as
            the project's displayed avatar.**[Permissions](#permissions) required:**
            *Administer Jira* [global
            permission](https://confluence.atlassian.com/x/x4dKLg).
          operationId: storeAvatar
          requestBody:
            required: true
            content:
              '*/*':
                schema: {}
          responses:
            '404':
              description: >-
                Returned if the avatar type is invalid, the associated item ID is
                missing, or the item is not found.
