apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Permission Scheme
  description: >-
    Updates a permission scheme. Below are some important things to note when
    using this resource: *  If a permissions list is present in the request,
    then it is set in the permission scheme, overwriting *all existing* grants.
    *  If you want to update only the name and description, then do not send a
    permissions list in the request. *  Sending an empty list will remove all
    permission grants from the permission scheme.If you want to add or delete a
    permission grant instead of updating the whole list, see [Create permission
    grant](#api-rest-api-3-permissionscheme-schemeId-permission-post) or [Delete
    permission scheme
    entity](#api-rest-api-3-permissionscheme-schemeId-permission-permissionId-delete).See
    [About permission schemes and
    grants](../api-group-permission-schemes/#about-permission-schemes-and-grants)
    for more details.**[Permissions](#permissions) required:** *Administer Jira*
    [global permission](https://confluence.atlassian.com/x/x4dKLg).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Permission Scheme
      description: >-
        Updates a permission scheme. Below are some important things to note when
        using this resource: *  If a permissions list is present in the request,
        then it is set in the permission scheme, overwriting *all existing* grants.
        *  If you want to update only the name and description, then do not send a
        permissions list in the request. *  Sending an empty list will remove all
        permission grants from the permission scheme.If you want to add or delete a
        permission grant instead of updating the whole list, see [Create permission
        grant](#api-rest-api-3-permissionscheme-schemeId-permission-post) or [Delete
        permission scheme
        entity](#api-rest-api-3-permissionscheme-schemeId-permission-permissionId-delete).See
        [About permission schemes and
        grants](../api-group-permission-schemes/#about-permission-schemes-and-grants)
        for more details.**[Permissions](#permissions) required:** *Administer Jira*
        [global permission](https://confluence.atlassian.com/x/x4dKLg).
    paths:
      /rest/api/3/permissionscheme/{schemeId}:
        put:
          summary: Update Permission Scheme
          description: >-
            Updates a permission scheme. Below are some important things to note
            when using this resource: *  If a permissions list is present in the
            request, then it is set in the permission scheme, overwriting *all
            existing* grants. *  If you want to update only the name and
            description, then do not send a permissions list in the request. * 
            Sending an empty list will remove all permission grants from the
            permission scheme.If you want to add or delete a permission grant
            instead of updating the whole list, see [Create permission
            grant](#api-rest-api-3-permissionscheme-schemeId-permission-post) or
            [Delete permission scheme
            entity](#api-rest-api-3-permissionscheme-schemeId-permission-permissionId-delete).See
            [About permission schemes and
            grants](../api-group-permission-schemes/#about-permission-schemes-and-grants)
            for more details.**[Permissions](#permissions) required:** *Administer
            Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg).
          operationId: updatePermissionScheme
          requestBody:
            required: true
            content:
              application/json:
                example:
                  description: description
                  name: Example permission scheme
                  permissions:
                    - holder:
                        parameter: jira-core-users
                        type: group
                        value: ca85fac0-d974-40ca-a615-7af99c48d24f
                      permission: ADMINISTER_PROJECTS
                schema:
                  $ref: '#/components/schemas/PermissionScheme'
          responses:
            '404':
              description: Returned if the permission scheme is not found.
