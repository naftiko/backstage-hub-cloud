apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Snippet Changes Between Versions
  description: >-
    Returns the diff of the specified commit against its first parent.Note that
    this resource is different in functionality from the `patch`resource.The
    differences between a diff and a patch are:* patches have a commit header
    with the username, message, etc* diffs support the optional
    `path=foo/bar.py` query param to filter the  diff to just that one file diff
    (not supported for patches)* for a merge, the diff will show the diff
    between the merge commit and  its first parent (identical to how PRs work),
    while patch returns a  response containing separate patches for each commit
    on the second  parent's ancestry, up to the oldest common ancestor
    (identical to  its reachability).Note that the character encoding of the
    contents of the diff isunspecified as Git does not track this, making it
    hard forBitbucket to reliably determine this.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Snippet Changes Between Versions
      description: >-
        Returns the diff of the specified commit against its first parent.Note that
        this resource is different in functionality from the `patch`resource.The
        differences between a diff and a patch are:* patches have a commit header
        with the username, message, etc* diffs support the optional
        `path=foo/bar.py` query param to filter the  diff to just that one file diff
        (not supported for patches)* for a merge, the diff will show the diff
        between the merge commit and  its first parent (identical to how PRs work),
        while patch returns a  response containing separate patches for each commit
        on the second  parent's ancestry, up to the oldest common ancestor
        (identical to  its reachability).Note that the character encoding of the
        contents of the diff isunspecified as Git does not track this, making it
        hard forBitbucket to reliably determine this.
    paths:
      /snippets/{workspace}/{encoded_id}/{revision}/diff:
        get:
          summary: Get Snippet Changes Between Versions
          description: >-
            Returns the diff of the specified commit against its first parent.Note
            that this resource is different in functionality from the
            `patch`resource.The differences between a diff and a patch are:* patches
            have a commit header with the username, message, etc* diffs support the
            optional `path=foo/bar.py` query param to filter the  diff to just that
            one file diff (not supported for patches)* for a merge, the diff will
            show the diff between the merge commit and  its first parent (identical
            to how PRs work), while patch returns a  response containing separate
            patches for each commit on the second  parent's ancestry, up to the
            oldest common ancestor (identical to  its reachability).Note that the
            character encoding of the contents of the diff isunspecified as Git does
            not track this, making it hard forBitbucket to reliably determine this.
          operationId: getsnippetchangesbetweenversions
          responses:
            '404':
              description: If the snippet does not exist.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
