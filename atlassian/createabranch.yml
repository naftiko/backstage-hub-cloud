apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create A Branch
  description: >-
    Creates a new branch in the specified repository.The payload of the POST
    should consist of a JSON document thatcontains the name of the tag and the
    target hash.```curl
    https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/branches \-s
    -u seanfarley -X POST -H "Content-Type: application/json" \-d '{    "name" :
    "smf/create-feature",    "target" : {        "hash" : "default",   
    }}'```This call requires authentication. Private repositories require
    thecaller to authenticate with an account that has
    appropriateauthorization.The branch name should not include any prefixes
    (e.g.refs/heads). This endpoint does support using short hash prefixes
    forthe commit hash, but it may return a 400 response if the providedprefix
    is ambiguous. Using a full commit hash is the preferredapproach.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create A Branch
      description: >-
        Creates a new branch in the specified repository.The payload of the POST
        should consist of a JSON document thatcontains the name of the tag and the
        target hash.```curl
        https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/branches \-s
        -u seanfarley -X POST -H "Content-Type: application/json" \-d '{    "name" :
        "smf/create-feature",    "target" : {        "hash" : "default",   
        }}'```This call requires authentication. Private repositories require
        thecaller to authenticate with an account that has
        appropriateauthorization.The branch name should not include any prefixes
        (e.g.refs/heads). This endpoint does support using short hash prefixes
        forthe commit hash, but it may return a 400 response if the providedprefix
        is ambiguous. Using a full commit hash is the preferredapproach.
    paths:
      /repositories/{workspace}/{repo_slug}/refs/branches:
        post:
          summary: Create A Branch
          description: >-
            Creates a new branch in the specified repository.The payload of the POST
            should consist of a JSON document thatcontains the name of the tag and
            the target hash.```curl
            https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/branches
            \-s -u seanfarley -X POST -H "Content-Type: application/json" \-d '{   
            "name" : "smf/create-feature",    "target" : {        "hash" :
            "default",    }}'```This call requires authentication. Private
            repositories require thecaller to authenticate with an account that has
            appropriateauthorization.The branch name should not include any prefixes
            (e.g.refs/heads). This endpoint does support using short hash prefixes
            forthe commit hash, but it may return a 400 response if the
            providedprefix is ambiguous. Using a full commit hash is the
            preferredapproach.
          operationId: createabranch
          responses:
            '404':
              description: The specified repository or branch does not exist.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
