apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Custom Field Contexts For Projects And Issue Types
  description: >-
    Returns a [paginated](#pagination) list of project and issue type mappings
    and, for each mapping, the ID of a [custom field
    context](https://confluence.atlassian.com/x/k44fOw) that applies to the
    project and issue type.If there is no custom field context assigned to the
    project then, if present, the custom field context that applies to all
    projects is returned if it also applies to the issue type or all issue
    types. If a custom field context is not found, the returned custom field
    context ID is `null`.Duplicate project and issue type mappings cannot be
    provided in the request.The order of the returned values is the same as
    provided in the request.**[Permissions](#permissions) required:**
    *Administer Jira* [global
    permission](https://confluence.atlassian.com/x/x4dKLg).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Custom Field Contexts For Projects And Issue Types
      description: >-
        Returns a [paginated](#pagination) list of project and issue type mappings
        and, for each mapping, the ID of a [custom field
        context](https://confluence.atlassian.com/x/k44fOw) that applies to the
        project and issue type.If there is no custom field context assigned to the
        project then, if present, the custom field context that applies to all
        projects is returned if it also applies to the issue type or all issue
        types. If a custom field context is not found, the returned custom field
        context ID is `null`.Duplicate project and issue type mappings cannot be
        provided in the request.The order of the returned values is the same as
        provided in the request.**[Permissions](#permissions) required:**
        *Administer Jira* [global
        permission](https://confluence.atlassian.com/x/x4dKLg).
    paths:
      /rest/api/3/field/{fieldId}/context/mapping:
        post:
          summary: Get Custom Field Contexts For Projects And Issue Types
          description: >-
            Returns a [paginated](#pagination) list of project and issue type
            mappings and, for each mapping, the ID of a [custom field
            context](https://confluence.atlassian.com/x/k44fOw) that applies to the
            project and issue type.If there is no custom field context assigned to
            the project then, if present, the custom field context that applies to
            all projects is returned if it also applies to the issue type or all
            issue types. If a custom field context is not found, the returned custom
            field context ID is `null`.Duplicate project and issue type mappings
            cannot be provided in the request.The order of the returned values is
            the same as provided in the request.**[Permissions](#permissions)
            required:** *Administer Jira* [global
            permission](https://confluence.atlassian.com/x/x4dKLg).
          operationId: getCustomFieldContextsForProjectsAndIssueTypes
          requestBody:
            description: The list of project and issue type mappings.
            required: true
            content:
              application/json:
                example:
                  mappings:
                    - issueTypeId: '10000'
                      projectId: '10000'
                    - issueTypeId: '10001'
                      projectId: '10000'
                    - issueTypeId: '10002'
                      projectId: '10001'
                schema:
                  $ref: '#/components/schemas/ProjectIssueTypeMappings'
          responses:
            '404':
              content:
                application/json:
                  example: >-
                    {"errorMessages":["These projects were not found:
                    10005."],"errors":{}}
              description: Returned if the custom field, project, or issue type is not found.
