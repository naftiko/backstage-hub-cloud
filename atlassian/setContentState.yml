apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: >-
    Set The Content State Of A Content And Publishes A New Version Of The
    Content.
  description: >-
    Sets the content state of the content specified and creates a new
    version(publishes the content without changing the body) of the content with
    the new state.You may pass in either an id of a state, or the name and color
    of a desired new state.If all 3 are passed in, id will be used.If the name
    and color passed in already exist under the current user's existing custom
    states, the existing state will be reused.If custom states are disabled in
    the space of the content (which can be determined by getting the content
    state space settings of the content's space)then this set will fail.You may
    not remove a content state via this PUT request. You must use the DELETE
    method. A specified state is required in the body of this
    request.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
    required**:Permission to edit the content.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: >-
        Set The Content State Of A Content And Publishes A New Version Of The
        Content.
      description: >-
        Sets the content state of the content specified and creates a new
        version(publishes the content without changing the body) of the content with
        the new state.You may pass in either an id of a state, or the name and color
        of a desired new state.If all 3 are passed in, id will be used.If the name
        and color passed in already exist under the current user's existing custom
        states, the existing state will be reused.If custom states are disabled in
        the space of the content (which can be determined by getting the content
        state space settings of the content's space)then this set will fail.You may
        not remove a content state via this PUT request. You must use the DELETE
        method. A specified state is required in the body of this
        request.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
        required**:Permission to edit the content.
    paths:
      /wiki/rest/api/content/{id}/state:
        put:
          summary: >-
            Set The Content State Of A Content And Publishes A New Version Of The
            Content.
          description: >-
            Sets the content state of the content specified and creates a new
            version(publishes the content without changing the body) of the content
            with the new state.You may pass in either an id of a state, or the name
            and color of a desired new state.If all 3 are passed in, id will be
            used.If the name and color passed in already exist under the current
            user's existing custom states, the existing state will be reused.If
            custom states are disabled in the space of the content (which can be
            determined by getting the content state space settings of the content's
            space)then this set will fail.You may not remove a content state via
            this PUT request. You must use the DELETE method. A specified state is
            required in the body of this
            request.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
            required**:Permission to edit the content.
          operationId: setContentState
          requestBody:
            description: >-
              Content state fields for state. Pass in id for an existing state, or
              new name and color for best matching existing state, or new state if
              allowed in space.
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ContentStateRestInput'
          responses:
            '404':
              description: Returned if the content with given id can not be found.
