apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get All Metadata For An Expanded Attachment
  description: >-
    Returns the metadata for the contents of an attachment, if it is an archive,
    and metadata for the attachment itself. For example, if the attachment is a
    ZIP archive, then information about the files in the archive is returned and
    metadata for the ZIP archive. Currently, only the ZIP archive format is
    supported.Use this operation to retrieve data that is presented to the user,
    as this operation returns the metadata for the attachment itself, such as
    the attachment's ID and name. Otherwise, use [ Get contents metadata for an
    expanded attachment](#api-rest-api-3-attachment-id-expand-raw-get), which
    only returns the metadata for the attachment's contents.This operation can
    be accessed anonymously.**[Permissions](#permissions) required:** For the
    issue containing the attachment: *  *Browse projects* [project
    permission](https://confluence.atlassian.com/x/yodKLg) for the project that
    the issue is in. *  If [issue-level
    security](https://confluence.atlassian.com/x/J4lKLg) is configured,
    issue-level security permission to view the issue.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get All Metadata For An Expanded Attachment
      description: >-
        Returns the metadata for the contents of an attachment, if it is an archive,
        and metadata for the attachment itself. For example, if the attachment is a
        ZIP archive, then information about the files in the archive is returned and
        metadata for the ZIP archive. Currently, only the ZIP archive format is
        supported.Use this operation to retrieve data that is presented to the user,
        as this operation returns the metadata for the attachment itself, such as
        the attachment's ID and name. Otherwise, use [ Get contents metadata for an
        expanded attachment](#api-rest-api-3-attachment-id-expand-raw-get), which
        only returns the metadata for the attachment's contents.This operation can
        be accessed anonymously.**[Permissions](#permissions) required:** For the
        issue containing the attachment: *  *Browse projects* [project
        permission](https://confluence.atlassian.com/x/yodKLg) for the project that
        the issue is in. *  If [issue-level
        security](https://confluence.atlassian.com/x/J4lKLg) is configured,
        issue-level security permission to view the issue.
    paths:
      /rest/api/3/attachment/{id}/expand/human:
        get:
          summary: Get All Metadata For An Expanded Attachment
          description: >-
            Returns the metadata for the contents of an attachment, if it is an
            archive, and metadata for the attachment itself. For example, if the
            attachment is a ZIP archive, then information about the files in the
            archive is returned and metadata for the ZIP archive. Currently, only
            the ZIP archive format is supported.Use this operation to retrieve data
            that is presented to the user, as this operation returns the metadata
            for the attachment itself, such as the attachment's ID and name.
            Otherwise, use [ Get contents metadata for an expanded
            attachment](#api-rest-api-3-attachment-id-expand-raw-get), which only
            returns the metadata for the attachment's contents.This operation can be
            accessed anonymously.**[Permissions](#permissions) required:** For the
            issue containing the attachment: *  *Browse projects* [project
            permission](https://confluence.atlassian.com/x/yodKLg) for the project
            that the issue is in. *  If [issue-level
            security](https://confluence.atlassian.com/x/J4lKLg) is configured,
            issue-level security permission to view the issue.
          operationId: expandAttachmentForHumans
          responses:
            '409':
              description: >-
                Returned if the attachment is an archive, but not a supported
                archive format.
