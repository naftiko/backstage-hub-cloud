apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: List All Repository Permissions For A Workspace
  description: >-
    Returns an object for each repository permission for all of aworkspace's
    repositories.Permissions returned are effective permissions: the highest
    level ofpermission the user has. This does not distinguish between direct
    andindirect (group) privileges.Only users with admin permission for the team
    may access this resource.Permissions can be:* `admin`* `write`*
    `read`Results may be further [filtered or
    sorted](/cloud/bitbucket/rest/intro/#filtering)by repository, user, or
    permission by adding the following query stringparameters:*
    `q=repository.name="geordi"` or `q=permission>"read"`*
    `sort=user.display_name`Note that the query parameter values need to be URL
    escaped so that `=`would become `%3D`.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: List All Repository Permissions For A Workspace
      description: >-
        Returns an object for each repository permission for all of aworkspace's
        repositories.Permissions returned are effective permissions: the highest
        level ofpermission the user has. This does not distinguish between direct
        andindirect (group) privileges.Only users with admin permission for the team
        may access this resource.Permissions can be:* `admin`* `write`*
        `read`Results may be further [filtered or
        sorted](/cloud/bitbucket/rest/intro/#filtering)by repository, user, or
        permission by adding the following query stringparameters:*
        `q=repository.name="geordi"` or `q=permission>"read"`*
        `sort=user.display_name`Note that the query parameter values need to be URL
        escaped so that `=`would become `%3D`.
    paths:
      /workspaces/{workspace}/permissions/repositories:
        get:
          summary: List All Repository Permissions For A Workspace
          description: >-
            Returns an object for each repository permission for all of aworkspace's
            repositories.Permissions returned are effective permissions: the highest
            level ofpermission the user has. This does not distinguish between
            direct andindirect (group) privileges.Only users with admin permission
            for the team may access this resource.Permissions can be:* `admin`*
            `write`* `read`Results may be further [filtered or
            sorted](/cloud/bitbucket/rest/intro/#filtering)by repository, user, or
            permission by adding the following query stringparameters:*
            `q=repository.name="geordi"` or `q=permission>"read"`*
            `sort=user.display_name`Note that the query parameter values need to be
            URL escaped so that `=`would become `%3D`.
          operationId: listallrepositorypermissionsforaworkspace
          responses:
            '403':
              description: The requesting user isn't an admin of the workspace.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/error'
