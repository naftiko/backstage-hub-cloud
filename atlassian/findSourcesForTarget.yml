apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Find Source Entities Related To A Target Entity
  description: >-
    Returns all target entities that have a particular relationship to thesource
    entity. Note, relationships are one way.For example, the following method
    finds all users that have a 'collaborator'relationship to a piece of content
    with an ID of '1234':`GET
    /wiki/rest/api/relation/collaborator/to/content/1234/from/user`Note,
    'collaborator' is an example custom relationship
    type.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
    required**:Permission to view both the target entity and source entity.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Find Source Entities Related To A Target Entity
      description: >-
        Returns all target entities that have a particular relationship to thesource
        entity. Note, relationships are one way.For example, the following method
        finds all users that have a 'collaborator'relationship to a piece of content
        with an ID of '1234':`GET
        /wiki/rest/api/relation/collaborator/to/content/1234/from/user`Note,
        'collaborator' is an example custom relationship
        type.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
        required**:Permission to view both the target entity and source entity.
    paths:
      /wiki/rest/api/relation/{relationName}/to/{targetType}/{targetKey}/from/{sourceType}:
        get:
          summary: Find Source Entities Related To A Target Entity
          description: >-
            Returns all target entities that have a particular relationship to
            thesource entity. Note, relationships are one way.For example, the
            following method finds all users that have a 'collaborator'relationship
            to a piece of content with an ID of '1234':`GET
            /wiki/rest/api/relation/collaborator/to/content/1234/from/user`Note,
            'collaborator' is an example custom relationship
            type.**[Permissions](https://confluence.atlassian.com/x/_AozKw)
            required**:Permission to view both the target entity and source entity.
          operationId: findSourcesForTarget
          responses:
            '404':
              description: Returned if the target entity does not exist.
              content: {}
