apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Copy Page Hierarchy
  description: >-
    Copy page hierarchy allows the copying of an entire hierarchy of pages and
    their associated properties, permissions and attachments. The id path
    parameter refers to the content id of the page to copy, and the new parent
    of this copied page is defined using the destinationPageId in the request
    body. The titleOptions object defines the rules of renaming page titles
    during the copy; for example, search and replace can be used in conjunction
    to rewrite the copied page titles. Response example:  {      "id" :
    "1180606",      "links" : {           "status" :
    "/rest/api/longtask/1180606"      } }  Use the /longtask/ REST API to get
    the copy task status.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Copy Page Hierarchy
      description: >-
        Copy page hierarchy allows the copying of an entire hierarchy of pages and
        their associated properties, permissions and attachments. The id path
        parameter refers to the content id of the page to copy, and the new parent
        of this copied page is defined using the destinationPageId in the request
        body. The titleOptions object defines the rules of renaming page titles
        during the copy; for example, search and replace can be used in conjunction
        to rewrite the copied page titles. Response example:  {      "id" :
        "1180606",      "links" : {           "status" :
        "/rest/api/longtask/1180606"      } }  Use the /longtask/ REST API to get
        the copy task status.
    paths:
      /wiki/rest/api/content/{id}/pagehierarchy/copy:
        post:
          summary: Copy Page Hierarchy
          description: >-
            Copy page hierarchy allows the copying of an entire hierarchy of pages
            and their associated properties, permissions and attachments. The id
            path parameter refers to the content id of the page to copy, and the new
            parent of this copied page is defined using the destinationPageId in the
            request body. The titleOptions object defines the rules of renaming page
            titles during the copy; for example, search and replace can be used in
            conjunction to rewrite the copied page titles. Response example:  {     
            "id" : "1180606",      "links" : {           "status" :
            "/rest/api/longtask/1180606"      } }  Use the /longtask/ REST API to
            get the copy task status.
          operationId: copyPageHierarchy
          requestBody:
            description: Request object from json post body
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CopyPageHierarchyRequest'
          responses:
            '404':
              description: Returned if original page or destination page does not exist.
              content: {}
