apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Bulk Delete Issue Property
  description: >-
    Deletes a property value from multiple issues. The issues to be updated can
    be specified by filter criteria.The criteria the filter used to identify
    eligible issues are: *  `entityIds` Only issues from this list are eligible.
    *  `currentValue` Only issues with the property set to this value are
    eligible.If both criteria is specified, they are joined with the logical
    *AND*: only issues that satisfy both criteria are considered eligible.If no
    filter criteria are specified, all the issues visible to the user and where
    the user has the EDIT\_ISSUES permission for the issue are considered
    eligible.This operation is: *  transactional, either the property is deleted
    from all eligible issues or, when errors occur, no properties are deleted.
    *  [asynchronous](#async). Follow the `location` link in the response to
    determine the status of the task and use [Get
    task](#api-rest-api-3-task-taskId-get) to obtain subsequent
    updates.**[Permissions](#permissions) required:** *  *Browse projects* [
    project permission](https://confluence.atlassian.com/x/yodKLg) for each
    project containing issues. *  If [issue-level
    security](https://confluence.atlassian.com/x/J4lKLg) is configured,
    issue-level security permission to view the issue. *  *Edit issues* [project
    permission](https://confluence.atlassian.com/x/yodKLg) for each issue.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Bulk Delete Issue Property
      description: >-
        Deletes a property value from multiple issues. The issues to be updated can
        be specified by filter criteria.The criteria the filter used to identify
        eligible issues are: *  `entityIds` Only issues from this list are eligible.
        *  `currentValue` Only issues with the property set to this value are
        eligible.If both criteria is specified, they are joined with the logical
        *AND*: only issues that satisfy both criteria are considered eligible.If no
        filter criteria are specified, all the issues visible to the user and where
        the user has the EDIT\_ISSUES permission for the issue are considered
        eligible.This operation is: *  transactional, either the property is deleted
        from all eligible issues or, when errors occur, no properties are deleted.
        *  [asynchronous](#async). Follow the `location` link in the response to
        determine the status of the task and use [Get
        task](#api-rest-api-3-task-taskId-get) to obtain subsequent
        updates.**[Permissions](#permissions) required:** *  *Browse projects* [
        project permission](https://confluence.atlassian.com/x/yodKLg) for each
        project containing issues. *  If [issue-level
        security](https://confluence.atlassian.com/x/J4lKLg) is configured,
        issue-level security permission to view the issue. *  *Edit issues* [project
        permission](https://confluence.atlassian.com/x/yodKLg) for each issue.
    paths:
      /rest/api/3/issue/properties/{propertyKey}:
        delete:
          summary: Bulk Delete Issue Property
          description: >-
            Deletes a property value from multiple issues. The issues to be updated
            can be specified by filter criteria.The criteria the filter used to
            identify eligible issues are: *  `entityIds` Only issues from this list
            are eligible. *  `currentValue` Only issues with the property set to
            this value are eligible.If both criteria is specified, they are joined
            with the logical *AND*: only issues that satisfy both criteria are
            considered eligible.If no filter criteria are specified, all the issues
            visible to the user and where the user has the EDIT\_ISSUES permission
            for the issue are considered eligible.This operation is: * 
            transactional, either the property is deleted from all eligible issues
            or, when errors occur, no properties are deleted. * 
            [asynchronous](#async). Follow the `location` link in the response to
            determine the status of the task and use [Get
            task](#api-rest-api-3-task-taskId-get) to obtain subsequent
            updates.**[Permissions](#permissions) required:** *  *Browse projects* [
            project permission](https://confluence.atlassian.com/x/yodKLg) for each
            project containing issues. *  If [issue-level
            security](https://confluence.atlassian.com/x/J4lKLg) is configured,
            issue-level security permission to view the issue. *  *Edit issues*
            [project permission](https://confluence.atlassian.com/x/yodKLg) for each
            issue.
          operationId: bulkDeleteIssueProperty
          requestBody:
            required: true
            content:
              application/json:
                example:
                  currentValue: deprecated value
                  entityIds:
                    - 10100
                    - 100010
                schema:
                  $ref: '#/components/schemas/IssueFilterForBulkPropertyDelete'
          responses:
            '401':
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ErrorCollection'
              description: Returned if the authentication credentials are incorrect or missing.
