apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Add Issue Types To Context
  description: >-
    Adds issue types to a custom field context, appending the issue types to the
    issue types list.A custom field context without any issue types applies to
    all issue types. Adding issue types to such a custom field context would
    result in it applying to only the listed issue types.If any of the issue
    types exists in the custom field context, the operation fails and no issue
    types are added.**[Permissions](#permissions) required:** *Administer Jira*
    [global permission](https://confluence.atlassian.com/x/x4dKLg).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Add Issue Types To Context
      description: >-
        Adds issue types to a custom field context, appending the issue types to the
        issue types list.A custom field context without any issue types applies to
        all issue types. Adding issue types to such a custom field context would
        result in it applying to only the listed issue types.If any of the issue
        types exists in the custom field context, the operation fails and no issue
        types are added.**[Permissions](#permissions) required:** *Administer Jira*
        [global permission](https://confluence.atlassian.com/x/x4dKLg).
    paths:
      /rest/api/3/field/{fieldId}/context/{contextId}/issuetype:
        put:
          summary: Add Issue Types To Context
          description: >-
            Adds issue types to a custom field context, appending the issue types to
            the issue types list.A custom field context without any issue types
            applies to all issue types. Adding issue types to such a custom field
            context would result in it applying to only the listed issue types.If
            any of the issue types exists in the custom field context, the operation
            fails and no issue types are added.**[Permissions](#permissions)
            required:** *Administer Jira* [global
            permission](https://confluence.atlassian.com/x/x4dKLg).
          operationId: addIssueTypesToContext
          requestBody:
            required: true
            content:
              application/json:
                example:
                  issueTypeIds:
                    - '10001'
                    - '10005'
                    - '10006'
                schema:
                  $ref: '#/components/schemas/IssueTypeIds'
          responses:
            '409':
              content:
                application/json:
                  example: >-
                    {"errorMessages":["Sub-tasks are disabled in Jira. At least one
                    of the issue types is a sub-task."],"errors":{}}
              description: >-
                Returned if the issue type is a sub-task, but sub-tasks are disabled
                in Jira settings.
