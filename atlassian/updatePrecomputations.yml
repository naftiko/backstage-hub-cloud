apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Precomputations (apps)
  description: >-
    Update the precomputation value of a function created by a Forge/Connect
    app.**[Permissions](#permissions) required:** An API for apps to update
    their own precomputations.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Precomputations (apps)
      description: >-
        Update the precomputation value of a function created by a Forge/Connect
        app.**[Permissions](#permissions) required:** An API for apps to update
        their own precomputations.
    paths:
      /rest/api/3/jql/function/computation:
        post:
          summary: Update Precomputations (apps)
          description: >-
            Update the precomputation value of a function created by a Forge/Connect
            app.**[Permissions](#permissions) required:** An API for apps to update
            their own precomputations.
          operationId: updatePrecomputations
          requestBody:
            required: true
            content:
              application/json:
                example:
                  values:
                    - id: f2ef228b-367f-4c6b-bd9d-0d0e96b5bd7b
                      value: issue in (TEST-1, TEST-2, TEST-3)
                    - error: Error message to be displayed to the user
                      id: 2a854f11-d0e1-4260-aea8-64a562a7062a
                schema:
                  $ref: '#/components/schemas/JqlFunctionPrecomputationUpdateRequestBean'
          responses:
            '404':
              description: Returned if the function is not found.
