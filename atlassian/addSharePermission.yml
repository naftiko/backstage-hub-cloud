apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Add Share Permission
  description: >-
    Add a share permissions to a filter. If you add a global share permission
    (one for all logged-in users or the public) it will overwrite all share
    permissions for the filter.Be aware that this operation uses different
    objects for updating share permissions compared to [Update
    filter](#api-rest-api-3-filter-id-put).**[Permissions](#permissions)
    required:** *Share dashboards and filters* [global
    permission](https://confluence.atlassian.com/x/x4dKLg) and the user must own
    the filter.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Add Share Permission
      description: >-
        Add a share permissions to a filter. If you add a global share permission
        (one for all logged-in users or the public) it will overwrite all share
        permissions for the filter.Be aware that this operation uses different
        objects for updating share permissions compared to [Update
        filter](#api-rest-api-3-filter-id-put).**[Permissions](#permissions)
        required:** *Share dashboards and filters* [global
        permission](https://confluence.atlassian.com/x/x4dKLg) and the user must own
        the filter.
    paths:
      /rest/api/3/filter/{id}/permission:
        post:
          summary: Add Share Permission
          description: >-
            Add a share permissions to a filter. If you add a global share
            permission (one for all logged-in users or the public) it will overwrite
            all share permissions for the filter.Be aware that this operation uses
            different objects for updating share permissions compared to [Update
            filter](#api-rest-api-3-filter-id-put).**[Permissions](#permissions)
            required:** *Share dashboards and filters* [global
            permission](https://confluence.atlassian.com/x/x4dKLg) and the user must
            own the filter.
          operationId: addSharePermission
          requestBody:
            required: true
            content:
              application/json:
                example:
                  groupname: jira-administrators
                  rights: 1
                  type: group
                schema:
                  $ref: '#/components/schemas/SharePermissionInputBean'
          responses:
            '404':
              description: |-
                Returned if:

                 *  the filter is not found.
                 *  the user does not have permission to view the filter.
