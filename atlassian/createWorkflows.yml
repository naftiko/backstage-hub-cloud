apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Bulk Create Workflows
  description: >-
    Create workflows and related statuses.**[Permissions](#permissions)
    required:** *  *Administer Jira* project permission to create all, including
    global-scoped, workflows *  *Administer projects* project permissions to
    create project-scoped workflows
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Bulk Create Workflows
      description: >-
        Create workflows and related statuses.**[Permissions](#permissions)
        required:** *  *Administer Jira* project permission to create all, including
        global-scoped, workflows *  *Administer projects* project permissions to
        create project-scoped workflows
    paths:
      /rest/api/3/workflows/create:
        post:
          summary: Bulk Create Workflows
          description: >-
            Create workflows and related statuses.**[Permissions](#permissions)
            required:** *  *Administer Jira* project permission to create all,
            including global-scoped, workflows *  *Administer projects* project
            permissions to create project-scoped workflows
          operationId: createWorkflows
          requestBody:
            required: true
            content:
              application/json:
                example:
                  scope:
                    type: GLOBAL
                  statuses:
                    - description: ''
                      name: To Do
                      statusCategory: TODO
                      statusReference: f0b24de5-25e7-4fab-ab94-63d81db6c0c0
                    - description: ''
                      name: In Progress
                      statusCategory: IN_PROGRESS
                      statusReference: c7a35bf0-c127-4aa6-869f-4033730c61d8
                    - description: ''
                      name: Done
                      statusCategory: DONE
                      statusReference: 6b3fc04d-3316-46c5-a257-65751aeb8849
                  workflows:
                    - description: ''
                      name: Software workflow 1
                      startPointLayout:
                        x: -100.00030899047852
                        'y': -153.00020599365234
                      statuses:
                        - layout:
                            x: 114.99993896484375
                            'y': -16
                          properties: {}
                          statusReference: f0b24de5-25e7-4fab-ab94-63d81db6c0c0
                        - layout:
                            x: 317.0000915527344
                            'y': -16
                          properties: {}
                          statusReference: c7a35bf0-c127-4aa6-869f-4033730c61d8
                        - layout:
                            x: 508.000244140625
                            'y': -16
                          properties: {}
                          statusReference: 6b3fc04d-3316-46c5-a257-65751aeb8849
                      transitions:
                        - actions: []
                          description: ''
                          from: []
                          id: '1'
                          name: Create
                          properties: {}
                          to:
                            statusReference: f0b24de5-25e7-4fab-ab94-63d81db6c0c0
                          triggers: []
                          type: INITIAL
                          validators: []
                        - actions: []
                          description: ''
                          from: []
                          id: '11'
                          name: To Do
                          properties: {}
                          to:
                            statusReference: f0b24de5-25e7-4fab-ab94-63d81db6c0c0
                          triggers: []
                          type: GLOBAL
                          validators: []
                        - actions: []
                          description: ''
                          from: []
                          id: '21'
                          name: In Progress
                          properties: {}
                          to:
                            statusReference: c7a35bf0-c127-4aa6-869f-4033730c61d8
                          triggers: []
                          type: GLOBAL
                          validators: []
                        - actions: []
                          description: ''
                          from: []
                          id: '31'
                          name: Done
                          properties: {}
                          to:
                            statusReference: 6b3fc04d-3316-46c5-a257-65751aeb8849
                          triggers: []
                          type: GLOBAL
                          validators: []
                schema:
                  $ref: '#/components/schemas/WorkflowCreateRequest'
          responses:
            '401':
              description: >-
                Returned if the authentication credentials are incorrect or missing,
                or the caller doesn't have permissions to perform the operation.
