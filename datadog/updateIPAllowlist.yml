apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Ip Allowlist
  description: Edit the entries in the IP allowlist, and enable or disable it.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Ip Allowlist
      description: Edit the entries in the IP allowlist, and enable or disable it.
    paths:
      /api/v2/ip_allowlist:
        patch:
          summary: Update Ip Allowlist
          description: Edit the entries in the IP allowlist, and enable or disable it.
          operationId: updateIPAllowlist
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  example:
                    data:
                      type: ip_allowlist
                      attributes:
                        enabled: true
                        entries:
                          - data:
                              type: ip_allowlist_entry
                              attributes:
                                cidr_block: ex dolor
                                created_at: '2009-12-03T11:44:52.134Z'
                                modified_at: '1959-12-24T16:13:38.278Z'
                                note: id elit
                              id: velit consectetur E
                          - data:
                              type: ip_allowlist_entry
                              attributes:
                                cidr_block: in eiusmod
                                created_at: '1966-12-20T11:32:11.805Z'
                                modified_at: '2021-08-20T00:58:12.658Z'
                                note: ea e
                              id: magna labore
                      id: elit enim
          responses:
            '429':
              description: Too Many Requests
              headers:
                Content-Type:
                  schema:
                    type: string
                    example: application/json
              content:
                application/json:
                  schema:
                    type: object
                  example:
                    errors:
                      - Bad Request
                      - Bad Request
