apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Submit Metrics
  description: >-
    The metrics end-point allows you to post time-series data that can be
    graphed on Datadog’s dashboards.The maximum payload size is 500 kilobytes
    (512000 bytes). Compressed payloads must have a decompressed size of less
    than 5 megabytes (5242880 bytes).If you’re submitting metrics directly to
    the Datadog API without using DogStatsD, expect:- 64 bits for the timestamp-
    64 bits for the value- 20 bytes for the metric names- 50 bytes for the
    timeseries- The full payload is approximately 100 bytes.Host name is one of
    the resources in the Resources field.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Submit Metrics
      description: >-
        The metrics end-point allows you to post time-series data that can be
        graphed on Datadog’s dashboards.The maximum payload size is 500 kilobytes
        (512000 bytes). Compressed payloads must have a decompressed size of less
        than 5 megabytes (5242880 bytes).If you’re submitting metrics directly to
        the Datadog API without using DogStatsD, expect:- 64 bits for the timestamp-
        64 bits for the value- 20 bytes for the metric names- 50 bytes for the
        timeseries- The full payload is approximately 100 bytes.Host name is one of
        the resources in the Resources field.
    paths:
      /api/v2/series:
        post:
          summary: Submit Metrics
          description: >-
            The metrics end-point allows you to post time-series data that can be
            graphed on Datadog’s dashboards.The maximum payload size is 500
            kilobytes (512000 bytes). Compressed payloads must have a decompressed
            size of less than 5 megabytes (5242880 bytes).If you’re submitting
            metrics directly to the Datadog API without using DogStatsD, expect:- 64
            bits for the timestamp- 64 bits for the value- 20 bytes for the metric
            names- 50 bytes for the timeseries- The full payload is approximately
            100 bytes.Host name is one of the resources in the Resources field.
          operationId: submitmetrics
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  example:
                    series:
                      - metric: <string>
                        points:
                          - timestamp: <long>
                            value: <double>
                          - timestamp: <long>
                            value: <double>
                        interval: <long>
                        metadata:
                          origin:
                            metric_type: 0
                            product: 0
                            service: 0
                        resources:
                          - name: <string>
                            type: <string>
                          - name: <string>
                            type: <string>
                        source_type_name: <string>
                        tags:
                          - <string>
                          - <string>
                        type: 3
                        unit: <string>
                      - metric: <string>
                        points:
                          - timestamp: <long>
                            value: <double>
                          - timestamp: <long>
                            value: <double>
                        interval: <long>
                        metadata:
                          origin:
                            metric_type: 0
                            product: 0
                            service: 0
                        resources:
                          - name: <string>
                            type: <string>
                          - name: <string>
                            type: <string>
                        source_type_name: <string>
                        tags:
                          - <string>
                          - <string>
                        type: 0
                        unit: <string>
          responses:
            '429':
              description: Too Many Requests
              headers:
                Content-Type:
                  schema:
                    type: string
                    example: application/json
              content:
                application/json:
                  schema:
                    type: object
                  example:
                    errors:
                      - Bad Request
                      - Bad Request
