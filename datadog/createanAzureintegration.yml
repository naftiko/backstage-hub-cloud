apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create An Azure Integration
  description: >-
    Create a Datadog-Azure integration.Using the `POST` method updates your
    integration configuration by adding your newconfiguration to the existing
    one in your Datadog organization.Using the `PUT` method updates your
    integration configuration by replacing yourcurrent configuration with the
    new one sent to your Datadog organization.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create An Azure Integration
      description: >-
        Create a Datadog-Azure integration.Using the `POST` method updates your
        integration configuration by adding your newconfiguration to the existing
        one in your Datadog organization.Using the `PUT` method updates your
        integration configuration by replacing yourcurrent configuration with the
        new one sent to your Datadog organization.
    paths:
      /api/v1/integration/azure:
        post:
          summary: Create An Azure Integration
          description: >-
            Create a Datadog-Azure integration.Using the `POST` method updates your
            integration configuration by adding your newconfiguration to the
            existing one in your Datadog organization.Using the `PUT` method updates
            your integration configuration by replacing yourcurrent configuration
            with the new one sent to your Datadog organization.
          operationId: createanAzureintegration
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  example:
                    app_service_plan_filters: key:value,filter:example
                    automute: true
                    client_id: testc7f6-1234-5678-9101-3fcbf464test
                    client_secret: testingx./Sw*g/Y33t..R1cH+hScMDt
                    container_app_filters: key:value,filter:example
                    cspm_enabled: true
                    custom_metrics_enabled: true
                    errors:
                      - '*'
                    host_filters: key:value,filter:example
                    new_client_id: new1c7f6-1234-5678-9101-3fcbf464test
                    new_tenant_name: new1c44-1234-5678-9101-cc00736ftest
                    resource_collection_enabled: true
                    tenant_name: testc44-1234-5678-9101-cc00736ftest
          responses:
            '429':
              description: Too Many Requests
              headers:
                Content-Type:
                  schema:
                    type: string
                    example: application/json
              content:
                application/json:
                  schema:
                    type: object
                  example:
                    errors:
                      - Bad Request
                      - Bad Request
