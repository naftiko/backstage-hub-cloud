apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: microsoftAzureSearchGetgeocodingbatch
  description: >-
    **Geocoding Batch API**<br><br><br>**Applies to**: see pricing
    [tiers](https://aka.ms/AzureMapsPricingTier).<br><br><br><br>The Geocoding
    Batch API sends batches of queries to [Geocoding
    API](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding) using
    just a single API call. The API allows caller to batch up to **100**
    queries.<br>>[!Important]<br>>By using this feature, you agree to the
    preview legal terms. See the [Preview Supplemental
    Terms](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)
    for additional details.<br><br>### Submit Synchronous Batch Request<br>The
    Synchronous API is recommended for lightweight batch requests. When the
    service receives a request, it will respond as soon as the batch items are
    calculated and there will be no possibility to retrieve the results later.
    The Synchronous API will return a timeout error (a 408 response) if the
    request takes longer than 60 seconds. The number of batch items is limited
    to **100** for this API.<br>```<br>POST
    https://atlas.microsoft.com/geocode/batch?api-version=2022-02-01-preview<br>```<br>###
    POST Body for Batch Request<br>To send the _geocoding_ queries you will use
    a `POST` request where the request body will contain the `batchItems` array
    in `json` format and the `Content-Type` header will be set to
    `application/json`. Here's a sample request body containing 2 _geocoding_
    queries:<br><br><br>```<br>{<br>  "batchItems": [<br>    {<br>     
    "addressLine": "One, Microsoft Way, Redmond, WA 98052",<br>      "top":
    2<br>    },<br>    {<br>      "addressLine": "Pike Pl",<br>     
    "adminDistrict": "WA",<br>      "locality": "Seattle",<br>      "top":
    3<br>    }<br>  ]<br>}<br>```<br><br>A _geocoding_ batchItem object can
    accept any of the supported _geocoding_ [URI
    parameters](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#uri-parameters)
    except query.<br><br><br>The batch should contain at least **1**
    query.<br><br><br>### Batch Response Model<br>The batch response contains a
    `summary` component that indicates the `totalRequests` that were part of the
    original batch request and `successfulRequests` i.e. queries which were
    executed successfully. The batch response also includes a `batchItems` array
    which contains a response for each and every query in the batch request. The
    `batchItems` will contain the results in the exact same order the original
    queries were sent in the batch request. Each item is of one of the following
    types:<br><br>  -
    [`GeocodingResponse`](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#geocodingresponse)
    - If the query completed successfully.<br><br>  - `Error` - If the query
    failed. The response will contain a `code` and a `message` in this
    case.<br><br><br>
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Geocode Batch
      description: >-
        **Geocoding Batch API**<br><br><br>**Applies to**: see pricing
        [tiers](https://aka.ms/AzureMapsPricingTier).<br><br><br><br>The Geocoding
        Batch API sends batches of queries to [Geocoding
        API](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding) using
        just a single API call. The API allows caller to batch up to **100**
        queries.<br>>[!Important]<br>>By using this feature, you agree to the
        preview legal terms. See the [Preview Supplemental
        Terms](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)
        for additional details.<br><br>### Submit Synchronous Batch Request<br>The
        Synchronous API is recommended for lightweight batch requests. When the
        service receives a request, it will respond as soon as the batch items are
        calculated and there will be no possibility to retrieve the results later.
        The Synchronous API will return a timeout error (a 408 response) if the
        request takes longer than 60 seconds. The number of batch items is limited
        to **100** for this API.<br>```<br>POST
        https://atlas.microsoft.com/geocode/batch?api-version=2022-02-01-preview<br>```<br>###
        POST Body for Batch Request<br>To send the _geocoding_ queries you will use
        a `POST` request where the request body will contain the `batchItems` array
        in `json` format and the `Content-Type` header will be set to
        `application/json`. Here's a sample request body containing 2 _geocoding_
        queries:<br><br><br>```<br>{<br>  "batchItems": [<br>    {<br>     
        "addressLine": "One, Microsoft Way, Redmond, WA 98052",<br>      "top":
        2<br>    },<br>    {<br>      "addressLine": "Pike Pl",<br>     
        "adminDistrict": "WA",<br>      "locality": "Seattle",<br>      "top":
        3<br>    }<br>  ]<br>}<br>```<br><br>A _geocoding_ batchItem object can
        accept any of the supported _geocoding_ [URI
        parameters](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#uri-parameters)
        except query.<br><br><br>The batch should contain at least **1**
        query.<br><br><br>### Batch Response Model<br>The batch response contains a
        `summary` component that indicates the `totalRequests` that were part of the
        original batch request and `successfulRequests` i.e. queries which were
        executed successfully. The batch response also includes a `batchItems` array
        which contains a response for each and every query in the batch request. The
        `batchItems` will contain the results in the exact same order the original
        queries were sent in the batch request. Each item is of one of the following
        types:<br><br>  -
        [`GeocodingResponse`](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#geocodingresponse)
        - If the query completed successfully.<br><br>  - `Error` - If the query
        failed. The response will contain a `code` and a `message` in this
        case.<br><br><br>
    paths:
      /geocode/batch:
        post:
          summary: Post Geocode Batch
          description: >-
            **Geocoding Batch API**<br><br><br>**Applies to**: see pricing
            [tiers](https://aka.ms/AzureMapsPricingTier).<br><br><br><br>The
            Geocoding Batch API sends batches of queries to [Geocoding
            API](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding)
            using just a single API call. The API allows caller to batch up to
            **100** queries.<br>>[!Important]<br>>By using this feature, you agree
            to the preview legal terms. See the [Preview Supplemental
            Terms](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)
            for additional details.<br><br>### Submit Synchronous Batch
            Request<br>The Synchronous API is recommended for lightweight batch
            requests. When the service receives a request, it will respond as soon
            as the batch items are calculated and there will be no possibility to
            retrieve the results later. The Synchronous API will return a timeout
            error (a 408 response) if the request takes longer than 60 seconds. The
            number of batch items is limited to **100** for this API.<br>```<br>POST
            https://atlas.microsoft.com/geocode/batch?api-version=2022-02-01-preview<br>```<br>###
            POST Body for Batch Request<br>To send the _geocoding_ queries you will
            use a `POST` request where the request body will contain the
            `batchItems` array in `json` format and the `Content-Type` header will
            be set to `application/json`. Here's a sample request body containing 2
            _geocoding_ queries:<br><br><br>```<br>{<br>  "batchItems": [<br>   
            {<br>      "addressLine": "One, Microsoft Way, Redmond, WA
            98052",<br>      "top": 2<br>    },<br>    {<br>      "addressLine":
            "Pike Pl",<br>      "adminDistrict": "WA",<br>      "locality":
            "Seattle",<br>      "top": 3<br>    }<br>  ]<br>}<br>```<br><br>A
            _geocoding_ batchItem object can accept any of the supported _geocoding_
            [URI
            parameters](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#uri-parameters)
            except query.<br><br><br>The batch should contain at least **1**
            query.<br><br><br>### Batch Response Model<br>The batch response
            contains a `summary` component that indicates the `totalRequests` that
            were part of the original batch request and `successfulRequests` i.e.
            queries which were executed successfully. The batch response also
            includes a `batchItems` array which contains a response for each and
            every query in the batch request. The `batchItems` will contain the
            results in the exact same order the original queries were sent in the
            batch request. Each item is of one of the following types:<br><br>  -
            [`GeocodingResponse`](https://docs.microsoft.com/rest/api/maps/search-v2/get-geocoding#geocodingresponse)
            - If the query completed successfully.<br><br>  - `Error` - If the query
            failed. The response will contain a `code` and a `message` in this
            case.<br><br><br>
          operationId: microsoftAzureSearchGetgeocodingbatch
          responses:
            default:
              $ref: ../../../Common/preview/1.0/common.json#/responses/default
