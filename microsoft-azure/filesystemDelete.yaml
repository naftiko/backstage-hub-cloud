apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: delete-filesystem
  description: >-
    Marks the filesystem for deletion.  When a filesystem is deleted, a
    filesystem with the same identifier cannot be created for at least 30
    seconds. While the filesystem is being deleted, attempts to create a
    filesystem with the same identifier will fail with status code 409
    (Conflict), with the service returning additional error information
    indicating that the filesystem is being deleted. All other operations,
    including operations on any files or directories within the filesystem, will
    fail with status code 404 (Not Found) while the filesystem is being deleted.
    This operation supports conditional HTTP requests.  For more information,
    see [Specifying Conditional Headers for Blob Service
    Operations](https://docs.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Delete Filesystem
      description: >-
        Marks the filesystem for deletion.  When a filesystem is deleted, a
        filesystem with the same identifier cannot be created for at least 30
        seconds. While the filesystem is being deleted, attempts to create a
        filesystem with the same identifier will fail with status code 409
        (Conflict), with the service returning additional error information
        indicating that the filesystem is being deleted. All other operations,
        including operations on any files or directories within the filesystem, will
        fail with status code 404 (Not Found) while the filesystem is being deleted.
        This operation supports conditional HTTP requests.  For more information,
        see [Specifying Conditional Headers for Blob Service
        Operations](https://docs.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations).
    paths:
      /{filesystem}:
        delete:
          summary: Delete Filesystem
          description: >-
            Marks the filesystem for deletion.  When a filesystem is deleted, a
            filesystem with the same identifier cannot be created for at least 30
            seconds. While the filesystem is being deleted, attempts to create a
            filesystem with the same identifier will fail with status code 409
            (Conflict), with the service returning additional error information
            indicating that the filesystem is being deleted. All other operations,
            including operations on any files or directories within the filesystem,
            will fail with status code 404 (Not Found) while the filesystem is being
            deleted. This operation supports conditional HTTP requests.  For more
            information, see [Specifying Conditional Headers for Blob Service
            Operations](https://docs.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations).
          operationId: filesystemDelete
          responses:
            default:
              $ref: '#/responses/ErrorResponse'
