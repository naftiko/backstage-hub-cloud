apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Datasets
  description: >-
    **Applies to:** see pricing
    [tiers](https://aka.ms/AzureMapsPricingTier).Creator makes it possible to
    develop applications based on your private indoor map data using Azure Maps
    API and SDK.
    [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps)
    article introduces concepts and tools that apply to Azure Maps Creator.This
    API allows the caller to fetch a list of all previously successfully created
    datasets.### Submit List RequestTo list all your datasets, you will issue a
    `GET` request with no additional parameters.### List Data ResponseThe List
    API returns the complete list of all datasets in `json` format. The response
    contains the following fields (if they are not null or empty):> created -
    The timestamp the dataset was created.> datasetId - The id for the dataset.>
    description - The description for the dataset.> datasetSources - The source
    data that was used when the create request was issued.> ontology - The
    source
    [ontology](https://docs.microsoft.com/en-us/azure/azure-maps/creator-facility-ontology)
    that was used in the conversion service for the input data.The
    `datasetSources` describes the source data that was used when the create
    request was issued and contains the following elements (if they are not null
    or empty):> conversionIds - The list of `conversionId` (null if none were
    provided).> appendDatasetId - The `datasetId` that was used for an append
    operation (null if none was used).>featureCounts - The counts for each
    feature type in the dataset.Here's a sample response returning the
    `timestamp`, `datasetId`, `description`, `datasetSources`, and `ontology` of
    3 dataset resources:```json{  "datasets": [    {      "timestamp":
    "2020-01-01T22:50:48.123Z",      "datasetId":
    "f6495f62-94f8-0ec2-c252-45626f82fcb2",      "description": "Some
    description or comment for the dataset.",      "datasetSources": {       
    "conversionIds": [          "15d21452-c9bb-27b6-5e79-743ca5c3205d"       
    ],      },      "ontology": "facility-2.0",      "featureCounts": {       
    "directoryInfo": 2,        "category": 10,        "facility": 1,       
    "level": 3,        "unit": 183,        "zone": 3,       
    "verticalPenetration": 6,        "opening": 48,        "areaElement":
    108      }    },    {      "timestamp": "2020-01-01T22:57:53.123Z",     
    "datasetId": "8b1288fa-1958-4a2b-b68e-13a7i5af7d7c",      "description":
    "Create from upload '0c1288fa-2058-4a1b-b68d-13a5f5af7d7c'.",     
    "datasetSources": {        "conversionIds": [         
    "0c1288fa-2058-4a1b-b68d-13a5f5af7d7c"        ],        "appendDatasetId":
    "46d1edb6-d29e-4786-9589-dbd4efd7a977"      },      "ontology":
    "facility-2.0",      "featureCounts": {        "directoryInfo": 2,       
    "category": 10,        "facility": 1,        "level": 3,        "unit":
    183,        "zone": 3,        "verticalPenetration": 6,        "opening":
    48,        "areaElement": 108      }    }  ]}```
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Datasets
      description: >-
        **Applies to:** see pricing
        [tiers](https://aka.ms/AzureMapsPricingTier).Creator makes it possible to
        develop applications based on your private indoor map data using Azure Maps
        API and SDK.
        [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps)
        article introduces concepts and tools that apply to Azure Maps Creator.This
        API allows the caller to fetch a list of all previously successfully created
        datasets.### Submit List RequestTo list all your datasets, you will issue a
        `GET` request with no additional parameters.### List Data ResponseThe List
        API returns the complete list of all datasets in `json` format. The response
        contains the following fields (if they are not null or empty):> created -
        The timestamp the dataset was created.> datasetId - The id for the dataset.>
        description - The description for the dataset.> datasetSources - The source
        data that was used when the create request was issued.> ontology - The
        source
        [ontology](https://docs.microsoft.com/en-us/azure/azure-maps/creator-facility-ontology)
        that was used in the conversion service for the input data.The
        `datasetSources` describes the source data that was used when the create
        request was issued and contains the following elements (if they are not null
        or empty):> conversionIds - The list of `conversionId` (null if none were
        provided).> appendDatasetId - The `datasetId` that was used for an append
        operation (null if none was used).>featureCounts - The counts for each
        feature type in the dataset.Here's a sample response returning the
        `timestamp`, `datasetId`, `description`, `datasetSources`, and `ontology` of
        3 dataset resources:```json{  "datasets": [    {      "timestamp":
        "2020-01-01T22:50:48.123Z",      "datasetId":
        "f6495f62-94f8-0ec2-c252-45626f82fcb2",      "description": "Some
        description or comment for the dataset.",      "datasetSources": {       
        "conversionIds": [          "15d21452-c9bb-27b6-5e79-743ca5c3205d"       
        ],      },      "ontology": "facility-2.0",      "featureCounts": {       
        "directoryInfo": 2,        "category": 10,        "facility": 1,       
        "level": 3,        "unit": 183,        "zone": 3,       
        "verticalPenetration": 6,        "opening": 48,        "areaElement":
        108      }    },    {      "timestamp": "2020-01-01T22:57:53.123Z",     
        "datasetId": "8b1288fa-1958-4a2b-b68e-13a7i5af7d7c",      "description":
        "Create from upload '0c1288fa-2058-4a1b-b68d-13a5f5af7d7c'.",     
        "datasetSources": {        "conversionIds": [         
        "0c1288fa-2058-4a1b-b68d-13a5f5af7d7c"        ],        "appendDatasetId":
        "46d1edb6-d29e-4786-9589-dbd4efd7a977"      },      "ontology":
        "facility-2.0",      "featureCounts": {        "directoryInfo": 2,       
        "category": 10,        "facility": 1,        "level": 3,        "unit":
        183,        "zone": 3,        "verticalPenetration": 6,        "opening":
        48,        "areaElement": 108      }    }  ]}```
    paths:
      /datasets:
        get:
          summary: Get Datasets
          description: >-
            **Applies to:** see pricing
            [tiers](https://aka.ms/AzureMapsPricingTier).Creator makes it possible
            to develop applications based on your private indoor map data using
            Azure Maps API and SDK.
            [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps)
            article introduces concepts and tools that apply to Azure Maps
            Creator.This API allows the caller to fetch a list of all previously
            successfully created datasets.### Submit List RequestTo list all your
            datasets, you will issue a `GET` request with no additional
            parameters.### List Data ResponseThe List API returns the complete list
            of all datasets in `json` format. The response contains the following
            fields (if they are not null or empty):> created - The timestamp the
            dataset was created.> datasetId - The id for the dataset.> description -
            The description for the dataset.> datasetSources - The source data that
            was used when the create request was issued.> ontology - The source
            [ontology](https://docs.microsoft.com/en-us/azure/azure-maps/creator-facility-ontology)
            that was used in the conversion service for the input data.The
            `datasetSources` describes the source data that was used when the create
            request was issued and contains the following elements (if they are not
            null or empty):> conversionIds - The list of `conversionId` (null if
            none were provided).> appendDatasetId - The `datasetId` that was used
            for an append operation (null if none was used).>featureCounts - The
            counts for each feature type in the dataset.Here's a sample response
            returning the `timestamp`, `datasetId`, `description`, `datasetSources`,
            and `ontology` of 3 dataset resources:```json{  "datasets": [    {     
            "timestamp": "2020-01-01T22:50:48.123Z",      "datasetId":
            "f6495f62-94f8-0ec2-c252-45626f82fcb2",      "description": "Some
            description or comment for the dataset.",      "datasetSources":
            {        "conversionIds": [         
            "15d21452-c9bb-27b6-5e79-743ca5c3205d"        ],      },     
            "ontology": "facility-2.0",      "featureCounts": {       
            "directoryInfo": 2,        "category": 10,        "facility": 1,       
            "level": 3,        "unit": 183,        "zone": 3,       
            "verticalPenetration": 6,        "opening": 48,        "areaElement":
            108      }    },    {      "timestamp": "2020-01-01T22:57:53.123Z",     
            "datasetId": "8b1288fa-1958-4a2b-b68e-13a7i5af7d7c",      "description":
            "Create from upload '0c1288fa-2058-4a1b-b68d-13a5f5af7d7c'.",     
            "datasetSources": {        "conversionIds": [         
            "0c1288fa-2058-4a1b-b68d-13a5f5af7d7c"        ],       
            "appendDatasetId": "46d1edb6-d29e-4786-9589-dbd4efd7a977"      },     
            "ontology": "facility-2.0",      "featureCounts": {       
            "directoryInfo": 2,        "category": 10,        "facility": 1,       
            "level": 3,        "unit": 183,        "zone": 3,       
            "verticalPenetration": 6,        "opening": 48,        "areaElement":
            108      }    }  ]}```
          operationId: datasetList
          responses:
            '500':
              $ref: '#/responses/500'
