apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: microsoftAzureWorkloadgroupsCreateorupdate
  description: Creates or updates a workload group.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: >-
        Put Subscriptions Subscriptionid Resourcegroups Resourcegroupname Providers
        Microsoft Sql Servers Servername Databases Databasename Workloadgroups
        Workloadgroupname
      description: Creates or updates a workload group.
    paths:
      /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/workloadGroups/{workloadGroupName}:
        put:
          summary: >-
            Put Subscriptions Subscriptionid Resourcegroups Resourcegroupname
            Providers Microsoft Sql Servers Servername Databases Databasename
            Workloadgroups Workloadgroupname
          description: Creates or updates a workload group.
          operationId: microsoftAzureWorkloadgroupsCreateorupdate
          responses:
            default:
              description: |-
                *** Error Responses: ***

                 * 400 ManagedInstanceStoppingOrStopped - Conflicting operation submitted while instance is in stopping/stopped state

                 * 400 ManagedInstanceStarting - Conflicting operation submitted while instance is in starting state

                 * 400 OperationNotAllowedOnPausedDatabase - Operation is not allowed on a paused database.

                 * 400 FeatureDisabledOnSelectedEdition - User attempted to use a feature which is disabled on current database edition.

                 * 400 InvalidWorkloadGroupNameParameter - Invalid workload group name

                 * 400 InvalidMinResourcePercentParameter - Invalid min resource percent for this workload group.

                 * 400 InvalidMinResourcePercentPerRequestParameter - Invalid min resource percent per query for this workload group.

                 * 400 InvalidMaxResourcePercentParameter - Invalid max resource percent to allocate for this workload group.

                 * 400 InvalidMaxResourcePercentPerRequestParameter - Invalid max resource percent per query for this workload group.

                 * 400 InvalidImportanceParameter - Importance must be one of the following strings: Low, Below_Normal, Normal, Above_Normal, High.

                 * 400 InvalidQueryExecutionTimeoutParameter - Invalid query execution timeout value for this workload group.

                 * 400 InvalidResourceRequestBody - The resource or resource properties in the request body is empty or invalid.

                 * 404 SubscriptionDoesNotHaveServer - The requested server was not found

                 * 404 ServerNotInSubscriptionResourceGroup - Specified server does not exist in the specified resource group and subscription.

                 * 404 DatabaseDoesNotExist - User has specified a database name that does not exist on this server instance.

                 * 404 ResourceNotFound - The requested resource was not found.

                 * 404 OperationIdNotFound - The operation with Id does not exist.

                 * 409 ConflictingDatabaseOperation - There is already some operation on the database and the current operation should wait till it is done.

                 * 409 ConflictingSystemOperationInProgress - A system maintenance operation is in progress on the database and further operations need to wait until it is completed.

                 * 409 CannotCancelOperation - The management operation is in a state that cannot be cancelled.

                 * 409 OperationCancelled - The operation has been cancelled by user.

                 * 409 OperationInterrupted - The operation on the resource could not be completed because it was interrupted by another operation on the same resource.

                 * 429 SubscriptionTooManyCreateUpdateRequests - Requests beyond max requests that can be processed by available resources.

                 * 429 SubscriptionTooManyRequests - Requests beyond max requests that can be processed by available resources.

                 * 500 OperationTimedOut - The operation timed out and automatically rolled back. Please retry the operation.

                 * 503 TooManyRequests - Requests beyond max requests that can be processed by available resources.

                 * 503 DatabaseUnavailable - The operation failed because the database is unavailable.

                 * 503 TooManyRequests - Requests beyond max requests that can be processed by available resources.

                 * 504 RequestTimeout - Service request exceeded the allowed timeout.
              schema:
                $ref: >-
                  ../../../../../common-types/resource-management/v5/types.json#/definitions/ErrorResponse
