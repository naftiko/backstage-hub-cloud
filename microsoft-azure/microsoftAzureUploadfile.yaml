apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: microsoftAzureUploadfile
  description: >-
    Uploads contents of the file to the image store. Use this API if the file is
    small enough to upload again if the connection fails. The file's data needs
    to be added to the request body. The contents will be uploaded to the
    specified path. Image store service uses a mark file to indicate the
    availability of the folder. The mark file is an empty file named "_.dir".
    The mark file is generated by the image store service when all files in a
    folder are uploaded. When using File-by-File approach to upload application
    package in REST, the image store service isn't aware of the file hierarchy
    of the application package; you need to create a mark file per folder and
    upload it last, to let the image store service know that the folder is
    complete.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: 'Uploads Contents Of The File To The Image Store '
      description: >-
        Uploads contents of the file to the image store. Use this API if the file is
        small enough to upload again if the connection fails. The file's data needs
        to be added to the request body. The contents will be uploaded to the
        specified path. Image store service uses a mark file to indicate the
        availability of the folder. The mark file is an empty file named "_.dir".
        The mark file is generated by the image store service when all files in a
        folder are uploaded. When using File-by-File approach to upload application
        package in REST, the image store service isn't aware of the file hierarchy
        of the application package; you need to create a mark file per folder and
        upload it last, to let the image store service know that the folder is
        complete.
    paths:
      /ImageStore/{contentPath}:
        put:
          summary: 'Uploads Contents Of The File To The Image Store '
          description: >-
            Uploads contents of the file to the image store. Use this API if the
            file is small enough to upload again if the connection fails. The file's
            data needs to be added to the request body. The contents will be
            uploaded to the specified path. Image store service uses a mark file to
            indicate the availability of the folder. The mark file is an empty file
            named "_.dir". The mark file is generated by the image store service
            when all files in a folder are uploaded. When using File-by-File
            approach to upload application package in REST, the image store service
            isn't aware of the file hierarchy of the application package; you need
            to create a mark file per folder and upload it last, to let the image
            store service know that the folder is complete.
          operationId: microsoftAzureUploadfile
          responses:
            default:
              description: The detailed error response.
              schema:
                $ref: '#/definitions/FabricError'
