apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: post-detect
  description: >-
    Detect human faces in an image, return face rectangles, and optionally with
    faceIds, landmarks, and attributes.* No image will be stored. Only the
    extracted face feature will be stored on server. The faceId is an identifier
    of the face feature and will be used in [Face -
    Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify), [Face
    -
    Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
    and [Face - Find
    Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar). The
    stored face feature(s) will expire and be deleted at the time specified by
    faceIdTimeToLive after the original detection call.* Optional parameters
    include faceId, landmarks, and attributes. Attributes include age, gender,
    headPose, smile, facialHair, glasses, emotion, hair, makeup, occlusion,
    accessories, blur, exposure, noise, mask, and qualityForRecognition. Some of
    the results returned for specific attributes may not be highly accurate.*
    JPEG, PNG, GIF (the first frame), and BMP format are supported. The allowed
    image file size is from 1KB to 6MB.* Up to 100 faces can be returned for an
    image. Faces are ranked by face rectangle size from large to small.* For
    optimal results when querying [Face -
    Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify), [Face
    -
    Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
    and [Face - Find
    Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar)
    ('returnFaceId' is true), please use faces that are: frontal, clear, and
    with a minimum size of 200x200 pixels (100 pixels between eyes).* The
    minimum detectable face size is 36x36 pixels in an image no larger than
    1920x1080 pixels. Images with dimensions higher than 1920x1080 pixels will
    need a proportionally larger minimum face size.* Different 'detectionModel'
    values can be provided. To use and compare different detection models,
    please refer to [How to specify a detection
    model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-detection-model).*
    Different 'recognitionModel' values are provided. If follow-up operations
    like Verify, Identify, Find Similar are needed, please specify the
    recognition model with 'recognitionModel' parameter. The default value for
    'recognitionModel' is 'recognition_01', if latest model needed, please
    explicitly specify the model you need in this parameter. Once specified, the
    detected faceIds will be associated with the specified recognition model.
    More details, please refer to [Specify a recognition
    model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-recognition-model).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Detect
      description: >-
        Detect human faces in an image, return face rectangles, and optionally with
        faceIds, landmarks, and attributes.* No image will be stored. Only the
        extracted face feature will be stored on server. The faceId is an identifier
        of the face feature and will be used in [Face -
        Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify), [Face
        -
        Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
        and [Face - Find
        Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar). The
        stored face feature(s) will expire and be deleted at the time specified by
        faceIdTimeToLive after the original detection call.* Optional parameters
        include faceId, landmarks, and attributes. Attributes include age, gender,
        headPose, smile, facialHair, glasses, emotion, hair, makeup, occlusion,
        accessories, blur, exposure, noise, mask, and qualityForRecognition. Some of
        the results returned for specific attributes may not be highly accurate.*
        JPEG, PNG, GIF (the first frame), and BMP format are supported. The allowed
        image file size is from 1KB to 6MB.* Up to 100 faces can be returned for an
        image. Faces are ranked by face rectangle size from large to small.* For
        optimal results when querying [Face -
        Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify), [Face
        -
        Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
        and [Face - Find
        Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar)
        ('returnFaceId' is true), please use faces that are: frontal, clear, and
        with a minimum size of 200x200 pixels (100 pixels between eyes).* The
        minimum detectable face size is 36x36 pixels in an image no larger than
        1920x1080 pixels. Images with dimensions higher than 1920x1080 pixels will
        need a proportionally larger minimum face size.* Different 'detectionModel'
        values can be provided. To use and compare different detection models,
        please refer to [How to specify a detection
        model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-detection-model).*
        Different 'recognitionModel' values are provided. If follow-up operations
        like Verify, Identify, Find Similar are needed, please specify the
        recognition model with 'recognitionModel' parameter. The default value for
        'recognitionModel' is 'recognition_01', if latest model needed, please
        explicitly specify the model you need in this parameter. Once specified, the
        detected faceIds will be associated with the specified recognition model.
        More details, please refer to [Specify a recognition
        model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-recognition-model).
    paths:
      /detect:
        post:
          summary: Post Detect
          description: >-
            Detect human faces in an image, return face rectangles, and optionally
            with faceIds, landmarks, and attributes.* No image will be stored. Only
            the extracted face feature will be stored on server. The faceId is an
            identifier of the face feature and will be used in [Face -
            Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify),
            [Face -
            Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
            and [Face - Find
            Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar).
            The stored face feature(s) will expire and be deleted at the time
            specified by faceIdTimeToLive after the original detection call.*
            Optional parameters include faceId, landmarks, and attributes.
            Attributes include age, gender, headPose, smile, facialHair, glasses,
            emotion, hair, makeup, occlusion, accessories, blur, exposure, noise,
            mask, and qualityForRecognition. Some of the results returned for
            specific attributes may not be highly accurate.* JPEG, PNG, GIF (the
            first frame), and BMP format are supported. The allowed image file size
            is from 1KB to 6MB.* Up to 100 faces can be returned for an image. Faces
            are ranked by face rectangle size from large to small.* For optimal
            results when querying [Face -
            Identify](https://docs.microsoft.com/rest/api/faceapi/face/identify),
            [Face -
            Verify](https://docs.microsoft.com/rest/api/faceapi/face/verifyfacetoface),
            and [Face - Find
            Similar](https://docs.microsoft.com/rest/api/faceapi/face/findsimilar)
            ('returnFaceId' is true), please use faces that are: frontal, clear, and
            with a minimum size of 200x200 pixels (100 pixels between eyes).* The
            minimum detectable face size is 36x36 pixels in an image no larger than
            1920x1080 pixels. Images with dimensions higher than 1920x1080 pixels
            will need a proportionally larger minimum face size.* Different
            'detectionModel' values can be provided. To use and compare different
            detection models, please refer to [How to specify a detection
            model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-detection-model).*
            Different 'recognitionModel' values are provided. If follow-up
            operations like Verify, Identify, Find Similar are needed, please
            specify the recognition model with 'recognitionModel' parameter. The
            default value for 'recognitionModel' is 'recognition_01', if latest
            model needed, please explicitly specify the model you need in this
            parameter. Once specified, the detected faceIds will be associated with
            the specified recognition model. More details, please refer to [Specify
            a recognition
            model](https://docs.microsoft.com/azure/cognitive-services/face/face-api-how-to-topics/specify-recognition-model).
          operationId: faceDetectWithUrl
          responses:
            default:
              description: Error response.
              schema:
                $ref: '#/definitions/APIError'
