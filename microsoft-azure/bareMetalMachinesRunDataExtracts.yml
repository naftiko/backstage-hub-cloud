apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Run Data Extraction For A Bare Metal Machine.
  description: >-
    Run one or more data extractions on the provided bare metal machine. The URL
    to storage account with the command execution results and the command exit
    code can be retrieved from the operation status API once available.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Run Data Extraction For A Bare Metal Machine.
      description: >-
        Run one or more data extractions on the provided bare metal machine. The URL
        to storage account with the command execution results and the command exit
        code can be retrieved from the operation status API once available.
    paths:
      /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NetworkCloud/bareMetalMachines/{bareMetalMachineName}/runDataExtracts:
        post:
          summary: Run Data Extraction For A Bare Metal Machine.
          description: >-
            Run one or more data extractions on the provided bare metal machine. The
            URL to storage account with the command execution results and the
            command exit code can be retrieved from the operation status API once
            available.
          operationId: bareMetalMachinesRunDataExtracts
          responses:
            default:
              description: Error response describing why the operation failed.
              schema:
                $ref: >-
                  ../../../../../common-types/resource-management/v5/types.json#/definitions/ErrorResponse
