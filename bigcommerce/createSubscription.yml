apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create A Subscription
  description: >-
    Creates or updates an email subscription.By default, customers receive
    abandoned cart emails as soon as they provide their email address in the
    checkout flow. They can opt out using this endpoint.However, if **Store
    Settings > Miscellaneous > Require Consent** is enabled, Abandoned Cart
    Emails are not sent by default, and the customer should opt-in.> #### Note>
    * Substitute your storefront domain for `yourstore.example.com`. > * The
    Send a Test Request feature is not currently supported for this endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create A Subscription
      description: >-
        Creates or updates an email subscription.By default, customers receive
        abandoned cart emails as soon as they provide their email address in the
        checkout flow. They can opt out using this endpoint.However, if **Store
        Settings > Miscellaneous > Require Consent** is enabled, Abandoned Cart
        Emails are not sent by default, and the customer should opt-in.> #### Note>
        * Substitute your storefront domain for `yourstore.example.com`. > * The
        Send a Test Request feature is not currently supported for this endpoint.
    paths:
      /subscriptions:
        post:
          summary: Create A Subscription
          description: >-
            Creates or updates an email subscription.By default, customers receive
            abandoned cart emails as soon as they provide their email address in the
            checkout flow. They can opt out using this endpoint.However, if **Store
            Settings > Miscellaneous > Require Consent** is enabled, Abandoned Cart
            Emails are not sent by default, and the customer should opt-in.> ####
            Note> * Substitute your storefront domain for `yourstore.example.com`. >
            * The Send a Test Request feature is not currently supported for this
            endpoint.
          operationId: createSubscription
          requestBody:
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/SubscriptionRequest'
          responses:
            '200':
              description: ''
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/Subscription'
