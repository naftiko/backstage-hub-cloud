apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Default Email Template
  description: Return default Abandoned Cart Email template.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Default Email Template
      description: Return default Abandoned Cart Email template.
    paths:
      /marketing/abandoned-cart-emails/default:
        get:
          summary: Get Default Email Template
          description: Return default Abandoned Cart Email template.
          operationId: getDefaultAbandonedCartEmailTemplate
          responses:
            '200':
              description: OK
              content:
                application/json:
                  schema:
                    description: ''
                    type: object
                    properties:
                      subject:
                        type: string
                        minLength: 1
                      body:
                        type: string
                        minLength: 1
                      translations:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - locale
                            - keys
                          properties:
                            locale:
                              type: string
                              minLength: 1
                            keys:
                              type: object
                              properties:
                                hello_phrase:
                                  type: string
                                  minLength: 1
                    required:
                      - subject
                      - body
                      - translations
                  examples:
                    example-1:
                      value:
                        subject: Complete your purchase at {{ store.name }}
                        body: >-
                          {{lang 'hello_phrase'}} Complete your purchase <a href="{{
                          notification.checkout_link
                          }}">{{notification.checkout.link}}
                        translations:
                          - locale: en
                            keys:
                              hello_phrase: Welcome back
