apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update A Template
  description: >-
    Update a global template or create a channel-specific email template
    override.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update A Template
      description: >-
        Update a global template or create a channel-specific email template
        override.
    paths:
      /marketing/email-templates/{template-name}:
        put:
          summary: Update A Template
          description: >-
            Update a global template or create a channel-specific email template
            override.
          operationId: updateEmailTemplate
          requestBody:
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EmailTemplate'
                examples:
                  Example:
                    value:
                      type_id: account_reset_password_email
                      body: >-
                        <!DOCTYPE html> <html lang="en"> <head>     <meta
                        charset="UTF-8">     <title>Title</title> </head> <body>
                        <p>     {{lang "reset_password" name=store.name}} </p> <br/>
                        <br/> <a href="{{account.reset_password_link}}">    
                        {{account.reset_password_link}} </a>  </body> </html>
                      translations:
                        - locale: en
                          keys:
                            reset_password: >-
                              To change your customer account password at {{name}}
                              please click this link or copy and paste it into your
                              browser:
                      subject: Reset your password at {{store.name}}
          responses:
            '400':
              description: Bad Request
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ErrorResponse'
