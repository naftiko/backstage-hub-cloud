apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update A Connection
  description: >-
    Set authentication information associated with a merchant's account on the
    tax provider's infrastructure:- [HTTP Basic
    Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)
    (developer.mozilla.org) credentials- (optional) Tax provider profile used in
    customized endpoint urls for tax provider calls. This is only available for
    tax providers that support this feature.The configured `username`,
    `password`, and `profile` (if available) is used to authenticate each API
    request to the Tax Provider from the associated store. The tax provider's
    `profile` will be included in the url for [Tax Provider
    API](/docs/rest-contracts/tax) endpoints. > #### Note> * This operation will
    be logged in [Store
    Logs](https://support.bigcommerce.com/s/article/Using-Store-Logs) under
    **Staff Actions**.> * Requires **write** permissions on the **Information
    and Settings**
    [scope](/docs/start/authentication/api-accounts#oauth-scopes).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update A Connection
      description: >-
        Set authentication information associated with a merchant's account on the
        tax provider's infrastructure:- [HTTP Basic
        Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)
        (developer.mozilla.org) credentials- (optional) Tax provider profile used in
        customized endpoint urls for tax provider calls. This is only available for
        tax providers that support this feature.The configured `username`,
        `password`, and `profile` (if available) is used to authenticate each API
        request to the Tax Provider from the associated store. The tax provider's
        `profile` will be included in the url for [Tax Provider
        API](/docs/rest-contracts/tax) endpoints. > #### Note> * This operation will
        be logged in [Store
        Logs](https://support.bigcommerce.com/s/article/Using-Store-Logs) under
        **Staff Actions**.> * Requires **write** permissions on the **Information
        and Settings**
        [scope](/docs/start/authentication/api-accounts#oauth-scopes).
    paths:
      /tax/providers/{provider_id}/connection:
        put:
          summary: Update A Connection
          description: >-
            Set authentication information associated with a merchant's account on
            the tax provider's infrastructure:- [HTTP Basic
            Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)
            (developer.mozilla.org) credentials- (optional) Tax provider profile
            used in customized endpoint urls for tax provider calls. This is only
            available for tax providers that support this feature.The configured
            `username`, `password`, and `profile` (if available) is used to
            authenticate each API request to the Tax Provider from the associated
            store. The tax provider's `profile` will be included in the url for [Tax
            Provider API](/docs/rest-contracts/tax) endpoints. > #### Note> * This
            operation will be logged in [Store
            Logs](https://support.bigcommerce.com/s/article/Using-Store-Logs) under
            **Staff Actions**.> * Requires **write** permissions on the
            **Information and Settings**
            [scope](/docs/start/authentication/api-accounts#oauth-scopes).
          operationId: updateTaxProviderConnection
          requestBody:
            description: >-
              Basic authentication information, associated with a merchant account
              on the third-party tax providerÊ¼s infrastructure.
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    username:
                      type: string
                      description: >-
                        Public identifying information representing a unique account
                        on the tax provider's infrastructure. Should not contain any
                        personal identifying information (e.g. a personal email
                        address).
                      example: MyTaxProviderAccount
                    password:
                      type: string
                      example: h6eSgKLN72q7jYTW
                    profile:
                      type: string
                      example: your_app_name
                      description: >-
                        Optional field that allows merchants to customize Tax
                        Provider API endpoint URLs. Only available for supporting
                        providers.
                examples:
                  Example:
                    value:
                      username: MyTaxProviderAccount
                      password: h6eSgKLN72q7jYTW
                      profile: test-profile
          responses:
            '422':
              description: >-
                Unprocessable Entity, will include a specific error message
                referencing the issue.
