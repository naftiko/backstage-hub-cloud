apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create Product Modifier Value
  description: >-
    Creates a *Modifier Value*.**Required Fields*** label* sort_order**Read-Only
    Fields*** id
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create Product Modifier Value
      description: >-
        Creates a *Modifier Value*.**Required Fields*** label* sort_order**Read-Only
        Fields*** id
    paths:
      /catalog/products/{product_id}/modifiers/{modifier_id}/values:
        post:
          summary: Create Product Modifier Value
          description: >-
            Creates a *Modifier Value*.**Required Fields*** label*
            sort_order**Read-Only Fields*** id
          operationId: createProductModifierValue
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  title: Modifier Value Post
                  description: The model for a POST to create a modifier value on a product.
                  allOf:
                    - title: Modifier Value Base
                      allOf:
                        - title: Option Value Base
                          required:
                            - label
                            - sort_order
                          type: object
                          properties:
                            is_default:
                              type: boolean
                              description: >
                                The flag for preselecting a value as the default on
                                the storefront. This field is not supported for
                                swatch options/modifiers.
                              example: false
                            label:
                              type: string
                              description: >
                                The text display identifying the value on the
                                storefront. Required in a /POST.
                              example: Green
                              x-required:
                                - post
                            sort_order:
                              maximum: 2147483647
                              minimum: -2147483648
                              type: integer
                              description: >
                                The order in which the value will be displayed on
                                the product page. Required in a /POST.
                              example: 0
                              x-required:
                                - post
                            value_data:
                              type: object
                              properties: {}
                              description: >
                                Extra data describing the value, based on the type
                                of option or modifier with which the value is
                                associated. The `swatch` type option can accept an
                                array of `colors`, with up to three hexidecimal
                                color keys; or an `image_url`, which is a full image
                                URL path including protocol. The `product list` type
                                option requires a `product_id`. The `checkbox` type
                                option requires a boolean flag, called
                                `checked_value`, to determine which value is
                                considered to be the checked state.
                          description: Common Option Value properties.
                        - type: object
                          properties:
                            adjusters:
                              type: object
                              properties:
                                price:
                                  title: Adjuster
                                  type: object
                                  properties:
                                    adjuster:
                                      type: string
                                      description: >
                                        The type of adjuster for either the price or
                                        the weight of the variant, when the modifier
                                        value is selected on the storefront.
                                      nullable: true
                                      enum:
                                        - relative
                                        - percentage
                                    adjuster_value:
                                      type: number
                                      description: >
                                        The numeric amount by which the adjuster
                                        will change either the price or the weight
                                        of the variant, when the modifier value is
                                        selected on the storefront.
                                      example: 5
                                  description: Adjuster for Complex Rules.
                                weight:
                                  title: Adjuster
                                  type: object
                                  properties:
                                    adjuster:
                                      type: string
                                      description: >
                                        The type of adjuster for either the price or
                                        the weight of the variant, when the modifier
                                        value is selected on the storefront.
                                      nullable: true
                                      enum:
                                        - relative
                                        - percentage
                                    adjuster_value:
                                      type: number
                                      description: >
                                        The numeric amount by which the adjuster
                                        will change either the price or the weight
                                        of the variant, when the modifier value is
                                        selected on the storefront.
                                      example: 5
                                  description: Adjuster for Complex Rules.
                                image_url:
                                  type: string
                                  description: >
                                    The URL for an image displayed on the storefront
                                    when the modifier value is selected.Limit of 8MB
                                    per file.
                                  example: >-
                                    https://cdn8.bigcommerce.com/s-{{store_hash}}/products/184/images/445/naturalcanvascart2_1024x1024__92347__29648.1534344533.1280.1280.jpg?c=2
                                purchasing_disabled:
                                  type: object
                                  properties:
                                    status:
                                      type: boolean
                                      description: >
                                        Flag for whether the modifier value disables
                                        purchasing when selected on the storefront.
                                        This can be used for temporarily disabling a
                                        particular modifier value.
                                    message:
                                      type: string
                                      description: >
                                        The message displayed on the storefront when
                                        the purchasing disabled status is `true`.
          responses:
            '422':
              description: >
                The `ModifierValue` was not valid. This is the result of missing
                required fields, or of invalid data. See the response for more
                details.
              content:
                application/json:
                  schema:
                    title: Error Response
                    type: object
                    properties:
                      errors:
                        title: Detailed Errors
                        type: object
                        properties: {}
                        additionalProperties: true
                      instance:
                        type: string
                      status:
                        type: integer
                        description: |
                          The HTTP status code.
                      title:
                        type: string
                        description: |
                          The error title describing the particular error.
                      type:
                        type: string
