apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Upsert Customer Attribute Values
  description: >-
    Upserts Customer Attribute Values. Updates the attribute values on the
    Customer. Multiple customer attribute values can be updated in one
    call.Upsert checks for an existing record. If there is none, it creates the
    record, if there is a matching record, it updates that record.**Limits*** 10
    per call limit.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Upsert Customer Attribute Values
      description: >-
        Upserts Customer Attribute Values. Updates the attribute values on the
        Customer. Multiple customer attribute values can be updated in one
        call.Upsert checks for an existing record. If there is none, it creates the
        record, if there is a matching record, it updates that record.**Limits*** 10
        per call limit.
    paths:
      /customers/attribute-values:
        put:
          summary: Upsert Customer Attribute Values
          description: >-
            Upserts Customer Attribute Values. Updates the attribute values on the
            Customer. Multiple customer attribute values can be updated in one
            call.Upsert checks for an existing record. If there is none, it creates
            the record, if there is a matching record, it updates that
            record.**Limits*** 10 per call limit.
          operationId: upsertCustomersAttributeValues
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/attributeValue_Base'
                examples:
                  Example:
                    value:
                      - attribute_id: 1
                        value: 'No'
                        customer_id: 2
          responses:
            '422':
              description: >
                The `CustomerAttributeValue` was not valid. This is the result of
                missing required fields, or of invalid data. See the response for
                more details.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ErrorResponse'
