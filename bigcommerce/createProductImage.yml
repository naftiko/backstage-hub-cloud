apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create A Product Image
  description: >-
    Creates a *Product Image*. **Required Fields**- `image_file`, or-
    `image_url`**Usage Notes**- `image_url` - `255` character limit- For file
    uploads, use the `multipart/form-data` media type.- You can create only one
    image at a time. A product can have up to 1000 images.- Supported image file
    types are BMP, GIF, JPEG, PNG, WBMP, XBM, and WEBP.- Each image file or
    image uploaded by URL can be up to 8 MB.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create A Product Image
      description: >-
        Creates a *Product Image*. **Required Fields**- `image_file`, or-
        `image_url`**Usage Notes**- `image_url` - `255` character limit- For file
        uploads, use the `multipart/form-data` media type.- You can create only one
        image at a time. A product can have up to 1000 images.- Supported image file
        types are BMP, GIF, JPEG, PNG, WBMP, XBM, and WEBP.- Each image file or
        image uploaded by URL can be up to 8 MB.
    paths:
      /catalog/products/{product_id}/images:
        post:
          summary: Create A Product Image
          description: >-
            Creates a *Product Image*. **Required Fields**- `image_file`, or-
            `image_url`**Usage Notes**- `image_url` - `255` character limit- For
            file uploads, use the `multipart/form-data` media type.- You can create
            only one image at a time. A product can have up to 1000 images.-
            Supported image file types are BMP, GIF, JPEG, PNG, WBMP, XBM, and
            WEBP.- Each image file or image uploaded by URL can be up to 8 MB.
          operationId: createProductImage
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  title: Product Image Post
                  description: The model for a POST to create an image on a product.
                  allOf:
                    - title: Product Image Base
                      type: object
                      properties:
                        product_id:
                          type: integer
                          description: >
                            The unique numeric identifier for the product with which
                            the image is associated.
                        url_zoom:
                          readOnly: true
                          type: string
                          description: >
                            The zoom URL for this image. By default, this is used as
                            the zoom image on product pages when zoom images are
                            enabled. You should provide an image smaller than
                            1280x1280; otherwise, the API returns a resized image.
                        url_standard:
                          readOnly: true
                          type: string
                          description: >
                            The standard URL for this image. By default, this is
                            used for product-page images.
                        url_thumbnail:
                          readOnly: true
                          type: string
                          description: >
                            The thumbnail URL for this image. By default, this is
                            the image size used on the category page and in side
                            panels.
                        url_tiny:
                          readOnly: true
                          type: string
                          description: >
                            The tiny URL for this image. By default, this is the
                            image size used for thumbnails beneath the product image
                            on a product page.
                        date_modified:
                          type: string
                          description: |
                            The date on which the product image was modified.
                          format: date-time
                        is_thumbnail:
                          type: boolean
                          description: >
                            Flag for identifying whether the image is used as the
                            product始s thumbnail.
                        sort_order:
                          maximum: 2147483647
                          minimum: -2147483648
                          type: integer
                          description: >
                            The order in which the image will be displayed on the
                            product page. Higher integers give the image a lower
                            priority. When updating, if the image is given a lower
                            priority, all images with a `sort_order` the same as or
                            greater than the image始s new `sort_order` value will
                            have their `sort_order`s reordered.
                        description:
                          type: string
                          description: |
                            The description for the image.
                      description: Common ProductImage properties.
                    - type: object
                      properties:
                        image_url:
                          type: string
                          description: >
                            Must be a fully qualified URL path, including protocol.
                            Limit of 8MB per file.
                        image_file:
                          type: string
                          description: >
                            The local path to the original image file uploaded to
                            BigCommerce. A `multipart/form-data` media type.


                            Must be sent as a `multipart/form-data` field in the
                            request body. Limit of 8 MB per file.
              multipart/form-data:
                schema:
                  title: Product Image Post
                  description: The model for a POST to create an image on a product.
                  allOf:
                    - title: Product Image Base
                      type: object
                      properties:
                        id:
                          type: integer
                          description: >
                            The unique numeric ID of the image; increments
                            sequentially.
                        product_id:
                          type: integer
                          description: >
                            The unique numeric identifier for the product with which
                            the image is associated.
                        url_zoom:
                          readOnly: true
                          type: string
                          description: >
                            The zoom URL for this image. By default, this is used as
                            the zoom image on product pages when zoom images are
                            enabled. You should provide an image smaller than
                            1280x1280; otherwise, the API returns a resized image.
                        url_standard:
                          readOnly: true
                          type: string
                          description: >
                            The standard URL for this image. By default, this is
                            used for product-page images.
                        url_thumbnail:
                          readOnly: true
                          type: string
                          description: >
                            The thumbnail URL for this image. By default, this is
                            the image size used on the category page and in side
                            panels.
                        url_tiny:
                          readOnly: true
                          type: string
                          description: >
                            The tiny URL for this image. By default, this is the
                            image size used for thumbnails beneath the product image
                            on a product page.
                        date_modified:
                          type: string
                          description: |
                            The date on which the product image was modified.
                          format: date-time
                        is_thumbnail:
                          type: boolean
                          description: >
                            Flag for identifying whether the image is used as the
                            product始s thumbnail.
                        sort_order:
                          maximum: 2147483647
                          minimum: -2147483648
                          type: integer
                          description: >
                            The order in which the image will be displayed on the
                            product page. Higher integers give the image a lower
                            priority. When updating, if the image is given a lower
                            priority, all images with a `sort_order` the same as or
                            greater than the image始s new `sort_order` value will
                            have their `sort_order`s reordered.
                        description:
                          type: string
                          description: |
                            The description for the image.
                      description: Common ProductImage properties.
                    - type: object
                      properties:
                        image_url:
                          type: string
                          description: >
                            Must be a fully qualified URL path, including protocol.
                            Limit of 8MB per file.
                        image_file:
                          type: string
                          description: >
                            The local path to the original image file uploaded to
                            BigCommerce. A `multipart/form-data` media type.


                            Must be sent as a multipart/form-data field in the
                            request body. Limit of 8 MB per file.
          responses:
            '422':
              description: >-
                Unprocessable Entity. 


                May occur if the `Content-Type` header is set to
                `multipart/form-data` rather than `application/json` when creating a
                product image using `image_url`.
              content:
                application/json:
                  schema:
                    required:
                      - status
                      - title
                      - type
                    type: object
                    properties:
                      status:
                        type: number
                      title:
                        minLength: 1
                        type: string
                      type:
                        minLength: 1
                        type: string
                    description: ''
                  example:
                    status: 422
                    title: image_url must be present if uploading by url
                    type: /api-docs/getting-started/api-status-codes
