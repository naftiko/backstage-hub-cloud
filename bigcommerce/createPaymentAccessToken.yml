apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create Payment Access Token
  description: >-
    Use this endpoint to create a payment access token. A payment access token
    is required to process payments with the BigCommerce API.You can also
    generate a payment access token during checkout by using the
    `completeCheckout` mutation in the [GraphQL Storefront
    API](/docs/storefront/cart-checkout/guide/graphql-storefront#handling-payments).After
    the token is created, use the token to [Process a
    payment](/docs/rest-payments/processing#process-payment).**Required
    Fields*** order_id
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create Payment Access Token
      description: >-
        Use this endpoint to create a payment access token. A payment access token
        is required to process payments with the BigCommerce API.You can also
        generate a payment access token during checkout by using the
        `completeCheckout` mutation in the [GraphQL Storefront
        API](/docs/storefront/cart-checkout/guide/graphql-storefront#handling-payments).After
        the token is created, use the token to [Process a
        payment](/docs/rest-payments/processing#process-payment).**Required
        Fields*** order_id
    paths:
      /payments/access_tokens:
        post:
          summary: Create Payment Access Token
          description: >-
            Use this endpoint to create a payment access token. A payment access
            token is required to process payments with the BigCommerce API.You can
            also generate a payment access token during checkout by using the
            `completeCheckout` mutation in the [GraphQL Storefront
            API](/docs/storefront/cart-checkout/guide/graphql-storefront#handling-payments).After
            the token is created, use the token to [Process a
            payment](/docs/rest-payments/processing#process-payment).**Required
            Fields*** order_id
          operationId: createPaymentAccessToken
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  title: Payment Access Token Request
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                examples:
                  example-1:
                    value:
                      order:
                        id: 1
                        is_recurring: false
          responses:
            default:
              description: Internal server error
              content:
                application/json:
                  schema:
                    title: ErrorResponse
                    type: object
                    properties:
                      status:
                        description: HTTP status code
                        type: integer
                        format: int32
                      title:
                        description: Short summary describing the particular error
                        type: string
                      detail:
                        description: Detailed summary describing the particular error
                        type: string
                      type:
                        description: Reference that identifies the particular error
                        type: string
                      code:
                        description: Code representing the particular error
                        type: integer
                        format: int32
                      errors:
                        type: object
                        additionalProperties:
                          type: string
                    required:
                      - status
                      - title
                      - type
