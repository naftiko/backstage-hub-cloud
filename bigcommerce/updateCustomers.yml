apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Customers
  description: >-
    Updates Customers. Subresource updates are not supported. Up to 10 customers
    can be updated in one call.**Required Fields*** id -- ID of the *Customer*
    This must be included in the request body**Read Only Fields*** id*
    registration_ip_address* date_created* date_modified**Notes*** Attributes
    Values can not be updated using Update a Customer. Use the [Update customer
    attribute
    values](/docs/rest-management/customers/customer-attribute-values#upsert-customer-attribute-values)
    endpoint.* channel_ids -- Updating the list of channels a customer can
    access may create some side effects in a multi-storefront situation. This
    list determines which customer account we will use to authenticate a shopper
    given a channel.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Customers
      description: >-
        Updates Customers. Subresource updates are not supported. Up to 10 customers
        can be updated in one call.**Required Fields*** id -- ID of the *Customer*
        This must be included in the request body**Read Only Fields*** id*
        registration_ip_address* date_created* date_modified**Notes*** Attributes
        Values can not be updated using Update a Customer. Use the [Update customer
        attribute
        values](/docs/rest-management/customers/customer-attribute-values#upsert-customer-attribute-values)
        endpoint.* channel_ids -- Updating the list of channels a customer can
        access may create some side effects in a multi-storefront situation. This
        list determines which customer account we will use to authenticate a shopper
        given a channel.
    paths:
      /customers:
        put:
          summary: Update Customers
          description: >-
            Updates Customers. Subresource updates are not supported. Up to 10
            customers can be updated in one call.**Required Fields*** id -- ID of
            the *Customer* This must be included in the request body**Read Only
            Fields*** id* registration_ip_address* date_created*
            date_modified**Notes*** Attributes Values can not be updated using
            Update a Customer. Use the [Update customer attribute
            values](/docs/rest-management/customers/customer-attribute-values#upsert-customer-attribute-values)
            endpoint.* channel_ids -- Updating the list of channels a customer can
            access may create some side effects in a multi-storefront situation.
            This list determines which customer account we will use to authenticate
            a shopper given a channel.
          operationId: updateCustomers
          requestBody:
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/customer_Put'
                examples:
                  example-1:
                    value:
                      - email: string
                        first_name: string
                        last_name: string
                        company: string
                        phone: string
                        registration_ip_address: string
                        notes: string
                        tax_exempt_category: string
                        customer_group_id: 0
                        id: 1
                        authentication:
                          force_password_reset: true
                          new_password: string123
                        accepts_product_review_abandoned_cart_emails: true
                        store_credit_amounts:
                          - amount: 43.15
                        origin_channel_id: 1
                        channel_ids:
                          - 1
                        form_fields:
                          - name: test
                            value: test
                  example-2-form-fields:
                    value:
                      - id: 1
                        form_fields:
                          - name: test
                            value: test
          responses:
            '422':
              description: >
                The `Customer` was not valid. This is the result of missing required
                fields, or of invalid data. See the response for more details.
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ErrorResponse'
