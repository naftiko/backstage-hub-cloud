apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create Cart Redirect Url
  description: >-
    Creates a **Cart** redirect URL for redirecting a shopper to an already
    created cart using the `cartId`.**Usage Notes*** Redirect URLs can also be
    created with **Create a Cart** requests by appending
    `include=redirect_urls`.* A **Carts** redirect URL may only be used once.*
    Redirect URLs point to either a shared checkout domain or a channel-specific
    domain, depending on the storefront configuration.* Once a redirect URL has
    been visited, it will be invalidated and cannot be used again. * If your
    application requires URLs to be visited more than once, consider generating
    a fresh one each time you need to restore a cart, and redirecting to the URL
    from your own application.* Redirect URLs can be generated only from carts
    that were created using the **REST Management API**. * To restore a cart
    that was created on the storefront, either by a shopper or a Storefront API,
    first recreate the cart using the **REST Management API**.* When redirecting
    the shopper, you can add a set of `query_params` to the URL. The
    `query_params` feature allows passing additional information to the redirect
    URL.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create Cart Redirect Url
      description: >-
        Creates a **Cart** redirect URL for redirecting a shopper to an already
        created cart using the `cartId`.**Usage Notes*** Redirect URLs can also be
        created with **Create a Cart** requests by appending
        `include=redirect_urls`.* A **Carts** redirect URL may only be used once.*
        Redirect URLs point to either a shared checkout domain or a channel-specific
        domain, depending on the storefront configuration.* Once a redirect URL has
        been visited, it will be invalidated and cannot be used again. * If your
        application requires URLs to be visited more than once, consider generating
        a fresh one each time you need to restore a cart, and redirecting to the URL
        from your own application.* Redirect URLs can be generated only from carts
        that were created using the **REST Management API**. * To restore a cart
        that was created on the storefront, either by a shopper or a Storefront API,
        first recreate the cart using the **REST Management API**.* When redirecting
        the shopper, you can add a set of `query_params` to the URL. The
        `query_params` feature allows passing additional information to the redirect
        URL.
    paths:
      /carts/{cartId}/redirect_urls:
        post:
          summary: Create Cart Redirect Url
          description: >-
            Creates a **Cart** redirect URL for redirecting a shopper to an already
            created cart using the `cartId`.**Usage Notes*** Redirect URLs can also
            be created with **Create a Cart** requests by appending
            `include=redirect_urls`.* A **Carts** redirect URL may only be used
            once.* Redirect URLs point to either a shared checkout domain or a
            channel-specific domain, depending on the storefront configuration.*
            Once a redirect URL has been visited, it will be invalidated and cannot
            be used again. * If your application requires URLs to be visited more
            than once, consider generating a fresh one each time you need to restore
            a cart, and redirecting to the URL from your own application.* Redirect
            URLs can be generated only from carts that were created using the **REST
            Management API**. * To restore a cart that was created on the
            storefront, either by a shopper or a Storefront API, first recreate the
            cart using the **REST Management API**.* When redirecting the shopper,
            you can add a set of `query_params` to the URL. The `query_params`
            feature allows passing additional information to the redirect URL.
          operationId: createCartRedirectURL
          requestBody:
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Redirect_urls_Post'
          responses:
            '201':
              $ref: '#/components/responses/CartRedirectResponse'
