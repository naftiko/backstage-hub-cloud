apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create A Refund
  description: >-
    Creates a refund. When there are no payment method validation issues, the
    refund process is successful and the refund payment request is scheduled.
    The payment request itself occurs asynchronously.Requires at least one of
    the following scopes:* `store_v2_orders`*
    `store_v2_transactions`**Note:**Order refunds are processed consecutively.
    Processing synchronous refunds on an order are not yet supported.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create A Refund
      description: >-
        Creates a refund. When there are no payment method validation issues, the
        refund process is successful and the refund payment request is scheduled.
        The payment request itself occurs asynchronously.Requires at least one of
        the following scopes:* `store_v2_orders`*
        `store_v2_transactions`**Note:**Order refunds are processed consecutively.
        Processing synchronous refunds on an order are not yet supported.
    paths:
      /orders/{order_id}/payment_actions/refunds:
        post:
          summary: Create A Refund
          description: >-
            Creates a refund. When there are no payment method validation issues,
            the refund process is successful and the refund payment request is
            scheduled. The payment request itself occurs asynchronously.Requires at
            least one of the following scopes:* `store_v2_orders`*
            `store_v2_transactions`**Note:**Order refunds are processed
            consecutively. Processing synchronous refunds on an order are not yet
            supported.
          operationId: createOrderRefund
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/RefundRequest_Post'
          responses:
            '503':
              description: Service Unavailable
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/FailedQuoteError'
                      meta:
                        $ref: '#/components/schemas/Meta'
                  examples:
                    response:
                      value:
                        data:
                          - order_id: 1
                            status: 503
                            error: Tax service gone away
                        meta: {}
