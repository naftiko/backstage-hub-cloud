apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create A Category
  description: "When possible, use the [Category Trees - Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint instead.Creates a *Category*.Use this endpoint when an API only works with categories of a default BigCommerce storefront (`channel_id=1`). Use the [Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint when an API works with categories across different category trees that belong to different storefront channels.**Required Fields**:- `parent_id`: \t- To create a child category, set the `parent_id` to the parent category.\t- To create a top level category, set the `parent_id` to `0`.- `name`**Read-Only Fields**:- `id`**Limits**:- 16,000 categories per store limit.- 1,000 categories per product limit.- 50 characters category name length.- 8 levels of category depth limit.- 65,642 characters category description length limit. **Note:** The default rate limit for this endpoint is 40 concurrent requests."
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create A Category
      description: "When possible, use the [Category Trees - Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint instead.Creates a *Category*.Use this endpoint when an API only works with categories of a default BigCommerce storefront (`channel_id=1`). Use the [Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint when an API works with categories across different category trees that belong to different storefront channels.**Required Fields**:- `parent_id`: \t- To create a child category, set the `parent_id` to the parent category.\t- To create a top level category, set the `parent_id` to `0`.- `name`**Read-Only Fields**:- `id`**Limits**:- 16,000 categories per store limit.- 1,000 categories per product limit.- 50 characters category name length.- 8 levels of category depth limit.- 65,642 characters category description length limit. **Note:** The default rate limit for this endpoint is 40 concurrent requests."
    paths:
      /catalog/categories:
        post:
          summary: Create A Category
          description: "When possible, use the [Category Trees - Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint instead.Creates a *Category*.Use this endpoint when an API only works with categories of a default BigCommerce storefront (`channel_id=1`). Use the [Create categories](/docs/rest-catalog/category-trees/categories#create-categories) endpoint when an API works with categories across different category trees that belong to different storefront channels.**Required Fields**:- `parent_id`: \t- To create a child category, set the `parent_id` to the parent category.\t- To create a top level category, set the `parent_id` to `0`.- `name`**Read-Only Fields**:- `id`**Limits**:- 16,000 categories per store limit.- 1,000 categories per product limit.- 50 characters category name length.- 8 levels of category depth limit.- 65,642 characters category description length limit. **Note:** The default rate limit for this endpoint is 40 concurrent requests."
          operationId: createCategory
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  title: Category
                  type: object
                  description: Common Category object properties.
                  properties:
                    parent_id:
                      type: integer
                      description: >-
                        The unique numeric ID of the category始s parent. This field
                        controls where the category sits in the tree of categories
                        that organize the catalog.

                        Required in a POST if creating a child category.
                      example: 2
                      x-required:
                        - post
                    name:
                      maxLength: 50
                      minLength: 1
                      type: string
                      description: >-
                        The name displayed for the category. Name is unique with
                        respect to the category始s siblings.

                        Required in a POST.
                      example: Bath
                      x-required:
                        - post
                    description:
                      type: string
                      description: |
                        The product description, which can include HTML formatting.
                      example: >-
                        <p>We offer a wide variety of products perfect for
                        relaxing</p>
                    views:
                      type: integer
                      description: |
                        Number of views the category has on the storefront.
                      example: 1050
                    sort_order:
                      maximum: 2147483647
                      minimum: -2147483648
                      type: integer
                      description: >
                        Priority this category will be given when included in the
                        menu and category pages. The lower the number, the closer to
                        the top of the results the category will be.
                      example: 3
                    page_title:
                      maxLength: 255
                      minLength: 0
                      type: string
                      description: >
                        Custom title for the category page. If not defined, the
                        category name will be used as the meta title.
                      example: Bath
                    search_keywords:
                      maxLength: 255
                      minLength: 0
                      type: string
                      description: >
                        A comma-separated list of keywords that can be used to
                        locate the category when searching the store.
                    meta_keywords:
                      type: array
                      description: >
                        Custom meta keywords for the category page. If not defined,
                        the store始s default keywords will be used. Must post as an
                        array like: ["awesome","sauce"].
                      items:
                        type: string
                    meta_description:
                      maxLength: 65535
                      minLength: 0
                      type: string
                      description: >
                        Custom meta description for the category page. If not
                        defined, the store始s default meta description will be used.
                    layout_file:
                      maxLength: 500
                      minLength: 0
                      type: string
                      description: >
                        A valid layout file. Please refer to [the article on
                        creating category files (Help
                        Center)](https://support.bigcommerce.com/articles/Public/Creating-Custom-Template-Files/).
                        This field is writable only for stores with a Blueprint
                        theme applied. For stores with a Stencil theme applied, see
                        [Custom Template
                        Associations](/docs/rest-content/custom-template-associations).
                      example: category.html
                    is_visible:
                      type: boolean
                      description: >
                        Flag to determine whether the category should be displayed
                        to customers browsing the store. If `true`, the category
                        will be displayed. If `false`, the category will be hidden
                        from view.
                    default_product_sort:
                      type: string
                      description: >
                        Determines how the products are sorted on category page
                        load.
                      enum:
                        - use_store_settings
                        - featured
                        - newest
                        - best_selling
                        - alpha_asc
                        - alpha_desc
                        - avg_customer_review
                        - price_asc
                        - price_desc
                    image_url:
                      type: string
                      description: >
                        Image URL used for this category on the storefront. Images
                        can be uploaded using form file post to
                        `/categories/{categoryId}/image`, or by providing a publicly
                        accessible URL in this field. An image extension like .jpg
                        or .png is required.
                      example: >-
                        https://cdn8.bigcommerce.com/s-123456/product_images/d/fakeimage.png
                      x-url: true
                    custom_url:
                      title: Custom Url Category
                      type: object
                      description: The custom URL for the category on the storefront.
                      properties:
                        url:
                          maxLength: 255
                          minLength: 0
                          type: string
                          description: |
                            Category URL on the storefront.
                          example: /shoes
                          x-required:
                            - post
                            - put
                          x-url: true
                        is_customized:
                          type: boolean
                          description: >
                            Returns `true` if the URL has been changed from its
                            default state (the auto-assigned URL that BigCommerce
                            provides).
                          x-required:
                            - post
                            - put
                  required:
                    - parent_id
                    - name
          responses:
            '422':
              description: >
                The `Category` was not valid. This is the result of missing required
                fields, or of invalid data. See the response for more details.
              content:
                application/json:
                  schema:
                    title: Error Response
                    type: object
                    properties:
                      errors:
                        title: Detailed Errors
                        type: object
                        properties: {}
                        additionalProperties: true
                      instance:
                        type: string
                      status:
                        type: integer
                        description: |
                          The HTTP status code.
                      title:
                        type: string
                        description: |
                          The error title describing the particular error.
                      type:
                        type: string
