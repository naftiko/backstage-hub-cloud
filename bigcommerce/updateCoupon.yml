apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update A Coupon
  description: >-
    Updates a *Coupon*.**Read Only Fields*** `id`* `num_uses`*
    `date_created`**Notes**If the `applies_to` value is cleared, you can restore
    it to the coupon by reapplying the `applies_to` value in a new `PUT`
    request.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update A Coupon
      description: >-
        Updates a *Coupon*.**Read Only Fields*** `id`* `num_uses`*
        `date_created`**Notes**If the `applies_to` value is cleared, you can restore
        it to the coupon by reapplying the `applies_to` value in a new `PUT`
        request.
    paths:
      /coupons/{id}:
        put:
          summary: Update A Coupon
          description: >-
            Updates a *Coupon*.**Read Only Fields*** `id`* `num_uses`*
            `date_created`**Notes**If the `applies_to` value is cleared, you can
            restore it to the coupon by reapplying the `applies_to` value in a new
            `PUT` request.
          operationId: updateCoupon
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/coupon_Base'
          responses:
            '200':
              description: ''
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/coupon_Full'
                  example:
                    id: 1
                    name: $5 off
                    type: per_total_discount
                    amount: '5.0000'
                    min_purchase: '0.0000'
                    expires: ''
                    enabled: true
                    code: S2549JM0Y
                    applies_to:
                      entity: categories
                      ids:
                        - 0
                    num_uses: 2
                    max_uses: 0
                    max_uses_per_customer: 0
                    restricted_to: {}
                    shipping_methods: []
                    date_created: Tue, 13 Mar 2018 16:18:59 +0000
