apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Cart Line Item
  description: >-
    Updates a *Cart* line item. Updates an existing, single line item quantity
    and the price of custom items in a cart.If a modified product or variant
    needs to be changed or updated, you can remove and re-add the product to the
    cart with the correct variants using the [Delete Cart Line
    Item](/docs/rest-storefront/carts/cart-items#delete-cart-line-item) and the
    [Add Cart Line
    Items](/docs/rest-storefront/carts/cart-items#add-cart-line-items)
    endpoints. You can also use carts mutations that are part of the [GraphQL
    Storefront API](/docs/storefront/cart-checkout/guide/graphql-storefront).>
    #### Notes> * Substitute your storefront domain for `yourstore.example.com`.
    > * The Send a Test Request feature is not currently supported for this
    endpoint. > * Please note that this API endpoint is not concurrent safe,
    meaning multiple simultaneous requests could result in unexpected and
    inconsistent results.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Cart Line Item
      description: >-
        Updates a *Cart* line item. Updates an existing, single line item quantity
        and the price of custom items in a cart.If a modified product or variant
        needs to be changed or updated, you can remove and re-add the product to the
        cart with the correct variants using the [Delete Cart Line
        Item](/docs/rest-storefront/carts/cart-items#delete-cart-line-item) and the
        [Add Cart Line
        Items](/docs/rest-storefront/carts/cart-items#add-cart-line-items)
        endpoints. You can also use carts mutations that are part of the [GraphQL
        Storefront API](/docs/storefront/cart-checkout/guide/graphql-storefront).>
        #### Notes> * Substitute your storefront domain for `yourstore.example.com`.
        > * The Send a Test Request feature is not currently supported for this
        endpoint. > * Please note that this API endpoint is not concurrent safe,
        meaning multiple simultaneous requests could result in unexpected and
        inconsistent results.
    paths:
      /carts/{cartId}/items/{itemId}:
        put:
          summary: Update Cart Line Item
          description: >-
            Updates a *Cart* line item. Updates an existing, single line item
            quantity and the price of custom items in a cart.If a modified product
            or variant needs to be changed or updated, you can remove and re-add the
            product to the cart with the correct variants using the [Delete Cart
            Line Item](/docs/rest-storefront/carts/cart-items#delete-cart-line-item)
            and the [Add Cart Line
            Items](/docs/rest-storefront/carts/cart-items#add-cart-line-items)
            endpoints. You can also use carts mutations that are part of the
            [GraphQL Storefront
            API](/docs/storefront/cart-checkout/guide/graphql-storefront).> ####
            Notes> * Substitute your storefront domain for `yourstore.example.com`.
            > * The Send a Test Request feature is not currently supported for this
            endpoint. > * Please note that this API endpoint is not concurrent safe,
            meaning multiple simultaneous requests could result in unexpected and
            inconsistent results.
          operationId: updateCartLineItem
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/requestLineItemPut'
                examples:
                  Variant Item:
                    value:
                      lineItem:
                        productId: 229
                        variantId: 191
                        quantity: 10
                      locale: en
                  Custom Item:
                    value:
                      lineItem:
                        productId: 118
                        variantId: 140
                        quantity: 10
                        optionSelections:
                          - optionId: 125
                            optionValue: 127
                      locale: en
                  With Gift Wrapping:
                    value:
                      lineItem:
                        quantity: 2
                        productId: 230
                        variantId: 124
                        giftWrapping:
                          wrapTogether: true
                          wrapDetails:
                            - id: 1
                              message: Happy Birthday
                  With null Gift Wrapping (will delete current gift wrapping):
                    value:
                      lineItem:
                        quantity: 2
                        productId: 230
                        variantId: 124
                        giftWrapping: null
          responses:
            '200':
              $ref: '#/components/responses/putCartsItems'
