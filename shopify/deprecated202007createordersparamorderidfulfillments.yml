apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: |-
    Create A Fulfillment For The Specified Order And Line Items.
      The Fulfillment's Status Depends On The Line Items In The Order:
      
      If The Line Items In The Fulfillment Use A Manual Or Custom Fulfillment Service, Then The Status Of The Returned Fulfillment Will Be Set Immediately.
      If The Line Items Use An External Fulfillment Service, Then They Will Be Queued For Fulfillment And The Status Will Be Set To Pending Until The External Fulfillment Service Has Been Invoked.
      
      
      A Fulfillment Might Then Transition To Open, Which Implies It Is Being Processed By The Service, Before Transitioning To Success When The Items Have Shipped.
      If You Don't Specify Line Item Ids, Then All Unfulfilled And Partially Fulfilled Line Items For The Order Will Be Fulfilled.
      However, If An Order Is Refunded Or If Any Of Its Individual Line Items Are Refunded, Then The Order Can't Be Fulfilled.
      
      All Line Items Being Fulfilled Must Have The Same Fulfillment Service.
      
      
      Note
      If You Are Using This Endpoint With A Partner Development Store Or A Trial Store, Then You Can Create No More Than 5 New Fulfillments Per Minute.
      
      About Tracking Urls
      If You're Creating A Fulfillment For A Supported Carrier, Then You Can Send The Tracking_company And Tracking_numbers Fields, And Shopify Will Generate The Tracking_url For You. If You're Creating A Fulfillment For An Unsupported Carrier (not In The Tracking_company List), Then Send The Tracking_company, Tracking_numbers, And Tracking_urls Fields.
      
      
      Note
      If You Send An Unsupported Carrier Without A Tracking Url, Then Shopify Will Still Try To Generate A Valid Tracking Url By Using Pattern Matching On The Tracking Number. However, Shopify Does Not Validate The Tracking Url, So You Should Make Sure That Your Tracking Url Is Correct For The Order And Fulfillment.
  description: >-
    https://shopify.dev/docs/admin-api/rest/reference/shipping-and-fulfillment/fulfillment#create-2020-07
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: |-
        Create A Fulfillment For The Specified Order And Line Items.
          The Fulfillment's Status Depends On The Line Items In The Order:
          
          If The Line Items In The Fulfillment Use A Manual Or Custom Fulfillment Service, Then The Status Of The Returned Fulfillment Will Be Set Immediately.
          If The Line Items Use An External Fulfillment Service, Then They Will Be Queued For Fulfillment And The Status Will Be Set To Pending Until The External Fulfillment Service Has Been Invoked.
          
          
          A Fulfillment Might Then Transition To Open, Which Implies It Is Being Processed By The Service, Before Transitioning To Success When The Items Have Shipped.
          If You Don't Specify Line Item Ids, Then All Unfulfilled And Partially Fulfilled Line Items For The Order Will Be Fulfilled.
          However, If An Order Is Refunded Or If Any Of Its Individual Line Items Are Refunded, Then The Order Can't Be Fulfilled.
          
          All Line Items Being Fulfilled Must Have The Same Fulfillment Service.
          
          
          Note
          If You Are Using This Endpoint With A Partner Development Store Or A Trial Store, Then You Can Create No More Than 5 New Fulfillments Per Minute.
          
          About Tracking Urls
          If You're Creating A Fulfillment For A Supported Carrier, Then You Can Send The Tracking_company And Tracking_numbers Fields, And Shopify Will Generate The Tracking_url For You. If You're Creating A Fulfillment For An Unsupported Carrier (not In The Tracking_company List), Then Send The Tracking_company, Tracking_numbers, And Tracking_urls Fields.
          
          
          Note
          If You Send An Unsupported Carrier Without A Tracking Url, Then Shopify Will Still Try To Generate A Valid Tracking Url By Using Pattern Matching On The Tracking Number. However, Shopify Does Not Validate The Tracking Url, So You Should Make Sure That Your Tracking Url Is Correct For The Order And Fulfillment.
      description: >-
        https://shopify.dev/docs/admin-api/rest/reference/shipping-and-fulfillment/fulfillment#create-2020-07
    paths:
      /admin/api/2020-07/orders/{order_id}/fulfillments.json:
        post:
          summary: |-
            Create A Fulfillment For The Specified Order And Line Items.
              The Fulfillment's Status Depends On The Line Items In The Order:
              
              If The Line Items In The Fulfillment Use A Manual Or Custom Fulfillment Service, Then The Status Of The Returned Fulfillment Will Be Set Immediately.
              If The Line Items Use An External Fulfillment Service, Then They Will Be Queued For Fulfillment And The Status Will Be Set To Pending Until The External Fulfillment Service Has Been Invoked.
              
              
              A Fulfillment Might Then Transition To Open, Which Implies It Is Being Processed By The Service, Before Transitioning To Success When The Items Have Shipped.
              If You Don't Specify Line Item Ids, Then All Unfulfilled And Partially Fulfilled Line Items For The Order Will Be Fulfilled.
              However, If An Order Is Refunded Or If Any Of Its Individual Line Items Are Refunded, Then The Order Can't Be Fulfilled.
              
              All Line Items Being Fulfilled Must Have The Same Fulfillment Service.
              
              
              Note
              If You Are Using This Endpoint With A Partner Development Store Or A Trial Store, Then You Can Create No More Than 5 New Fulfillments Per Minute.
              
              About Tracking Urls
              If You're Creating A Fulfillment For A Supported Carrier, Then You Can Send The Tracking_company And Tracking_numbers Fields, And Shopify Will Generate The Tracking_url For You. If You're Creating A Fulfillment For An Unsupported Carrier (not In The Tracking_company List), Then Send The Tracking_company, Tracking_numbers, And Tracking_urls Fields.
              
              
              Note
              If You Send An Unsupported Carrier Without A Tracking Url, Then Shopify Will Still Try To Generate A Valid Tracking Url By Using Pattern Matching On The Tracking Number. However, Shopify Does Not Validate The Tracking Url, So You Should Make Sure That Your Tracking Url Is Correct For The Order And Fulfillment.
          description: >-
            https://shopify.dev/docs/admin-api/rest/reference/shipping-and-fulfillment/fulfillment#create-2020-07
          operationId: deprecated202007createordersparamorderidfulfillments
          requestBody:
            content:
              application/json:
                schema: {}
                examples:
                  example1:
                    value:
                      fulfillment:
                        location_id: 487838322
                        tracking_number: '123456789'
                        tracking_urls:
                          - https://shipping.xyz/track.php?num=123456789
                          - https://anothershipper.corp/track.php?code=abc
                        notify_customer: true
                    summary: >-
                      Fulfill all line items for an order and send the shipping
                      confirmation email. Not specifying line item IDs causes all
                      unfulfilled and partially fulfilled line items for the order
                      to be fulfilled.
                  example2:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: null
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: Fulfill line items without a tracking number
                  example3:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_numbers:
                          - 04263ac9875a5cdc27996db6865a3e91
                          - 74a62cd540170b8ef633f90d584daadf
                          - d9d423437dc58dbb54a76908573239bc
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill all line items for an order with multiple tracking
                      numbers
                  example4:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_url: http://www.packagetrackr.com/track/somecarrier/1234567
                        tracking_company: Jack Black's Pack, Stack and Track
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill all line items for an order and use a custom tracking
                      URL and company
                  example5:
                    value:
                      fulfillment:
                        tracking_url: http://www.packagetrackr.com/track/somecarrier/1234567
                        tracking_company: Jack Black's Pack, Stack and Track
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: Fulfill without a location_id results in a bad request
                  example6:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: '123456789'
                        tracking_company: 4PX
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using a supported tracking company (generates
                      tracking URL)
                  example7:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: '123456789010'
                        tracking_company: fed ex
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using a supported tracking company in an
                      incorrect format (uses fuzzy matches to generate tracking URL,
                      but respects tracking company supplied)
                  example8:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: '123456789010'
                        tracking_company: fed ex
                        tracking_url: https://www.new-fedex-tracking.com/?number=123456789010
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using a supported tracking company in an
                      incorrect format and custom tracking URL (respects sent URL)
                  example9:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: RR123456789CN
                        tracking_company: Chinese Post
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using a non-supported tracking company
                      without a tracking URL (generates best guess URL if number
                      matches recognizable pattern)
                  example10:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: '1234567'
                        tracking_company: Custom Tracking Company
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using a non-supported tracking company
                      without a tracking URL. Does not generate a URL if tracking
                      number does not match a recognizable pattern.
                  example11:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: CJ274101086US
                        tracking_url: >-
                          http://www.custom-tracking.com/?tracking_number=CJ274101086US
                        line_items:
                          - id: 466157049
                          - id: 518995019
                          - id: 703073504
                    summary: >-
                      Fulfill an order using only a tracking number and a custom
                      tracking URL (respects tracking URL but attempts to generate
                      tracking company if number matches recognizable pattern)
                  example12:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: null
                        line_items:
                          - id: 518995019
                    summary: >-
                      Fulfill a single line item by explicitly specifying the line
                      items to be fulfilled
                  example13:
                    value:
                      fulfillment:
                        location_id: 905684977
                        tracking_number: null
                        line_items:
                          - id: 518995019
                            quantity: 1
                    summary: >-
                      Partially fulfill a single line item by specifying a line item
                      and quantity to be fulfilled
          responses:
            '200':
              description: ''
