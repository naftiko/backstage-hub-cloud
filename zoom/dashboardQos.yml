apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Metrics Qos
  description: Get the users quality of service in a Zoom Meeting
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Metrics Qos
      description: Get the users quality of service in a Zoom Meeting
    paths:
      /metrics/qos:
        post:
          summary: Post Metrics Qos
          description: Get the users quality of service in a Zoom Meeting
          operationId: dashboardQos
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  required:
                    - meeting_id
                    - type
                  type: object
                  properties:
                    meeting_id:
                      type: string
                      description: The meeting ID.
                    type:
                      type: string
                      description: Meeting type. 1 means live meeting. 2 means past meeting.
                    user_id:
                      type: string
                      description: The user ID to get user qos.
                    page_size:
                      type: string
                      description: >-
                        The amount of records returns within a single API call.
                        Defaults to 10. Max of 10 records.
                      default: '10'
                    page_number:
                      type: string
                      description: Current page number of returned records. Default to 1.
                      default: '1'
          responses:
            '200':
              description: Success
              content:
                application/json:
                  example:
                    meeting_id: unique_id
                    user_id: unique_id
                    type: Past Meeting
                    device: Mac
                    ip_address: 112.80.63.6
                    cn: CN
                    city: Nanjing
                    version: 3.5.35288.1217
                    user_qos:
                      - dateTime: 2015-08-30T06:40:56.000Z
                        audio_input:
                          bitrate: 29 kbps
                          latency: 39 ms
                          jitter: 11 ms
                          avg_loss: 2.5%
                          max_loss: 5.0%
                        audio_output:
                          bitrate: ''
                          latency: ''
                          jitter: ''
                          avg_loss: ''
                          max_loss: ''
                        video_input:
                          bitrate: 77 kbps
                          latency: 84 ms
                          jitter: 4 ms
                          avg_loss: 28.3%
                          max_loss: 28.3%
                          resolution: 480*270
                          frame_rate: 3 fps
                        video_output:
                          bitrate: ''
                          latency: ''
                          jitter: ''
                          avg_loss: ''
                          max_loss: ''
                          resolution: ''
                          frame_rate: ''
                        as_input:
                          bitrate: ''
                          latency: ''
                          jitter: ''
                          avg_loss: ''
                          max_loss: ''
                          resolution: ''
                          frame_rate: ''
                        as_output:
                          bitrate: ''
                          latency: ''
                          jitter: ''
                          avg_loss: ''
                          max_loss: ''
                          resolution: ''
                          frame_rate: ''
                        cpu_usage:
                          zoom_min_cpu_usage: 1%
                          zoom_avg_cpu_usage: 3%
                          zoom_max_cpu_usage: 5%
                          system_max_cpu_usage: 20%
