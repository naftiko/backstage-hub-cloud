apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Post Chat List
  description: Get chat history list for a specified time period.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Post Chat List
      description: Get chat history list for a specified time period.
    paths:
      /chat/list:
        post:
          summary: Post Chat List
          description: Get chat history list for a specified time period.
          operationId: chatList
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  required:
                    - access_token
                    - from
                    - to
                  type: object
                  properties:
                    access_token:
                      type: string
                      description: >-
                        Archived chat messages access token. Admin who has the view
                        privilege of Archived chat messages will get it.
                    from:
                      type: string
                      description: Start date.
                    to:
                      type: string
                      description: End date.
                    page_size:
                      type: string
                      description: >-
                        The amount of records returns within a single API call.
                        Defaults to 30. Max of 30 records.
                      default: '30'
                    email:
                      type: string
                      description: Email query condition.
                    next_page_token:
                      type: string
                      description: >-
                        Used to paginate through large result sets.  A next page
                        token will be returned whenever the set of available chat
                        history list exceeds 100.  The expiration period is 30
                        minutes.
          responses:
            '200':
              description: Success
              content:
                application/json:
                  example:
                    from: 2016-01-16T00:00:00.000Z
                    to: 2016-01-22T00:00:00.000Z
                    page_size: 30
                    page_count: 1
                    next_page_token: ''
                    chat_list:
                      - session_id: unique_id
                        type: Group
                        participants: ''
                        group_name: zoom test1
                        last_message_send_time: 2016-01-18T06:40:56.000Z
