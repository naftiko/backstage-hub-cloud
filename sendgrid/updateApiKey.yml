apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update Api Key Name And Scopes
  description: >-
    **This endpoint allows you to update the name and scopes of a given API
    key.**You must pass this endpoint a JSON request body with a `name` field
    and a `scopes` array containing at least one scope. The `name` and `scopes`
    fields will be used to update the key associated with the `api_key_id` in
    the request URL.If you need to update a key's scopes only, pass the `name`
    field with the key's existing name; the `name` will not be modified. If you
    need to update a key's name only, use the "Update API key name" endpoint.See
    the [API Key Permissions
    List](https://docs.sendgrid.com/api-reference/how-to-use-the-sendgrid-v3-api/authorization)
    for all available scopes.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update Api Key Name And Scopes
      description: >-
        **This endpoint allows you to update the name and scopes of a given API
        key.**You must pass this endpoint a JSON request body with a `name` field
        and a `scopes` array containing at least one scope. The `name` and `scopes`
        fields will be used to update the key associated with the `api_key_id` in
        the request URL.If you need to update a key's scopes only, pass the `name`
        field with the key's existing name; the `name` will not be modified. If you
        need to update a key's name only, use the "Update API key name" endpoint.See
        the [API Key Permissions
        List](https://docs.sendgrid.com/api-reference/how-to-use-the-sendgrid-v3-api/authorization)
        for all available scopes.
    paths:
      /v3/api_keys/{api_key_id}:
        put:
          summary: Update Api Key Name And Scopes
          description: >-
            **This endpoint allows you to update the name and scopes of a given API
            key.**You must pass this endpoint a JSON request body with a `name`
            field and a `scopes` array containing at least one scope. The `name` and
            `scopes` fields will be used to update the key associated with the
            `api_key_id` in the request URL.If you need to update a key's scopes
            only, pass the `name` field with the key's existing name; the `name`
            will not be modified. If you need to update a key's name only, use the
            "Update API key name" endpoint.See the [API Key Permissions
            List](https://docs.sendgrid.com/api-reference/how-to-use-the-sendgrid-v3-api/authorization)
            for all available scopes.
          operationId: updateApiKey
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    name:
                      type: string
                    scopes:
                      type: array
                      items:
                        type: string
                  required:
                    - name
                  example:
                    name: Profiles key
                    scopes:
                      - user.profile.read
                      - user.profile.update
          responses:
            '500':
              $ref: '#/components/responses/GlobalError500'
