apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Create An Sso Teammate.
  description: >-
    **This endpoint allows you to create an SSO Teammate.**The email address
    provided for the Teammate will also function as the Teammate's username.
    Once created, the Teammate's email address cannot be changed.### ScopesWhen
    creating a Teammate, you will assign it permissions or scopes. These scopes
    determine which actions the Teammate can perform and which features they can
    access. Scopes are provided with one of three properties passed to this
    endpoint: `is_admin`, `scopes`, and `persona`.You can make a Teammate an
    administrator by setting `is_admin` to `true`. Administrators will have all
    scopes assigned to them. Alternatively, you can assign a `persona` to the
    teammate, which will assign them a block of permissions commonly required
    for that type of user. See the "Persona scopes" section of [**Teammate
    Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
    for a list of permsissions granted by persona. Lastly, you can assign
    individual permissions with the `scopes` property. See [**Teammate
    Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
    for a full list of scopes that can be assigned to a Teammate.### Subuser
    accessSendGrid Teammates may be assigned access to one or more Subusers.
    Subusers function like SendGrid sub-accounts with their own resources. See
    [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
    for more information.When assigning Subuser access to a Teammate, you may
    set the `has_restricted_subuser_access` property to `true` to constrain the
    Teammate so that they can operate only on behalf of the Subusers to which
    they are assigned. You may further set the level of access the Teammate has
    to each Subuser with the `subuser_access` property.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Create An Sso Teammate.
      description: >-
        **This endpoint allows you to create an SSO Teammate.**The email address
        provided for the Teammate will also function as the Teammate's username.
        Once created, the Teammate's email address cannot be changed.### ScopesWhen
        creating a Teammate, you will assign it permissions or scopes. These scopes
        determine which actions the Teammate can perform and which features they can
        access. Scopes are provided with one of three properties passed to this
        endpoint: `is_admin`, `scopes`, and `persona`.You can make a Teammate an
        administrator by setting `is_admin` to `true`. Administrators will have all
        scopes assigned to them. Alternatively, you can assign a `persona` to the
        teammate, which will assign them a block of permissions commonly required
        for that type of user. See the "Persona scopes" section of [**Teammate
        Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
        for a list of permsissions granted by persona. Lastly, you can assign
        individual permissions with the `scopes` property. See [**Teammate
        Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
        for a full list of scopes that can be assigned to a Teammate.### Subuser
        accessSendGrid Teammates may be assigned access to one or more Subusers.
        Subusers function like SendGrid sub-accounts with their own resources. See
        [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
        for more information.When assigning Subuser access to a Teammate, you may
        set the `has_restricted_subuser_access` property to `true` to constrain the
        Teammate so that they can operate only on behalf of the Subusers to which
        they are assigned. You may further set the level of access the Teammate has
        to each Subuser with the `subuser_access` property.
    paths:
      /v3/sso/teammates:
        post:
          summary: Create An Sso Teammate.
          description: >-
            **This endpoint allows you to create an SSO Teammate.**The email address
            provided for the Teammate will also function as the Teammate's username.
            Once created, the Teammate's email address cannot be changed.###
            ScopesWhen creating a Teammate, you will assign it permissions or
            scopes. These scopes determine which actions the Teammate can perform
            and which features they can access. Scopes are provided with one of
            three properties passed to this endpoint: `is_admin`, `scopes`, and
            `persona`.You can make a Teammate an administrator by setting `is_admin`
            to `true`. Administrators will have all scopes assigned to them.
            Alternatively, you can assign a `persona` to the teammate, which will
            assign them a block of permissions commonly required for that type of
            user. See the "Persona scopes" section of [**Teammate
            Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
            for a list of permsissions granted by persona. Lastly, you can assign
            individual permissions with the `scopes` property. See [**Teammate
            Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
            for a full list of scopes that can be assigned to a Teammate.### Subuser
            accessSendGrid Teammates may be assigned access to one or more Subusers.
            Subusers function like SendGrid sub-accounts with their own resources.
            See
            [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
            for more information.When assigning Subuser access to a Teammate, you
            may set the `has_restricted_subuser_access` property to `true` to
            constrain the Teammate so that they can operate only on behalf of the
            Subusers to which they are assigned. You may further set the level of
            access the Teammate has to each Subuser with the `subuser_access`
            property.
          operationId: createSsoTeammate
          requestBody:
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/PostSsoTeammatesRequest'
                examples:
                  Create Teammate with Subuser Access:
                    value:
                      first_name: Jane
                      last_name: Doe
                      email: jane_doe@example.com
                      has_restricted_subuser_access: true
                      subuser_access:
                        - id: 12345
                          permission_type: admin
                  Create Admin Teammate:
                    value:
                      first_name: Jane
                      last_name: Doe
                      email: jane_doe@example.com
                      is_admin: true
                      has_restricted_subuser_access: false
          responses:
            '500':
              $ref: '#/components/responses/Sso500'
