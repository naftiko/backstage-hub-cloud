apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Edit An Sso Teammate
  description: >-
    **This endpoint allows you to modify an existing SSO Teammate.**Only the
    parent user and Teammates with admin permissions can update another
    Teammate's permissions.### ScopesWhen updating a Teammate, you will assign
    it permissions or scopes. These scopes determine which actions the Teammate
    can perform and which features they can access. Scopes are provided with one
    of three properties passed to this endpoint: `is_admin`, `scopes`, and
    `persona`.You can make a Teammate an administrator by setting `is_admin` to
    `true`. Administrators will have all scopes assigned to them. Alternatively,
    you can assign a `persona` to the teammate, which will assign them a block
    of permissions commonly required for that type of user. See the "Persona
    scopes" section of [**Teammate
    Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
    for a list of permsissions granted by persona. Lastly, you can assign
    individual permissions with the `scopes` property. See [**Teammate
    Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
    for a full list of scopes that can be assigned to a Teammate.### Subuser
    accessSendGrid Teammates may be assigned access to one or more Subusers.
    Subusers function like SendGrid sub-accounts with their own resources. See
    [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
    for more information.When assigning Subuser access to a Teammate, you may
    set the `has_restricted_subuser_access` property to `true` to constrain the
    Teammate so that they can operate only on behalf of the Subusers to which
    they are assigned. You may further set the level of access the Teammate has
    to each Subuser with the `subuser_access` property.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Edit An Sso Teammate
      description: >-
        **This endpoint allows you to modify an existing SSO Teammate.**Only the
        parent user and Teammates with admin permissions can update another
        Teammate's permissions.### ScopesWhen updating a Teammate, you will assign
        it permissions or scopes. These scopes determine which actions the Teammate
        can perform and which features they can access. Scopes are provided with one
        of three properties passed to this endpoint: `is_admin`, `scopes`, and
        `persona`.You can make a Teammate an administrator by setting `is_admin` to
        `true`. Administrators will have all scopes assigned to them. Alternatively,
        you can assign a `persona` to the teammate, which will assign them a block
        of permissions commonly required for that type of user. See the "Persona
        scopes" section of [**Teammate
        Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
        for a list of permsissions granted by persona. Lastly, you can assign
        individual permissions with the `scopes` property. See [**Teammate
        Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
        for a full list of scopes that can be assigned to a Teammate.### Subuser
        accessSendGrid Teammates may be assigned access to one or more Subusers.
        Subusers function like SendGrid sub-accounts with their own resources. See
        [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
        for more information.When assigning Subuser access to a Teammate, you may
        set the `has_restricted_subuser_access` property to `true` to constrain the
        Teammate so that they can operate only on behalf of the Subusers to which
        they are assigned. You may further set the level of access the Teammate has
        to each Subuser with the `subuser_access` property.
    paths:
      /v3/sso/teammates/{username}:
        patch:
          summary: Edit An Sso Teammate
          description: >-
            **This endpoint allows you to modify an existing SSO Teammate.**Only the
            parent user and Teammates with admin permissions can update another
            Teammate's permissions.### ScopesWhen updating a Teammate, you will
            assign it permissions or scopes. These scopes determine which actions
            the Teammate can perform and which features they can access. Scopes are
            provided with one of three properties passed to this endpoint:
            `is_admin`, `scopes`, and `persona`.You can make a Teammate an
            administrator by setting `is_admin` to `true`. Administrators will have
            all scopes assigned to them. Alternatively, you can assign a `persona`
            to the teammate, which will assign them a block of permissions commonly
            required for that type of user. See the "Persona scopes" section of
            [**Teammate
            Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions#persona-scopes)
            for a list of permsissions granted by persona. Lastly, you can assign
            individual permissions with the `scopes` property. See [**Teammate
            Permissions**](https://docs.sendgrid.com/ui/account-and-settings/teammate-permissions)
            for a full list of scopes that can be assigned to a Teammate.### Subuser
            accessSendGrid Teammates may be assigned access to one or more Subusers.
            Subusers function like SendGrid sub-accounts with their own resources.
            See
            [**Subusers**](https://docs.sendgrid.com/ui/account-and-settings/subusers)
            for more information.When assigning Subuser access to a Teammate, you
            may set the `has_restricted_subuser_access` property to `true` to
            constrain the Teammate so that they can operate only on behalf of the
            Subusers to which they are assigned. You may further set the level of
            access the Teammate has to each Subuser with the `subuser_access`
            property.
          operationId: updateSsoTeammate
          requestBody:
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/PatchSsoTeammatesRequest'
                examples:
                  Update Teammate with Subuser Access:
                    value:
                      first_name: Jane
                      last_name: Doe
                      has_restricted_subuser_access: true
                      subuser_access:
                        - id: 12345
                          permission_type: admin
                  Make Teammate an Admin:
                    value:
                      first_name: Jane
                      last_name: Doe
                      is_admin: true
                      has_restricted_subuser_access: false
          responses:
            '500':
              $ref: '#/components/responses/Sso500'
