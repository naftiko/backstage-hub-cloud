apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Validate A Reverse Dns Record
  description: >-
    **This endpoint allows you to validate a reverse DNS record.**Always check
    the `valid` property of the response’s `validation_results.a_record` object.
    This field will indicate whether it was possible to validate the reverse DNS
    record. If the `validation_results.a_record.valid` is `false`, this
    indicates only that Twilio SendGrid could not determine the validity your
    reverse DNS record — it may still be valid.If validity couldn’t be
    determined, you can check the value of `validation_results.a_record.reason`
    to find out why.You can retrieve the IDs associated with all your reverse
    DNS records using the "Retrieve all reverse DNS records" endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Validate A Reverse Dns Record
      description: >-
        **This endpoint allows you to validate a reverse DNS record.**Always check
        the `valid` property of the response’s `validation_results.a_record` object.
        This field will indicate whether it was possible to validate the reverse DNS
        record. If the `validation_results.a_record.valid` is `false`, this
        indicates only that Twilio SendGrid could not determine the validity your
        reverse DNS record — it may still be valid.If validity couldn’t be
        determined, you can check the value of `validation_results.a_record.reason`
        to find out why.You can retrieve the IDs associated with all your reverse
        DNS records using the "Retrieve all reverse DNS records" endpoint.
    paths:
      /v3/whitelabel/ips/{id}/validate:
        post:
          summary: Validate A Reverse Dns Record
          description: >-
            **This endpoint allows you to validate a reverse DNS record.**Always
            check the `valid` property of the response’s
            `validation_results.a_record` object. This field will indicate whether
            it was possible to validate the reverse DNS record. If the
            `validation_results.a_record.valid` is `false`, this indicates only that
            Twilio SendGrid could not determine the validity your reverse DNS record
            — it may still be valid.If validity couldn’t be determined, you can
            check the value of `validation_results.a_record.reason` to find out
            why.You can retrieve the IDs associated with all your reverse DNS
            records using the "Retrieve all reverse DNS records" endpoint.
          operationId: validateReverseDns
          responses:
            '500':
              description: ''
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      errors:
                        type: array
                        description: The error messages for the failed validation.
                        items:
                          type: object
                          properties:
                            message:
                              type: string
                              description: >-
                                A message describing why the IP whitelabel could not
                                be validated.
                          required:
                            - message
                    required:
                      - errors
                  examples:
                    response:
                      value:
                        errors:
                          - message: internal error getting rDNS
