apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Erase Recipients' Email Data
  description: >-
    **This operation allows you to delete your recipients' personal email
    data**The Delete Recipients' Email Data operation accepts a list of 5,000
    `email_addresses` or a total payload size of 256Kb per request, whichever
    comes first. Upon a successful request with this operation, SendGrid will
    run a search on the email addresses provided against the SendGrid system to
    identify matches. SendGrid will then delete all personal data associated
    with the matched users such as the recipients' names, email addresses,
    subject lines, categories, and IP addresses.All email addresses are filtered
    for uniqueness and tested for structural validity—any invalid addresses will
    be returned in an error response.Please note that recipient data is deleted
    for the account making the request only—deletions do not cascade from a
    parent account to its Subusers' recipients. To delete a Subuser's
    recipients' data, you can use the `on-behalf-of` header.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Erase Recipients' Email Data
      description: >-
        **This operation allows you to delete your recipients' personal email
        data**The Delete Recipients' Email Data operation accepts a list of 5,000
        `email_addresses` or a total payload size of 256Kb per request, whichever
        comes first. Upon a successful request with this operation, SendGrid will
        run a search on the email addresses provided against the SendGrid system to
        identify matches. SendGrid will then delete all personal data associated
        with the matched users such as the recipients' names, email addresses,
        subject lines, categories, and IP addresses.All email addresses are filtered
        for uniqueness and tested for structural validity—any invalid addresses will
        be returned in an error response.Please note that recipient data is deleted
        for the account making the request only—deletions do not cascade from a
        parent account to its Subusers' recipients. To delete a Subuser's
        recipients' data, you can use the `on-behalf-of` header.
    paths:
      /v3/recipients/erasejob:
        post:
          summary: Erase Recipients' Email Data
          description: >-
            **This operation allows you to delete your recipients' personal email
            data**The Delete Recipients' Email Data operation accepts a list of
            5,000 `email_addresses` or a total payload size of 256Kb per request,
            whichever comes first. Upon a successful request with this operation,
            SendGrid will run a search on the email addresses provided against the
            SendGrid system to identify matches. SendGrid will then delete all
            personal data associated with the matched users such as the recipients'
            names, email addresses, subject lines, categories, and IP addresses.All
            email addresses are filtered for uniqueness and tested for structural
            validity—any invalid addresses will be returned in an error
            response.Please note that recipient data is deleted for the account
            making the request only—deletions do not cascade from a parent account
            to its Subusers' recipients. To delete a Subuser's recipients' data, you
            can use the `on-behalf-of` header.
          operationId: eraseRecipientEmailData
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/RecipientsDataErasureEraseRecipientsRequest'
                example:
                  email_addresses:
                    - user1@example.com
                    - user2@example.com
          responses:
            '500':
              $ref: '#/components/responses/RecipientsDataErasure500'
