apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Cancel Or Pause A Scheduled Send
  description: >-
    **This endpoint allows you to cancel or pause a scheduled send associated
    with a `batch_id`.**Passing this endpoint a `batch_id` and status will
    cancel or pause the scheduled send.Once a scheduled send is set to `pause`
    or `cancel` you must use the "Update a scheduled send" endpoint to change
    its status or the "Delete a cancellation or pause from a scheduled send"
    endpoint to remove the status. Passing a status change to a scheduled send
    that has already been paused or cancelled will result in a `400` level
    status code.If the maximum number of cancellations/pauses are added to a
    send, a `400` level status code will be returned.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Cancel Or Pause A Scheduled Send
      description: >-
        **This endpoint allows you to cancel or pause a scheduled send associated
        with a `batch_id`.**Passing this endpoint a `batch_id` and status will
        cancel or pause the scheduled send.Once a scheduled send is set to `pause`
        or `cancel` you must use the "Update a scheduled send" endpoint to change
        its status or the "Delete a cancellation or pause from a scheduled send"
        endpoint to remove the status. Passing a status change to a scheduled send
        that has already been paused or cancelled will result in a `400` level
        status code.If the maximum number of cancellations/pauses are added to a
        send, a `400` level status code will be returned.
    paths:
      /v3/user/scheduled_sends:
        post:
          summary: Cancel Or Pause A Scheduled Send
          description: >-
            **This endpoint allows you to cancel or pause a scheduled send
            associated with a `batch_id`.**Passing this endpoint a `batch_id` and
            status will cancel or pause the scheduled send.Once a scheduled send is
            set to `pause` or `cancel` you must use the "Update a scheduled send"
            endpoint to change its status or the "Delete a cancellation or pause
            from a scheduled send" endpoint to remove the status. Passing a status
            change to a scheduled send that has already been paused or cancelled
            will result in a `400` level status code.If the maximum number of
            cancellations/pauses are added to a send, a `400` level status code will
            be returned.
          operationId: createScheduledSend
          requestBody:
            content:
              application/json:
                schema:
                  title: Cancel or pause a scheduled send request
                  type: object
                  properties:
                    batch_id:
                      type: string
                      description: >-
                        The batch ID is the identifier that your scheduled mail
                        sends share.
                      pattern: ^[a-zA-Z0-9]
                    status:
                      type: string
                      default: pause
                      description: >-
                        The status of the send you would like to implement. This can
                        be pause or cancel. To delete a pause or cancel status see
                        DELETE /v3/user/scheduled_sends/{batch_id}
                      $ref: '#/components/schemas/Status'
                  required:
                    - batch_id
                    - status
                  example:
                    batch_id: YOUR_BATCH_ID
                    status: pause
          responses:
            '500':
              $ref: '#/components/responses/ScheduledSends500'
