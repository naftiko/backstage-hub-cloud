apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Retrieve A Global Suppression
  description: >-
    **This endpoint allows you to retrieve a global suppression. You can also
    use this endpoint to confirm if an email address is already globally
    suppresed.**If the email address you include in the URL path parameter
    `{email}` is already globally suppressed, the response will include that
    email address. If the address you enter for `{email}` is not globally
    suppressed, an empty JSON object `{}` will be returned.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Retrieve A Global Suppression
      description: >-
        **This endpoint allows you to retrieve a global suppression. You can also
        use this endpoint to confirm if an email address is already globally
        suppresed.**If the email address you include in the URL path parameter
        `{email}` is already globally suppressed, the response will include that
        email address. If the address you enter for `{email}` is not globally
        suppressed, an empty JSON object `{}` will be returned.
    paths:
      /v3/asm/suppressions/global/{email}:
        get:
          summary: Retrieve A Global Suppression
          description: >-
            **This endpoint allows you to retrieve a global suppression. You can
            also use this endpoint to confirm if an email address is already
            globally suppresed.**If the email address you include in the URL path
            parameter `{email}` is already globally suppressed, the response will
            include that email address. If the address you enter for `{email}` is
            not globally suppressed, an empty JSON object `{}` will be returned.
          operationId: getGlobalSuppression
          responses:
            '200':
              description: ''
              content:
                application/json:
                  schema:
                    title: Retrieve a Global Suppression response
                    type: object
                    properties:
                      recipient_email:
                        type: string
                        description: >-
                          The email address that is globally suppressed. This will
                          be an empty object if the email address you included in
                          your call is not globally suppressed.
                        format: email
                    required:
                      - recipient_email
                  examples:
                    response:
                      value:
                        recipient_email: test@example.com
