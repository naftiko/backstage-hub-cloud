apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Contacts By Identifiers
  description: >-
    Use this endpoint to retrieve up to 100 contacts that match the requested
    identifier values for a single identifier type.`identifier_type` must be a
    valid identifier type: `email`, `phone_number_id`, `external_id`, or
    `anonymous_id`.Use this endpoint instead of the [Search Contacts
    endpoint](https://www.twilio.com/docs/sendgrid/api-reference/contacts/search-contacts)
    when you can provide exact identifiers and do not need to include other
    [Segmentation Query Language
    (SGQL)](https://www.twilio.com/docs/sendgrid/for-developers/sending-email/segmentation-query-language/)
    filters when searching.This endpoint returns a `200` status code when any
    contacts match the identifiers you supplied. When searching multiple
    identifier values in a single request, it is possible that some will match a
    contact while others will not. When a partially successful search like this
    is made, the matching contacts are returned in an object and an error
    message is returned for the identifier values that are not found.This
    endpoint returns a `404` status code when no contacts are found for the
    provided identifiers.This endpoint returns a `400` status code if any
    searched addresses are invalid.Twilio SendGrid recommends exporting your
    contacts regularly as a backup to avoid issues or lost data.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Contacts By Identifiers
      description: >-
        Use this endpoint to retrieve up to 100 contacts that match the requested
        identifier values for a single identifier type.`identifier_type` must be a
        valid identifier type: `email`, `phone_number_id`, `external_id`, or
        `anonymous_id`.Use this endpoint instead of the [Search Contacts
        endpoint](https://www.twilio.com/docs/sendgrid/api-reference/contacts/search-contacts)
        when you can provide exact identifiers and do not need to include other
        [Segmentation Query Language
        (SGQL)](https://www.twilio.com/docs/sendgrid/for-developers/sending-email/segmentation-query-language/)
        filters when searching.This endpoint returns a `200` status code when any
        contacts match the identifiers you supplied. When searching multiple
        identifier values in a single request, it is possible that some will match a
        contact while others will not. When a partially successful search like this
        is made, the matching contacts are returned in an object and an error
        message is returned for the identifier values that are not found.This
        endpoint returns a `404` status code when no contacts are found for the
        provided identifiers.This endpoint returns a `400` status code if any
        searched addresses are invalid.Twilio SendGrid recommends exporting your
        contacts regularly as a backup to avoid issues or lost data.
    paths:
      /v3/marketing/contacts/search/identifiers/{identifier_type}:
        post:
          summary: Get Contacts By Identifiers
          description: >-
            Use this endpoint to retrieve up to 100 contacts that match the
            requested identifier values for a single identifier
            type.`identifier_type` must be a valid identifier type: `email`,
            `phone_number_id`, `external_id`, or `anonymous_id`.Use this endpoint
            instead of the [Search Contacts
            endpoint](https://www.twilio.com/docs/sendgrid/api-reference/contacts/search-contacts)
            when you can provide exact identifiers and do not need to include other
            [Segmentation Query Language
            (SGQL)](https://www.twilio.com/docs/sendgrid/for-developers/sending-email/segmentation-query-language/)
            filters when searching.This endpoint returns a `200` status code when
            any contacts match the identifiers you supplied. When searching multiple
            identifier values in a single request, it is possible that some will
            match a contact while others will not. When a partially successful
            search like this is made, the matching contacts are returned in an
            object and an error message is returned for the identifier values that
            are not found.This endpoint returns a `404` status code when no contacts
            are found for the provided identifiers.This endpoint returns a `400`
            status code if any searched addresses are invalid.Twilio SendGrid
            recommends exporting your contacts regularly as a backup to avoid issues
            or lost data.
          operationId: getContactByIdentifiers
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  description: ''
                  properties:
                    identifiers:
                      type: array
                      description: >-
                        One or more more identifier values of the given identifier
                        type to search for in your Marketing Campaigns contacts.
                      items:
                        type: string
                  required:
                    - identifiers
                  example:
                    identifiers:
                      - contact@example.com
          responses:
            '500':
              description: ''
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            message:
                              type: string
