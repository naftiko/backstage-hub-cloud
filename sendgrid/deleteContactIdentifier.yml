apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Delete A Contact Identifier
  description: >-
    **This endpoint can be used to delete one identifier from a
    contact.**Deletion jobs are processed asynchronously.Note this is different
    from deleting a contact. If the contact has only one identifier, the
    asynchronous request will fail. All contacts are required to have at least
    one identifier.The request body field `identifier_type` must have a valid
    value of "EMAIL", "PHONENUMBERID", "EXTERNALID", or "ANONYMOUSID".
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Delete A Contact Identifier
      description: >-
        **This endpoint can be used to delete one identifier from a
        contact.**Deletion jobs are processed asynchronously.Note this is different
        from deleting a contact. If the contact has only one identifier, the
        asynchronous request will fail. All contacts are required to have at least
        one identifier.The request body field `identifier_type` must have a valid
        value of "EMAIL", "PHONENUMBERID", "EXTERNALID", or "ANONYMOUSID".
    paths:
      /v3/marketing/contacts/{contact_id}/identifiers:
        delete:
          summary: Delete A Contact Identifier
          description: >-
            **This endpoint can be used to delete one identifier from a
            contact.**Deletion jobs are processed asynchronously.Note this is
            different from deleting a contact. If the contact has only one
            identifier, the asynchronous request will fail. All contacts are
            required to have at least one identifier.The request body field
            `identifier_type` must have a valid value of "EMAIL", "PHONENUMBERID",
            "EXTERNALID", or "ANONYMOUSID".
          operationId: deleteContactIdentifier
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    identifier_type:
                      type: string
                      description: The type of identifier you are removing from the contact.
                      $ref: '#/components/schemas/IdentifierType'
                    identifier_value:
                      type: string
                      description: >-
                        The value of the identifier you want to remove from the
                        contact.
                  required:
                    - identifier_type
                    - identifier_value
                  example:
                    identifier_type: PHONENUMBERID
                    identifier_value: '15555555555'
          responses:
            '500':
              $ref: '#/components/responses/MarketingContacts500'
