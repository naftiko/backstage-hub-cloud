apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Toggle Signature Verification For A Single Event Webhook By Id
  description: >-
    **This endpoint allows you to enable or disable signature verification for a
    single Event Webhook by ID.**If you do not pass a webhook ID to this
    endpoint, it will enable signature verification for your oldest webhook by
    `created_date`. This means the default webhook operated on by this endpoint
    when no ID is provided will be the first one you created. This functionality
    allows customers who do not have multiple webhooks to enable or disable
    signature verifiction for their only webhook, even if they do not supply an
    ID. If you have multiple webhooks, you can retrieve their IDs using the
    [**Get All Event
    Webhooks**](https://docs.sendgrid.com/api-reference/webhooks/get-all-event-webhooks)
    endpoint.This endpoint accepts a single boolean request property, `enabled`,
    that can be set `true` or `false` to enable or disable signature
    verification. This endpoint will return the public key required to verify
    Twilio SendGrid signatures if it is enabled or an empty string if signing is
    disabled. You can also retrieve your public key using the [**Get an Event
    Webhook's Public
    Key**](https://docs.sendgrid.com/api-reference/webhooks/get-signed-event-webhooks-public-key)
    endpoint.For more information about cryptographically signing the Event
    Webhook, see [**Getting Started with the Event Webhook Security
    Features**](https://sendgrid.com/docs/for-developers/tracking-events/getting-started-event-webhook-security-features).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Toggle Signature Verification For A Single Event Webhook By Id
      description: >-
        **This endpoint allows you to enable or disable signature verification for a
        single Event Webhook by ID.**If you do not pass a webhook ID to this
        endpoint, it will enable signature verification for your oldest webhook by
        `created_date`. This means the default webhook operated on by this endpoint
        when no ID is provided will be the first one you created. This functionality
        allows customers who do not have multiple webhooks to enable or disable
        signature verifiction for their only webhook, even if they do not supply an
        ID. If you have multiple webhooks, you can retrieve their IDs using the
        [**Get All Event
        Webhooks**](https://docs.sendgrid.com/api-reference/webhooks/get-all-event-webhooks)
        endpoint.This endpoint accepts a single boolean request property, `enabled`,
        that can be set `true` or `false` to enable or disable signature
        verification. This endpoint will return the public key required to verify
        Twilio SendGrid signatures if it is enabled or an empty string if signing is
        disabled. You can also retrieve your public key using the [**Get an Event
        Webhook's Public
        Key**](https://docs.sendgrid.com/api-reference/webhooks/get-signed-event-webhooks-public-key)
        endpoint.For more information about cryptographically signing the Event
        Webhook, see [**Getting Started with the Event Webhook Security
        Features**](https://sendgrid.com/docs/for-developers/tracking-events/getting-started-event-webhook-security-features).
    paths:
      /v3/user/webhooks/event/settings/signed/{id}:
        patch:
          summary: Toggle Signature Verification For A Single Event Webhook By Id
          description: >-
            **This endpoint allows you to enable or disable signature verification
            for a single Event Webhook by ID.**If you do not pass a webhook ID to
            this endpoint, it will enable signature verification for your oldest
            webhook by `created_date`. This means the default webhook operated on by
            this endpoint when no ID is provided will be the first one you created.
            This functionality allows customers who do not have multiple webhooks to
            enable or disable signature verifiction for their only webhook, even if
            they do not supply an ID. If you have multiple webhooks, you can
            retrieve their IDs using the [**Get All Event
            Webhooks**](https://docs.sendgrid.com/api-reference/webhooks/get-all-event-webhooks)
            endpoint.This endpoint accepts a single boolean request property,
            `enabled`, that can be set `true` or `false` to enable or disable
            signature verification. This endpoint will return the public key
            required to verify Twilio SendGrid signatures if it is enabled or an
            empty string if signing is disabled. You can also retrieve your public
            key using the [**Get an Event Webhook's Public
            Key**](https://docs.sendgrid.com/api-reference/webhooks/get-signed-event-webhooks-public-key)
            endpoint.For more information about cryptographically signing the Event
            Webhook, see [**Getting Started with the Event Webhook Security
            Features**](https://sendgrid.com/docs/for-developers/tracking-events/getting-started-event-webhook-security-features).
          operationId: updateSignedEventWebhook
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      description: >-
                        Enable or disable the webhook by setting this property to
                        `true` or `false`, respectively.
                  required:
                    - enabled
                examples:
                  example1:
                    value:
                      enabled: true
          responses:
            '404':
              description: ''
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            message:
                              type: string
                              description: Error message.
                  examples:
                    Not found:
                      value:
                        errors:
                          - message: Invalid id provided.
