apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Retrieve Bounce Classification Over Time By Domain Stats
  description: >-
    This endpoint will return the number of bounces for the classification
    specified in descending order for each day. You can retrieve the bounce
    classification totals in CSV format by specifying `"text/csv"` in the Accept
    header.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Retrieve Bounce Classification Over Time By Domain Stats
      description: >-
        This endpoint will return the number of bounces for the classification
        specified in descending order for each day. You can retrieve the bounce
        classification totals in CSV format by specifying `"text/csv"` in the Accept
        header.
    paths:
      /v3/suppression/bounces/classifications/{classification}:
        get:
          summary: Retrieve Bounce Classification Over Time By Domain Stats
          description: >-
            This endpoint will return the number of bounces for the classification
            specified in descending order for each day. You can retrieve the bounce
            classification totals in CSV format by specifying `"text/csv"` in the
            Accept header.
          operationId: getSuppressionBouncesClassifications
          responses:
            '200':
              description: 200 OK
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      result:
                        type: array
                        items:
                          type: object
                          properties:
                            date:
                              type: string
                            stats:
                              type: array
                              items:
                                type: object
                                properties:
                                  domain:
                                    type: string
                                  count:
                                    type: integer
                  examples:
                    response:
                      value:
                        result:
                          - date: '2022-01-01'
                            stats:
                              - domain: example.com
                                count: 35
                              - domain: one.example.com
                                count: 14
                          - date: '2022-01-02'
                            stats:
                              - domain: example.com
                                count: 23
                              - domain: one.example.com
                                count: 4
