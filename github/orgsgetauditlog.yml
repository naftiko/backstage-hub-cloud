apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get The Audit Log For An Organization
  description: >-
    Gets the audit log for an organization. For more information, see
    "[Reviewing the audit log for your
    organization](https://docs.github.com/enterprise-server@3.9/github/setting-up-and-managing-organizations-and-teams/reviewing-the-audit-log-for-your-organization)."By
    default, the response includes up to 30 events from the past three months.
    Use the `phrase` parameter to filter results and retrieve older events. For
    example, use the `phrase` parameter with the `created` qualifier to filter
    events based on when the events occurred. For more information, see
    "[Reviewing the audit log for your
    organization](https://docs.github.com/enterprise-server@3.9/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/reviewing-the-audit-log-for-your-organization#searching-the-audit-log)."Use
    pagination to retrieve fewer or more than 30 events. For more information,
    see "[Using pagination in the REST
    API](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api)."The
    authenticated user must be an organization owner to use this endpoint.OAuth
    app tokens and personal access tokens (classic) need the `read:audit_log`
    scope to use this endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get The Audit Log For An Organization
      description: >-
        Gets the audit log for an organization. For more information, see
        "[Reviewing the audit log for your
        organization](https://docs.github.com/enterprise-server@3.9/github/setting-up-and-managing-organizations-and-teams/reviewing-the-audit-log-for-your-organization)."By
        default, the response includes up to 30 events from the past three months.
        Use the `phrase` parameter to filter results and retrieve older events. For
        example, use the `phrase` parameter with the `created` qualifier to filter
        events based on when the events occurred. For more information, see
        "[Reviewing the audit log for your
        organization](https://docs.github.com/enterprise-server@3.9/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/reviewing-the-audit-log-for-your-organization#searching-the-audit-log)."Use
        pagination to retrieve fewer or more than 30 events. For more information,
        see "[Using pagination in the REST
        API](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api)."The
        authenticated user must be an organization owner to use this endpoint.OAuth
        app tokens and personal access tokens (classic) need the `read:audit_log`
        scope to use this endpoint.
    paths:
      /orgs/{org}/audit-log:
        get:
          summary: Get The Audit Log For An Organization
          description: >-
            Gets the audit log for an organization. For more information, see
            "[Reviewing the audit log for your
            organization](https://docs.github.com/enterprise-server@3.9/github/setting-up-and-managing-organizations-and-teams/reviewing-the-audit-log-for-your-organization)."By
            default, the response includes up to 30 events from the past three
            months. Use the `phrase` parameter to filter results and retrieve older
            events. For example, use the `phrase` parameter with the `created`
            qualifier to filter events based on when the events occurred. For more
            information, see "[Reviewing the audit log for your
            organization](https://docs.github.com/enterprise-server@3.9/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/reviewing-the-audit-log-for-your-organization#searching-the-audit-log)."Use
            pagination to retrieve fewer or more than 30 events. For more
            information, see "[Using pagination in the REST
            API](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api)."The
            authenticated user must be an organization owner to use this
            endpoint.OAuth app tokens and personal access tokens (classic) need the
            `read:audit_log` scope to use this endpoint.
          operationId: orgsgetauditlog
          responses:
            '200':
              description: Response
              content:
                application/json:
                  schema:
                    type: array
                    items:
                      $ref: '#/components/schemas/audit-log-event'
                  examples:
                    default:
                      $ref: '#/components/examples/audit-log'
