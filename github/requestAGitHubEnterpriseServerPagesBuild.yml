apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Request A Github Enterprise Server Pages Build
  description: >-
    You can request that your site be built from the latest revision on the
    default branch. This has the same effect as pushing a commit to your default
    branch, but does not require an additional commit. Manually triggering page
    builds can be helpful when diagnosing build warnings and failures.Build
    requests are limited to one concurrent build per repository and one
    concurrent build per requester. If you request a build while another is
    still in progress, the second request will be queued until the first
    completes.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Request A Github Enterprise Server Pages Build
      description: >-
        You can request that your site be built from the latest revision on the
        default branch. This has the same effect as pushing a commit to your default
        branch, but does not require an additional commit. Manually triggering page
        builds can be helpful when diagnosing build warnings and failures.Build
        requests are limited to one concurrent build per repository and one
        concurrent build per requester. If you request a build while another is
        still in progress, the second request will be queued until the first
        completes.
    paths:
      /repos/{owner}/{repo}/pages/builds:
        post:
          summary: Request A Github Enterprise Server Pages Build
          description: >-
            You can request that your site be built from the latest revision on the
            default branch. This has the same effect as pushing a commit to your
            default branch, but does not require an additional commit. Manually
            triggering page builds can be helpful when diagnosing build warnings and
            failures.Build requests are limited to one concurrent build per
            repository and one concurrent build per requester. If you request a
            build while another is still in progress, the second request will be
            queued until the first completes.
          operationId: requestAGitHubEnterpriseServerPagesBuild
          responses:
            '201':
              description: Response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/page-build-status'
                  examples:
                    default:
                      $ref: '#/components/examples/page-build-status'
