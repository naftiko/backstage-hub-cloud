apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update The Authenticated User
  description: >-
    **Note:** If your email is set to private and you send an `email` parameter
    as part of this request to update your profile, your privacy settings are
    still enforced: the email address will not be displayed on your public
    profile or via the API.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update The Authenticated User
      description: >-
        **Note:** If your email is set to private and you send an `email` parameter
        as part of this request to update your profile, your privacy settings are
        still enforced: the email address will not be displayed on your public
        profile or via the API.
    paths:
      /user:
        patch:
          summary: Update The Authenticated User
          description: >-
            **Note:** If your email is set to private and you send an `email`
            parameter as part of this request to update your profile, your privacy
            settings are still enforced: the email address will not be displayed on
            your public profile or via the API.
          operationId: usersupdateauthenticated
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    name:
                      description: The new name of the user.
                      type: string
                      example: Omar Jahandar
                    email:
                      description: The publicly visible email address of the user.
                      type: string
                      example: omar@example.com
                    blog:
                      description: The new blog URL of the user.
                      type: string
                      example: blog.example.com
                    twitter_username:
                      description: The new Twitter username of the user.
                      type: string
                      example: therealomarj
                      nullable: true
                    company:
                      description: The new company of the user.
                      type: string
                      example: Acme corporation
                    location:
                      description: The new location of the user.
                      type: string
                      example: Berlin, Germany
                    hireable:
                      description: The new hiring availability of the user.
                      type: boolean
                    bio:
                      description: The new short biography of the user.
                      type: string
                examples:
                  default:
                    summary: Example of updating blog and name
                    value:
                      blog: https://github.com/blog
                      name: monalisa octocat
          responses:
            '422':
              $ref: '#/components/responses/validation_failed'
