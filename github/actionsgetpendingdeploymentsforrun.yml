apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get Pending Deployments For A Workflow Run
  description: >-
    Get all deployment environments for a workflow run that are waiting for
    protection rules to pass.Anyone with read access to the repository can use
    this endpoint.If the repository is private, OAuth tokens and personal access
    tokens (classic) need the `repo` scope to use this endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get Pending Deployments For A Workflow Run
      description: >-
        Get all deployment environments for a workflow run that are waiting for
        protection rules to pass.Anyone with read access to the repository can use
        this endpoint.If the repository is private, OAuth tokens and personal access
        tokens (classic) need the `repo` scope to use this endpoint.
    paths:
      /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments:
        get:
          summary: Get Pending Deployments For A Workflow Run
          description: >-
            Get all deployment environments for a workflow run that are waiting for
            protection rules to pass.Anyone with read access to the repository can
            use this endpoint.If the repository is private, OAuth tokens and
            personal access tokens (classic) need the `repo` scope to use this
            endpoint.
          operationId: actionsgetpendingdeploymentsforrun
          responses:
            '200':
              description: Response
              content:
                application/json:
                  schema:
                    type: array
                    items:
                      $ref: '#/components/schemas/pending-deployment'
                  examples:
                    default:
                      $ref: '#/components/examples/pending-deployment-items'
