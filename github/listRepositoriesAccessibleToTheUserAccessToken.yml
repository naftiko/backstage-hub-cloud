apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: List Repositories Accessible To The User Access Token
  description: >-
    List repositories that the authenticated user has explicit permission
    (`:read`, `:write`, or `:admin`) to access for an installation.The
    authenticated user has explicit permission to access repositories they own,
    repositories where they are a collaborator, and repositories that they can
    access through an organization membership.The access the user has to each
    repository is included in the hash under the `permissions` key.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: List Repositories Accessible To The User Access Token
      description: >-
        List repositories that the authenticated user has explicit permission
        (`:read`, `:write`, or `:admin`) to access for an installation.The
        authenticated user has explicit permission to access repositories they own,
        repositories where they are a collaborator, and repositories that they can
        access through an organization membership.The access the user has to each
        repository is included in the hash under the `permissions` key.
    paths:
      /user/installations/{installation_id}/repositories:
        get:
          summary: List Repositories Accessible To The User Access Token
          description: >-
            List repositories that the authenticated user has explicit permission
            (`:read`, `:write`, or `:admin`) to access for an installation.The
            authenticated user has explicit permission to access repositories they
            own, repositories where they are a collaborator, and repositories that
            they can access through an organization membership.The access the user
            has to each repository is included in the hash under the `permissions`
            key.
          operationId: listRepositoriesAccessibleToTheUserAccessToken
          responses:
            '404':
              $ref: '#/components/responses/not_found'
