apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Test The Push Repository Webhook
  description: >-
    This will trigger the hook with the latest push to the current repository if
    the hook is subscribed to `push` events. If the hook is not subscribed to
    `push` events, the server will respond with 204 but no test POST will be
    generated.**Note**: Previously `/repos/:owner/:repo/hooks/:hook_id/test`
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Test The Push Repository Webhook
      description: >-
        This will trigger the hook with the latest push to the current repository if
        the hook is subscribed to `push` events. If the hook is not subscribed to
        `push` events, the server will respond with 204 but no test POST will be
        generated.**Note**: Previously `/repos/:owner/:repo/hooks/:hook_id/test`
    paths:
      /repos/{owner}/{repo}/hooks/{hook_id}/tests:
        post:
          summary: Test The Push Repository Webhook
          description: >-
            This will trigger the hook with the latest push to the current
            repository if the hook is subscribed to `push` events. If the hook is
            not subscribed to `push` events, the server will respond with 204 but no
            test POST will be generated.**Note**: Previously
            `/repos/:owner/:repo/hooks/:hook_id/test`
          operationId: repostestpushwebhook
          responses:
            '404':
              $ref: '#/components/responses/not_found'
