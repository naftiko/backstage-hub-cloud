apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Generate Release Notes Content For A Release
  description: >-
    Generate a name and body describing a
    [release](https://docs.github.com/enterprise-server@3.9/rest/releases/releases#get-a-release).
    The body content will be markdown formatted and contain information like the
    changes since last release and users who contributed. The generated release
    notes are not saved anywhere. They are intended to be generated and used
    when creating a new release.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Generate Release Notes Content For A Release
      description: >-
        Generate a name and body describing a
        [release](https://docs.github.com/enterprise-server@3.9/rest/releases/releases#get-a-release).
        The body content will be markdown formatted and contain information like the
        changes since last release and users who contributed. The generated release
        notes are not saved anywhere. They are intended to be generated and used
        when creating a new release.
    paths:
      /repos/{owner}/{repo}/releases/generate-notes:
        post:
          summary: Generate Release Notes Content For A Release
          description: >-
            Generate a name and body describing a
            [release](https://docs.github.com/enterprise-server@3.9/rest/releases/releases#get-a-release).
            The body content will be markdown formatted and contain information like
            the changes since last release and users who contributed. The generated
            release notes are not saved anywhere. They are intended to be generated
            and used when creating a new release.
          operationId: reposgeneratereleasenotes
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    tag_name:
                      type: string
                      description: >-
                        The tag name for the release. This can be an existing tag or
                        a new one.
                    target_commitish:
                      type: string
                      description: >-
                        Specifies the commitish value that will be the target for
                        the release's tag. Required if the supplied tag_name does
                        not reference an existing tag. Ignored if the tag_name
                        already exists.
                    previous_tag_name:
                      type: string
                      description: >-
                        The name of the previous tag to use as the starting point
                        for the release notes. Use to manually specify the range for
                        the set of changes considered as part this release.
                    configuration_file_path:
                      type: string
                      description: >-
                        Specifies a path to a file in the repository containing
                        configuration settings used for generating the release
                        notes. If unspecified, the configuration file located in the
                        repository at '.github/release.yml' or
                        '.github/release.yaml' will be used. If that is not present,
                        the default configuration will be used.
                  required:
                    - tag_name
                examples:
                  default:
                    value:
                      tag_name: v1.0.0
                      target_commitish: main
                      previous_tag_name: v0.9.2
                      configuration_file_path: .github/custom_release_config.yml
          responses:
            '404':
              $ref: '#/components/responses/not_found'
