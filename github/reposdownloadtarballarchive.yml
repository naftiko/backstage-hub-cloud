apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Download A Repository Archive (tar)
  description: >-
    Gets a redirect URL to download a tar archive for a repository. If you omit
    `:ref`, the repository’s default branch (usually`main`) will be used. Please
    make sure your HTTP framework is configured to follow redirects or you will
    need to usethe `Location` header to make a second `GET` request.**Note**:
    For private repositories, these links are temporary and expire after five
    minutes.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Download A Repository Archive (tar)
      description: >-
        Gets a redirect URL to download a tar archive for a repository. If you omit
        `:ref`, the repository’s default branch (usually`main`) will be used. Please
        make sure your HTTP framework is configured to follow redirects or you will
        need to usethe `Location` header to make a second `GET` request.**Note**:
        For private repositories, these links are temporary and expire after five
        minutes.
    paths:
      /repos/{owner}/{repo}/tarball/{ref}:
        get:
          summary: Download A Repository Archive (tar)
          description: >-
            Gets a redirect URL to download a tar archive for a repository. If you
            omit `:ref`, the repository’s default branch (usually`main`) will be
            used. Please make sure your HTTP framework is configured to follow
            redirects or you will need to usethe `Location` header to make a second
            `GET` request.**Note**: For private repositories, these links are
            temporary and expire after five minutes.
          operationId: reposdownloadtarballarchive
          responses:
            '302':
              description: Response
              headers:
                Location:
                  example: >-
                    https://codeload.github.com/me/myprivate/legacy.zip/master?login=me&token=thistokenexpires
                  schema:
                    type: string
