apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Update A Team
  description: >-
    To edit a team, the authenticated user must either be an organization owner
    or a team maintainer.**Note:** You can also specify a team by `org_id` and
    `team_id` using the route `PATCH /organizations/{org_id}/team/{team_id}`.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Update A Team
      description: >-
        To edit a team, the authenticated user must either be an organization owner
        or a team maintainer.**Note:** You can also specify a team by `org_id` and
        `team_id` using the route `PATCH /organizations/{org_id}/team/{team_id}`.
    paths:
      /orgs/{org}/teams/{team_slug}:
        patch:
          summary: Update A Team
          description: >-
            To edit a team, the authenticated user must either be an organization
            owner or a team maintainer.**Note:** You can also specify a team by
            `org_id` and `team_id` using the route `PATCH
            /organizations/{org_id}/team/{team_id}`.
          operationId: teamsupdateinorg
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name of the team.
                    description:
                      type: string
                      description: The description of the team.
                    privacy:
                      type: string
                      description: >-
                        The level of privacy this team should have. Editing teams
                        without specifying this parameter leaves `privacy` intact.
                        When a team is nested, the `privacy` for parent teams cannot
                        be `secret`. The options are:  

                        **For a non-nested team:**  
                         * `secret` - only visible to organization owners and members of this team.  
                         * `closed` - visible to all members of this organization.  
                        **For a parent or child team:**  
                         * `closed` - visible to all members of this organization.
                      enum:
                        - secret
                        - closed
                    permission:
                      type: string
                      description: >-
                        **Deprecated**. The permission that new repositories will be
                        added to the team with when none is specified.
                      enum:
                        - pull
                        - push
                        - admin
                      default: pull
                    parent_team_id:
                      type: integer
                      description: The ID of a team to set as the parent team.
                      nullable: true
                examples:
                  default:
                    value:
                      name: new team name
                      description: new team description
                      privacy: closed
          responses:
            '422':
              $ref: '#/components/responses/validation_failed'
