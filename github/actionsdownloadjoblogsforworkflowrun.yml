apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Download Job Logs For A Workflow Run
  description: >-
    Gets a redirect URL to download a plain text file of logs for a workflow
    job. This link expires after 1 minute. Lookfor `Location:` in the response
    header to find the URL for the download.Anyone with read access to the
    repository can use this endpoint.If the repository is private, OAuth tokens
    and personal access tokens (classic) need the `repo` scope to use this
    endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Download Job Logs For A Workflow Run
      description: >-
        Gets a redirect URL to download a plain text file of logs for a workflow
        job. This link expires after 1 minute. Lookfor `Location:` in the response
        header to find the URL for the download.Anyone with read access to the
        repository can use this endpoint.If the repository is private, OAuth tokens
        and personal access tokens (classic) need the `repo` scope to use this
        endpoint.
    paths:
      /repos/{owner}/{repo}/actions/jobs/{job_id}/logs:
        get:
          summary: Download Job Logs For A Workflow Run
          description: >-
            Gets a redirect URL to download a plain text file of logs for a workflow
            job. This link expires after 1 minute. Lookfor `Location:` in the
            response header to find the URL for the download.Anyone with read access
            to the repository can use this endpoint.If the repository is private,
            OAuth tokens and personal access tokens (classic) need the `repo` scope
            to use this endpoint.
          operationId: actionsdownloadjoblogsforworkflowrun
          responses:
            '302':
              description: Response
              headers:
                Location:
                  example: >-
                    https://pipelines.actions.githubusercontent.com/ab1f3cCFPB34Nd6imvFxpGZH5hNlDp2wijMwl2gDoO0bcrrlJj/_apis/pipelines/1/jobs/19/signedlogcontent?urlExpires=2020-01-22T22%3A44%3A54.1389777Z&urlSigningMethod=HMACV1&urlSignature=2TUDfIg4fm36OJmfPy6km5QD5DLCOkBVzvhWZM8B%2BUY%3D
                  schema:
                    type: string
