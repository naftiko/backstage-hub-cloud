apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Search Code
  description: >-
    Searches for query terms inside of a file. This method returns up to 100
    results [per
    page](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api).When
    searching for code, you can get text match metadata for the file **content**
    and file **path** fields when you pass the `text-match` media type. For more
    details about how to receive highlighted search results, see [Text match
    metadata](https://docs.github.com/enterprise-server@3.9/rest/search/search#text-match-metadata).For
    example, if you want to find the definition of the `addClass` function
    inside [jQuery](https://github.com/jquery/jquery) repository, your query
    would look something like
    this:`q=addClass+in:file+language:js+repo:jquery/jquery`This query searches
    for the keyword `addClass` within a file's contents. The query limits the
    search to files where the language is JavaScript in the `jquery/jquery`
    repository.Considerations for code search:Due to the complexity of searching
    code, there are a few restrictions on how searches are performed:*   Only
    the _default branch_ is considered. In most cases, this will be the `master`
    branch.*   Only files smaller than 384 KB are searchable.*   You must always
    include at least one search term when searching source code. For example,
    searching for
    [`language:go`](https://github.com/search?utf8=%E2%9C%93&q=language%3Ago&type=Code)
    is not valid, while
    [`amazinglanguage:go`](https://github.com/search?utf8=%E2%9C%93&q=amazing+language%3Ago&type=Code)
    is.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Search Code
      description: >-
        Searches for query terms inside of a file. This method returns up to 100
        results [per
        page](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api).When
        searching for code, you can get text match metadata for the file **content**
        and file **path** fields when you pass the `text-match` media type. For more
        details about how to receive highlighted search results, see [Text match
        metadata](https://docs.github.com/enterprise-server@3.9/rest/search/search#text-match-metadata).For
        example, if you want to find the definition of the `addClass` function
        inside [jQuery](https://github.com/jquery/jquery) repository, your query
        would look something like
        this:`q=addClass+in:file+language:js+repo:jquery/jquery`This query searches
        for the keyword `addClass` within a file's contents. The query limits the
        search to files where the language is JavaScript in the `jquery/jquery`
        repository.Considerations for code search:Due to the complexity of searching
        code, there are a few restrictions on how searches are performed:*   Only
        the _default branch_ is considered. In most cases, this will be the `master`
        branch.*   Only files smaller than 384 KB are searchable.*   You must always
        include at least one search term when searching source code. For example,
        searching for
        [`language:go`](https://github.com/search?utf8=%E2%9C%93&q=language%3Ago&type=Code)
        is not valid, while
        [`amazinglanguage:go`](https://github.com/search?utf8=%E2%9C%93&q=amazing+language%3Ago&type=Code)
        is.
    paths:
      /search/code:
        get:
          summary: Search Code
          description: >-
            Searches for query terms inside of a file. This method returns up to 100
            results [per
            page](https://docs.github.com/enterprise-server@3.9/rest/guides/using-pagination-in-the-rest-api).When
            searching for code, you can get text match metadata for the file
            **content** and file **path** fields when you pass the `text-match`
            media type. For more details about how to receive highlighted search
            results, see [Text match
            metadata](https://docs.github.com/enterprise-server@3.9/rest/search/search#text-match-metadata).For
            example, if you want to find the definition of the `addClass` function
            inside [jQuery](https://github.com/jquery/jquery) repository, your query
            would look something like
            this:`q=addClass+in:file+language:js+repo:jquery/jquery`This query
            searches for the keyword `addClass` within a file's contents. The query
            limits the search to files where the language is JavaScript in the
            `jquery/jquery` repository.Considerations for code search:Due to the
            complexity of searching code, there are a few restrictions on how
            searches are performed:*   Only the _default branch_ is considered. In
            most cases, this will be the `master` branch.*   Only files smaller than
            384 KB are searchable.*   You must always include at least one search
            term when searching source code. For example, searching for
            [`language:go`](https://github.com/search?utf8=%E2%9C%93&q=language%3Ago&type=Code)
            is not valid, while
            [`amazinglanguage:go`](https://github.com/search?utf8=%E2%9C%93&q=amazing+language%3Ago&type=Code)
            is.
          operationId: searchcode
          responses:
            '503':
              $ref: '#/components/responses/service_unavailable'
