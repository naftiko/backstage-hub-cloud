apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Remove A Repository Collaborator
  description: >-
    Removes a collaborator from a repository.To use this endpoint, the
    authenticated user must either be an administrator of the repository or
    target themselves for removal.This endpoint also:- Cancels any outstanding
    invitations- Unasigns the user from any issues- Removes access to
    organization projects if the user is not an organization member and is not a
    collaborator on any other organization repositories.- Unstars the
    repository- Updates access permissions to packagesRemoving a user as a
    collaborator has the following effects on forks: - If the user had access to
    a fork through their membership to this repository, the user will also be
    removed from the fork. - If the user had their own fork of the repository,
    the fork will be deleted. - If the user still has read access to the
    repository, open pull requests by this user from a fork will be
    denied.**Note**: A user can still have access to the repository through
    organization permissions like base repository permissions.Although the API
    responds immediately, the additional permission updates might take some
    extra time to complete in the background.For more information on fork
    permissions, see "[About permissions and visibility of
    forks](https://docs.github.com/enterprise-server@3.9/pull-requests/collaborating-with-pull-requests/working-with-forks/about-permissions-and-visibility-of-forks)".
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Remove A Repository Collaborator
      description: >-
        Removes a collaborator from a repository.To use this endpoint, the
        authenticated user must either be an administrator of the repository or
        target themselves for removal.This endpoint also:- Cancels any outstanding
        invitations- Unasigns the user from any issues- Removes access to
        organization projects if the user is not an organization member and is not a
        collaborator on any other organization repositories.- Unstars the
        repository- Updates access permissions to packagesRemoving a user as a
        collaborator has the following effects on forks: - If the user had access to
        a fork through their membership to this repository, the user will also be
        removed from the fork. - If the user had their own fork of the repository,
        the fork will be deleted. - If the user still has read access to the
        repository, open pull requests by this user from a fork will be
        denied.**Note**: A user can still have access to the repository through
        organization permissions like base repository permissions.Although the API
        responds immediately, the additional permission updates might take some
        extra time to complete in the background.For more information on fork
        permissions, see "[About permissions and visibility of
        forks](https://docs.github.com/enterprise-server@3.9/pull-requests/collaborating-with-pull-requests/working-with-forks/about-permissions-and-visibility-of-forks)".
    paths:
      /repos/{owner}/{repo}/collaborators/{username}:
        delete:
          summary: Remove A Repository Collaborator
          description: >-
            Removes a collaborator from a repository.To use this endpoint, the
            authenticated user must either be an administrator of the repository or
            target themselves for removal.This endpoint also:- Cancels any
            outstanding invitations- Unasigns the user from any issues- Removes
            access to organization projects if the user is not an organization
            member and is not a collaborator on any other organization
            repositories.- Unstars the repository- Updates access permissions to
            packagesRemoving a user as a collaborator has the following effects on
            forks: - If the user had access to a fork through their membership to
            this repository, the user will also be removed from the fork. - If the
            user had their own fork of the repository, the fork will be deleted. -
            If the user still has read access to the repository, open pull requests
            by this user from a fork will be denied.**Note**: A user can still have
            access to the repository through organization permissions like base
            repository permissions.Although the API responds immediately, the
            additional permission updates might take some extra time to complete in
            the background.For more information on fork permissions, see "[About
            permissions and visibility of
            forks](https://docs.github.com/enterprise-server@3.9/pull-requests/collaborating-with-pull-requests/working-with-forks/about-permissions-and-visibility-of-forks)".
          operationId: removeARepositoryCollaborator
          responses:
            '422':
              $ref: '#/components/responses/validation_failed'
