apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Delete An App Authorization
  description: >-
    OAuth and GitHub application owners can revoke a grant for their application
    and a specific user. You must use [Basic
    Authentication](https://docs.github.com/enterprise-server@3.9/rest/overview/other-authentication-methods#basic-authentication)
    when accessing this endpoint, using the OAuth application's `client_id` and
    `client_secret` as the username and password. You must also provide a valid
    OAuth `access_token` as an input parameter and the grant for the token's
    owner will be deleted.Deleting an application's grant will also delete all
    OAuth tokens associated with the application for the user. Once deleted, the
    application will have no access to the user's account and will no longer be
    listed on [the application authorizations settings screen within
    GitHub](https://github.com/settings/applications#authorized).
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Delete An App Authorization
      description: >-
        OAuth and GitHub application owners can revoke a grant for their application
        and a specific user. You must use [Basic
        Authentication](https://docs.github.com/enterprise-server@3.9/rest/overview/other-authentication-methods#basic-authentication)
        when accessing this endpoint, using the OAuth application's `client_id` and
        `client_secret` as the username and password. You must also provide a valid
        OAuth `access_token` as an input parameter and the grant for the token's
        owner will be deleted.Deleting an application's grant will also delete all
        OAuth tokens associated with the application for the user. Once deleted, the
        application will have no access to the user's account and will no longer be
        listed on [the application authorizations settings screen within
        GitHub](https://github.com/settings/applications#authorized).
    paths:
      /applications/{client_id}/grant:
        delete:
          summary: Delete An App Authorization
          description: >-
            OAuth and GitHub application owners can revoke a grant for their
            application and a specific user. You must use [Basic
            Authentication](https://docs.github.com/enterprise-server@3.9/rest/overview/other-authentication-methods#basic-authentication)
            when accessing this endpoint, using the OAuth application's `client_id`
            and `client_secret` as the username and password. You must also provide
            a valid OAuth `access_token` as an input parameter and the grant for the
            token's owner will be deleted.Deleting an application's grant will also
            delete all OAuth tokens associated with the application for the user.
            Once deleted, the application will have no access to the user's account
            and will no longer be listed on [the application authorizations settings
            screen within
            GitHub](https://github.com/settings/applications#authorized).
          operationId: appsdeleteauthorization
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    access_token:
                      type: string
                      description: >-
                        The OAuth access token used to authenticate to the GitHub
                        API.
                  required:
                    - access_token
                examples:
                  default:
                    value:
                      access_token: e72e16c7e42f292c6912e7710c838347ae178b4a
          responses:
            '422':
              $ref: '#/components/responses/validation_failed'
