apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Get An Environment Public Key
  description: >-
    Get the public key for an environment, which you need to encrypt
    environmentsecrets. You need to encrypt a secret before you can create or
    update secrets.Anyone with read access to the repository can use this
    endpoint.If the repository is private, OAuth tokens and personal access
    tokens (classic) need the `repo` scope to use this endpoint.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Get An Environment Public Key
      description: >-
        Get the public key for an environment, which you need to encrypt
        environmentsecrets. You need to encrypt a secret before you can create or
        update secrets.Anyone with read access to the repository can use this
        endpoint.If the repository is private, OAuth tokens and personal access
        tokens (classic) need the `repo` scope to use this endpoint.
    paths:
      /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key:
        get:
          summary: Get An Environment Public Key
          description: >-
            Get the public key for an environment, which you need to encrypt
            environmentsecrets. You need to encrypt a secret before you can create
            or update secrets.Anyone with read access to the repository can use this
            endpoint.If the repository is private, OAuth tokens and personal access
            tokens (classic) need the `repo` scope to use this endpoint.
          operationId: getAnEnvironmentPublicKey
          responses:
            '200':
              description: Response
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/actions-public-key'
                  examples:
                    default:
                      $ref: '#/components/examples/actions-public-key'
