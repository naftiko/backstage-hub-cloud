apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Add Or Update Team Membership For A User
  description: >-
    Adds an organization member to a team. An authenticated organization owner
    or team maintainer can add organization members to a team.Team
    synchronization is available for organizations using GitHub Enterprise
    Cloud. For more information, see [GitHub's
    products](https://docs.github.com/enterprise-server@3.9/github/getting-started-with-github/githubs-products)
    in the GitHub Help documentation.**Note:** When you have team
    synchronization set up for a team with your organization's identity provider
    (IdP), you will see an error if you attempt to use the API for making
    changes to the team's membership. If you have access to manage group
    membership in your IdP, you can manage GitHub Enterprise Server team
    membership through your identity provider, which automatically adds and
    removes team members in an organization. For more information, see
    "[Synchronizing teams between your identity provider and GitHub Enterprise
    Server](https://docs.github.com/enterprise-server@3.9/articles/synchronizing-teams-between-your-identity-provider-and-github/)."An
    organization owner can add someone who is not part of the team's
    organization to a team. When an organization owner adds someone to a team
    who is not an organization member, this endpoint will send an invitation to
    the person via email. This newly-created membership will be in the "pending"
    state until the person accepts the invitation, at which point the membership
    will transition to the "active" state and the user will be added as a member
    of the team.If the user is already a member of the team, this endpoint will
    update the role of the team member's role. To update the membership of a
    team member, the authenticated user must be an organization owner or a team
    maintainer.**Note:** You can also specify a team by `org_id` and `team_id`
    using the route `PUT
    /organizations/{org_id}/team/{team_id}/memberships/{username}`.
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Add Or Update Team Membership For A User
      description: >-
        Adds an organization member to a team. An authenticated organization owner
        or team maintainer can add organization members to a team.Team
        synchronization is available for organizations using GitHub Enterprise
        Cloud. For more information, see [GitHub's
        products](https://docs.github.com/enterprise-server@3.9/github/getting-started-with-github/githubs-products)
        in the GitHub Help documentation.**Note:** When you have team
        synchronization set up for a team with your organization's identity provider
        (IdP), you will see an error if you attempt to use the API for making
        changes to the team's membership. If you have access to manage group
        membership in your IdP, you can manage GitHub Enterprise Server team
        membership through your identity provider, which automatically adds and
        removes team members in an organization. For more information, see
        "[Synchronizing teams between your identity provider and GitHub Enterprise
        Server](https://docs.github.com/enterprise-server@3.9/articles/synchronizing-teams-between-your-identity-provider-and-github/)."An
        organization owner can add someone who is not part of the team's
        organization to a team. When an organization owner adds someone to a team
        who is not an organization member, this endpoint will send an invitation to
        the person via email. This newly-created membership will be in the "pending"
        state until the person accepts the invitation, at which point the membership
        will transition to the "active" state and the user will be added as a member
        of the team.If the user is already a member of the team, this endpoint will
        update the role of the team member's role. To update the membership of a
        team member, the authenticated user must be an organization owner or a team
        maintainer.**Note:** You can also specify a team by `org_id` and `team_id`
        using the route `PUT
        /organizations/{org_id}/team/{team_id}/memberships/{username}`.
    paths:
      /orgs/{org}/teams/{team_slug}/memberships/{username}:
        put:
          summary: Add Or Update Team Membership For A User
          description: >-
            Adds an organization member to a team. An authenticated organization
            owner or team maintainer can add organization members to a team.Team
            synchronization is available for organizations using GitHub Enterprise
            Cloud. For more information, see [GitHub's
            products](https://docs.github.com/enterprise-server@3.9/github/getting-started-with-github/githubs-products)
            in the GitHub Help documentation.**Note:** When you have team
            synchronization set up for a team with your organization's identity
            provider (IdP), you will see an error if you attempt to use the API for
            making changes to the team's membership. If you have access to manage
            group membership in your IdP, you can manage GitHub Enterprise Server
            team membership through your identity provider, which automatically adds
            and removes team members in an organization. For more information, see
            "[Synchronizing teams between your identity provider and GitHub
            Enterprise
            Server](https://docs.github.com/enterprise-server@3.9/articles/synchronizing-teams-between-your-identity-provider-and-github/)."An
            organization owner can add someone who is not part of the team's
            organization to a team. When an organization owner adds someone to a
            team who is not an organization member, this endpoint will send an
            invitation to the person via email. This newly-created membership will
            be in the "pending" state until the person accepts the invitation, at
            which point the membership will transition to the "active" state and the
            user will be added as a member of the team.If the user is already a
            member of the team, this endpoint will update the role of the team
            member's role. To update the membership of a team member, the
            authenticated user must be an organization owner or a team
            maintainer.**Note:** You can also specify a team by `org_id` and
            `team_id` using the route `PUT
            /organizations/{org_id}/team/{team_id}/memberships/{username}`.
          operationId: teamsaddorupdatemembershipforuserinorg
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    role:
                      type: string
                      description: The role that this user should have in the team.
                      enum:
                        - member
                        - maintainer
                      default: member
                examples:
                  default:
                    summary: Add or update team membership for an organization member
                    value:
                      role: maintainer
          responses:
            '422':
              description: Unprocessable Entity if you attempt to add an organization to a team
