apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: Set Settings
  description: >-
    Applies settings on your instance. For a list of the available settings, see
    the [Get settings
    endpoint](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/management-console#get-settings).**Notes:**-
    The request body for this operation must be submitted as
    `application/x-www-form-urlencoded` data. You can submit a parameter value
    as a string, or you can use a tool such as `curl` to submit a parameter
    value as the contents of a text file. For more information, see the [`curl`
    documentation](https://curl.se/docs/manpage.html#--data-urlencode).- You
    cannot set the management console password with the Enterprise
    administration API. Use the `ghe-set-password` utility to change the
    management console password. For more information, see "[Command-line
    utilities](https://docs.github.com/enterprise-server@3.9/admin/configuration/configuring-your-enterprise/command-line-utilities#ghe-set-password)."
  tags: []
  links:
    - title: Link
      icon: code
      url: https://example.com
spec:
  type: openapi
  lifecycle: experimental
  owner: team-c
  definition: |
    openapi: 3.1.0
    info:
      title: Set Settings
      description: >-
        Applies settings on your instance. For a list of the available settings, see
        the [Get settings
        endpoint](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/management-console#get-settings).**Notes:**-
        The request body for this operation must be submitted as
        `application/x-www-form-urlencoded` data. You can submit a parameter value
        as a string, or you can use a tool such as `curl` to submit a parameter
        value as the contents of a text file. For more information, see the [`curl`
        documentation](https://curl.se/docs/manpage.html#--data-urlencode).- You
        cannot set the management console password with the Enterprise
        administration API. Use the `ghe-set-password` utility to change the
        management console password. For more information, see "[Command-line
        utilities](https://docs.github.com/enterprise-server@3.9/admin/configuration/configuring-your-enterprise/command-line-utilities#ghe-set-password)."
    paths:
      /setup/api/settings:
        put:
          summary: Set Settings
          description: >-
            Applies settings on your instance. For a list of the available settings,
            see the [Get settings
            endpoint](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/management-console#get-settings).**Notes:**-
            The request body for this operation must be submitted as
            `application/x-www-form-urlencoded` data. You can submit a parameter
            value as a string, or you can use a tool such as `curl` to submit a
            parameter value as the contents of a text file. For more information,
            see the [`curl`
            documentation](https://curl.se/docs/manpage.html#--data-urlencode).- You
            cannot set the management console password with the Enterprise
            administration API. Use the `ghe-set-password` utility to change the
            management console password. For more information, see "[Command-line
            utilities](https://docs.github.com/enterprise-server@3.9/admin/configuration/configuring-your-enterprise/command-line-utilities#ghe-set-password)."
          operationId: enterpriseadminsetsettings
          requestBody:
            required: true
            content:
              application/x-www-form-urlencoded:
                schema:
                  type: object
                  properties:
                    settings:
                      type: string
                      description: >-
                        A JSON string with the new settings. Note that you only need
                        to pass the specific settings you want to modify. For a list
                        of the available settings, see the [Get settings
                        endpoint](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/management-console#get-settings).
                  required:
                    - settings
                examples:
                  '204':
                    value:
                      settings: '{ "enterprise": { "public_pages": true }}'
          responses:
            '401':
              description: Unauthorized
